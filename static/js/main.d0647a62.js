/*! For license information please see main.d0647a62.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=s(e,i(n)))}return e}function i(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return o.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=s(t,n));return t}function s(e,t){return t?e?e+" "+t:e+t:e}e.exports?(o.default=o,e.exports=o):void 0===(n=function(){return o}.apply(t,[]))||(e.exports=n)}()},153:(e,t,n)=>{"use strict";var r=n(43),o=Symbol.for("react.element"),i=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(e,t,n){var r,i={},u=null,c=null;for(r in void 0!==n&&(u=""+n),void 0!==t.key&&(u=""+t.key),void 0!==t.ref&&(c=t.ref),t)s.call(t,r)&&!l.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:o,type:e,key:u,ref:c,props:i,_owner:a.current}}t.Fragment=i,t.jsx=u,t.jsxs=u},173:(e,t,n)=>{e.exports=n(497)()},197:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,i.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var o=null;return t.forEach((function(e){if(null==o){var t=e.apply(void 0,n);null!=t&&(o=t)}})),o}))};var r,o=n(534),i=(r=o)&&r.__esModule?r:{default:r};e.exports=t.default},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;var h={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}function v(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||h}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=b.prototype=new v;w.constructor=b,m(w,y.prototype),w.isPureReactComponent=!0;var _=Array.isArray,x=Object.prototype.hasOwnProperty,C={current:null},E={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var o,i={},s=null,a=null;if(null!=t)for(o in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)x.call(t,o)&&!E.hasOwnProperty(o)&&(i[o]=t[o]);var l=arguments.length-2;if(1===l)i.children=r;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];i.children=u}if(e&&e.defaultProps)for(o in l=e.defaultProps)void 0===i[o]&&(i[o]=l[o]);return{$$typeof:n,type:e,key:s,ref:a,props:i,_owner:C.current}}function k(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function O(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,o,i,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l=!1;if(null===e)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return s=s(l=e),e=""===i?"."+O(l,0):i,_(s)?(o="",null!=e&&(o=e.replace(T,"$&/")+"/"),A(s,t,o,"",(function(e){return e}))):null!=s&&(k(s)&&(s=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,o+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(l=0,i=""===i?".":i+":",_(e))for(var u=0;u<e.length;u++){var c=i+O(a=e[u],u);l+=A(a,t,o,c,s)}else if(c=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof c)for(e=c.call(e),u=0;!(a=e.next()).done;)l+=A(a=a.value,t,o,c=i+O(a,u++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],o=0;return A(e,r,"","",(function(e){return t.call(n,e,o++)})),r}function N(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},P={transition:null},j={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:P,ReactCurrentOwner:C};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!k(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=o,t.Profiler=s,t.PureComponent=b,t.StrictMode=i,t.Suspense=c,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=j,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var o=m({},e.props),i=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=C.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(u in t)x.call(t,u)&&!E.hasOwnProperty(u)&&(o[u]=void 0===t[u]&&void 0!==l?l[u]:t[u])}var u=arguments.length-2;if(1===u)o.children=r;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];o.children=l}return{$$typeof:n,type:e.type,key:i,ref:s,props:o,_owner:a}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=k,t.lazy=function(e){return{$$typeof:f,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=P.transition;P.transition={};try{e()}finally{P.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,o=e[r];if(!(0<i(o,t)))break e;e[r]=t,e[n]=o,n=r}}function r(e){return 0===e.length?null:e[0]}function o(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,o=e.length,s=o>>>1;r<s;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>i(l,n))u<o&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<o&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var u=[],c=[],d=1,f=null,p=3,h=!1,m=!1,g=!1,y="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(c);null!==t;){if(null===t.callback)o(c);else{if(!(t.startTime<=e))break;o(c),t.sortIndex=t.expirationTime,n(u,t)}t=r(c)}}function _(e){if(g=!1,w(e),!m)if(null!==r(u))m=!0,P(x);else{var t=r(c);null!==t&&j(_,t.startTime-e)}}function x(e,n){m=!1,g&&(g=!1,v(k),k=-1),h=!0;var i=p;try{for(w(n),f=r(u);null!==f&&(!(f.expirationTime>n)||e&&!A());){var s=f.callback;if("function"===typeof s){f.callback=null,p=f.priorityLevel;var a=s(f.expirationTime<=n);n=t.unstable_now(),"function"===typeof a?f.callback=a:f===r(u)&&o(u),w(n)}else o(u);f=r(u)}if(null!==f)var l=!0;else{var d=r(c);null!==d&&j(_,d.startTime-n),l=!1}return l}finally{f=null,p=i,h=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var C,E=!1,S=null,k=-1,T=5,O=-1;function A(){return!(t.unstable_now()-O<T)}function I(){if(null!==S){var e=t.unstable_now();O=e;var n=!0;try{n=S(!0,e)}finally{n?C():(E=!1,S=null)}}else E=!1}if("function"===typeof b)C=function(){b(I)};else if("undefined"!==typeof MessageChannel){var N=new MessageChannel,R=N.port2;N.port1.onmessage=I,C=function(){R.postMessage(null)}}else C=function(){y(I,0)};function P(e){S=e,E||(E=!0,C())}function j(e,n){k=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,P(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,o,i){var s=t.unstable_now();switch("object"===typeof i&&null!==i?i="number"===typeof(i=i.delay)&&0<i?s+i:s:i=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:o,priorityLevel:e,startTime:i,expirationTime:a=i+a,sortIndex:-1},i>s?(e.sortIndex=i,n(c,e),null===r(u)&&e===r(c)&&(g?(v(k),k=-1):g=!0,j(_,i-s))):(e.sortIndex=a,n(u,e),m||h||(m=!0,P(x))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},440:e=>{"use strict";var t=function(){};e.exports=t},497:(e,t,n)=>{"use strict";var r=n(218);function o(){}function i(){}i.resetWarningCache=o,e.exports=function(){function e(e,t,n,o,i,s){if(s!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:i,resetWarningCache:o};return n.PropTypes=n,n}},534:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,o,i,s){var a=o||"<<anonymous>>",l=s||r;if(null==n[r])return t?new Error("Required "+i+" `"+l+"` was not specified in `"+a+"`."):null;for(var u=arguments.length,c=Array(u>6?u-6:0),d=6;d<u;d++)c[d-6]=arguments[d];return e.apply(void 0,[n,r,a,i,l].concat(c))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},579:(e,t,n)=>{"use strict";e.exports=n(153)},730:(e,t,n)=>{"use strict";var r=n(43),o=n(853);function i(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function l(e,t){u(e,t),u(e+"Capture",t)}function u(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,f=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},h={};function m(e,t,n,r,o,i,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function b(e,t,n,r){var o=g.hasOwnProperty(t)?g[t]:null;(null!==o?0!==o.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,o,r)&&(n=null),r||null===o?function(e){return!!d.call(h,e)||!d.call(p,e)&&(f.test(e)?h[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):o.mustUseProperty?e[o.propertyName]=null===n?3!==o.type&&"":n:(t=o.attributeName,r=o.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(o=o.type)||4===o&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,v);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),x=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),k=Symbol.for("react.provider"),T=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var P=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var j=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=j&&e[j]||e["@@iterator"])?e:null}var M,L=Object.assign;function U(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var F=!1;function $(e,t){if(!e||F)return"";F=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var o=u.stack.split("\n"),i=r.stack.split("\n"),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(1!==s||1!==a)do{if(s--,0>--a||o[s]!==i[a]){var l="\n"+o[s].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=s&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?U(e):""}function B(e){switch(e.tag){case 5:return U(e.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return e=$(e.type,!1);case 11:return e=$(e.type.render,!1);case 1:return e=$(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case C:return"Fragment";case x:return"Portal";case S:return"Profiler";case E:return"StrictMode";case A:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case k:return(e._context.displayName||"Context")+".Provider";case O:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case N:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return q(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===E?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function z(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=z(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var o=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(e){r=""+e,i.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=z(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function J(e,t){var n=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=V(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Z(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Z(e,t);var n=V(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Q(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&r&&(e[n].defaultSelected=!0)}else{for(n=""+V(n),t=null,o=0;o<e.length;o++){if(e[o].value===n)return e[o].selected=!0,void(r&&(e[o].defaultSelected=!0));null!==t||e[o].disabled||(t=e[o])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(i(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function oe(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(i(92));if(te(n)){if(1<n.length)throw Error(i(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:V(n)}}function ie(e,t){var n=V(t.value),r=V(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ue,ce,de=(ce=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ue=ue||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ue.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ce(e,t)}))}:ce);function fe(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},he=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),o=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,o):e[n]=o}}Object.keys(pe).forEach((function(e){he.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ye=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(i(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(i(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(i(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(i(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,Ce=null,Ee=null;function Se(e){if(e=wo(e)){if("function"!==typeof xe)throw Error(i(280));var t=e.stateNode;t&&(t=xo(t),xe(e.stateNode,e.type,t))}}function ke(e){Ce?Ee?Ee.push(e):Ee=[e]:Ce=e}function Te(){if(Ce){var e=Ce,t=Ee;if(Ee=Ce=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Oe(e,t){return e(t)}function Ae(){}var Ie=!1;function Ne(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Oe(e,t,n)}finally{Ie=!1,(null!==Ce||null!==Ee)&&(Ae(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=xo(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(i(231,t,typeof n));return n}var Pe=!1;if(c)try{var je={};Object.defineProperty(je,"passive",{get:function(){Pe=!0}}),window.addEventListener("test",je,je),window.removeEventListener("test",je,je)}catch(ce){Pe=!1}function De(e,t,n,r,o,i,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(c){this.onError(c)}}var Me=!1,Le=null,Ue=!1,Fe=null,$e={onError:function(e){Me=!0,Le=e}};function Be(e,t,n,r,o,i,s,a,l){Me=!1,Le=null,De.apply($e,arguments)}function qe(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ve(e){if(qe(e)!==e)throw Error(i(188))}function ze(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(i(188));return t!==e?null:e}for(var n=e,r=t;;){var o=n.return;if(null===o)break;var s=o.alternate;if(null===s){if(null!==(r=o.return)){n=r;continue}break}if(o.child===s.child){for(s=o.child;s;){if(s===n)return Ve(o),e;if(s===r)return Ve(o),t;s=s.sibling}throw Error(i(188))}if(n.return!==r.return)n=o,r=s;else{for(var a=!1,l=o.child;l;){if(l===n){a=!0,n=o,r=s;break}if(l===r){a=!0,r=o,n=s;break}l=l.sibling}if(!a){for(l=s.child;l;){if(l===n){a=!0,n=s,r=o;break}if(l===r){a=!0,r=s,n=o;break}l=l.sibling}if(!a)throw Error(i(189))}}if(n.alternate!==r)throw Error(i(190))}if(3!==n.tag)throw Error(i(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=o.unstable_scheduleCallback,Ke=o.unstable_cancelCallback,Je=o.unstable_shouldYield,Ye=o.unstable_requestPaint,Ze=o.unstable_now,Xe=o.unstable_getCurrentPriorityLevel,Qe=o.unstable_ImmediatePriority,et=o.unstable_UserBlockingPriority,tt=o.unstable_NormalPriority,nt=o.unstable_LowPriority,rt=o.unstable_IdlePriority,ot=null,it=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/lt|0)|0},at=Math.log,lt=Math.LN2;var ut=64,ct=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ft(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,o=e.suspendedLanes,i=e.pingedLanes,s=268435455&n;if(0!==s){var a=s&~o;0!==a?r=dt(a):0!==(i&=s)&&(r=dt(i))}else 0!==(s=n&~o)?r=dt(s):0!==i&&(r=dt(i));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(i=t&-t)||16===o&&0!==(4194240&i)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)o=1<<(n=31-st(t)),r|=e[n],t&=~o;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ht(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ut;return 0===(4194240&(ut<<=1))&&(ut=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-st(n),o=1<<r;o&t|e[r]&t&&(e[r]|=t),n&=~o}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,xt,Ct,Et,St,kt=!1,Tt=[],Ot=null,At=null,It=null,Nt=new Map,Rt=new Map,Pt=[],jt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":Nt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,o,i){return null===e||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},null!==t&&(null!==(t=wo(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==o&&-1===t.indexOf(o)&&t.push(o),e)}function Lt(e){var t=bo(e.target);if(null!==t){var n=qe(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void St(e.priority,(function(){Ct(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ut(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=wo(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ft(e,t,n){Ut(e)&&n.delete(t)}function $t(){kt=!1,null!==Ot&&Ut(Ot)&&(Ot=null),null!==At&&Ut(At)&&(At=null),null!==It&&Ut(It)&&(It=null),Nt.forEach(Ft),Rt.forEach(Ft)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,kt||(kt=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,$t)))}function qt(e){function t(t){return Bt(t,e)}if(0<Tt.length){Bt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ot&&Bt(Ot,e),null!==At&&Bt(At,e),null!==It&&Bt(It,e),Nt.forEach(t),Rt.forEach(t),n=0;n<Pt.length;n++)(r=Pt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Pt.length&&null===(n=Pt[0]).blockedOn;)Lt(n),null===n.blockedOn&&Pt.shift()}var Ht=w.ReactCurrentBatchConfig,Vt=!0;function zt(e,t,n,r){var o=bt,i=Ht.transition;Ht.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=o,Ht.transition=i}}function Wt(e,t,n,r){var o=bt,i=Ht.transition;Ht.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=o,Ht.transition=i}}function Gt(e,t,n,r){if(Vt){var o=Jt(e,t,n,r);if(null===o)Vr(e,t,r,Kt,n),Dt(e,r);else if(function(e,t,n,r,o){switch(t){case"focusin":return Ot=Mt(Ot,e,t,n,r,o),!0;case"dragenter":return At=Mt(At,e,t,n,r,o),!0;case"mouseover":return It=Mt(It,e,t,n,r,o),!0;case"pointerover":var i=o.pointerId;return Nt.set(i,Mt(Nt.get(i)||null,e,t,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Rt.set(i,Mt(Rt.get(i)||null,e,t,n,r,o)),!0}return!1}(o,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<jt.indexOf(e)){for(;null!==o;){var i=wo(o);if(null!==i&&_t(i),null===(i=Jt(e,t,n,r))&&Vr(e,t,r,Kt,n),i===o)break;o=i}null!==o&&r.stopPropagation()}else Vr(e,t,r,null,n)}}var Kt=null;function Jt(e,t,n,r){if(Kt=null,null!==(e=bo(e=_e(r))))if(null===(t=qe(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Qe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Zt=null,Xt=null,Qt=null;function en(){if(Qt)return Qt;var e,t,n=Xt,r=n.length,o="value"in Zt?Zt.value:Zt.textContent,i=o.length;for(e=0;e<r&&n[e]===o[e];e++);var s=r-e;for(t=1;t<=s&&n[r-t]===o[i-t];t++);return Qt=o.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function on(e){function t(t,n,r,o,i){for(var s in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=o,this.target=i,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(o):o[s]);return this.isDefaultPrevented=(null!=o.defaultPrevented?o.defaultPrevented:!1===o.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,an,ln,un={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cn=on(un),dn=L({},un,{view:0,detail:0}),fn=on(dn),pn=L({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(sn=e.screenX-ln.screenX,an=e.screenY-ln.screenY):an=sn=0,ln=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:an}}),hn=on(pn),mn=on(L({},pn,{dataTransfer:0})),gn=on(L({},dn,{relatedTarget:0})),yn=on(L({},un,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=L({},un,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=on(vn),wn=on(L({},un,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function En(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Cn[e])&&!!t[e]}function Sn(){return En}var kn=L({},dn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=on(kn),On=on(L({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),An=on(L({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),In=on(L({},un,{propertyName:0,elapsedTime:0,pseudoElement:0})),Nn=L({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=on(Nn),Pn=[9,13,27,32],jn=c&&"CompositionEvent"in window,Dn=null;c&&"documentMode"in document&&(Dn=document.documentMode);var Mn=c&&"TextEvent"in window&&!Dn,Ln=c&&(!jn||Dn&&8<Dn&&11>=Dn),Un=String.fromCharCode(32),Fn=!1;function $n(e,t){switch(e){case"keyup":return-1!==Pn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var qn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function zn(e,t,n,r){ke(r),0<(t=Wr(t,"onChange")).length&&(n=new cn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Kn(e){Ur(e,0)}function Jn(e){if(G(_o(e)))return e}function Yn(e,t){if("change"===e)return t}var Zn=!1;if(c){var Xn;if(c){var Qn="oninput"in document;if(!Qn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Qn="function"===typeof er.oninput}Xn=Qn}else Xn=!1;Zn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Jn(Gn)){var t=[];zn(t,Gn,e,_e(e)),Ne(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Jn(Gn)}function ir(e,t){if("click"===e)return Jn(t)}function sr(e,t){if("input"===e||"change"===e)return Jn(t)}var ar="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(ar(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!d.call(t,o)||!ar(e[o],t[o]))return!1}return!0}function ur(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function cr(e,t){var n,r=ur(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ur(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function fr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function hr(e){var t=fr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=void 0===r.end?i:Math.min(r.end,o),!e.extend&&i>r&&(o=r,r=i,i=o),o=cr(n,i);var s=cr(n,r);o&&s&&(1!==e.rangeCount||e.anchorNode!==o.node||e.anchorOffset!==o.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(o.node,o.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=c&&"documentMode"in document&&11>=document.documentMode,gr=null,yr=null,vr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&lr(vr,r)||(vr=r,0<(r=Wr(yr,"onSelect")).length&&(t=new cn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Cr={},Er={};function Sr(e){if(Cr[e])return Cr[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Er)return Cr[e]=n[t];return e}c&&(Er=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var kr=Sr("animationend"),Tr=Sr("animationiteration"),Or=Sr("animationstart"),Ar=Sr("transitionend"),Ir=new Map,Nr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ir.set(e,t),l(t,[e])}for(var Pr=0;Pr<Nr.length;Pr++){var jr=Nr[Pr];Rr(jr.toLowerCase(),"on"+(jr[0].toUpperCase()+jr.slice(1)))}Rr(kr,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Or,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Ar,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Lr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,o,s,a,l,u){if(Be.apply(this,arguments),Me){if(!Me)throw Error(i(198));var c=Le;Me=!1,Le=null,Ue||(Ue=!0,Fe=c)}}(r,t,void 0,e),e.currentTarget=null}function Ur(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],o=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Lr(o,a,u),i=l}else for(s=0;s<r.length;s++){if(l=(a=r[s]).instance,u=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Lr(o,a,u),i=l}}}if(Ue)throw e=Fe,Ue=!1,Fe=null,e}function Fr(e,t){var n=t[go];void 0===n&&(n=t[go]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function $r(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function qr(e){if(!e[Br]){e[Br]=!0,s.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||$r(t,!1,e),$r(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,$r("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Yt(t)){case 1:var o=zt;break;case 4:o=Wt;break;default:o=Gt}n=o.bind(null,t,n,e),o=void 0,!Pe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(o=!0),r?void 0!==o?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):void 0!==o?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function Vr(e,t,n,r,o){var i=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var s=r.tag;if(3===s||4===s){var a=r.stateNode.containerInfo;if(a===o||8===a.nodeType&&a.parentNode===o)break;if(4===s)for(s=r.return;null!==s;){var l=s.tag;if((3===l||4===l)&&((l=s.stateNode.containerInfo)===o||8===l.nodeType&&l.parentNode===o))return;s=s.return}for(;null!==a;){if(null===(s=bo(a)))return;if(5===(l=s.tag)||6===l){r=i=s;continue e}a=a.parentNode}}r=r.return}Ne((function(){var r=i,o=_e(n),s=[];e:{var a=Ir.get(e);if(void 0!==a){var l=cn,u=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Tn;break;case"focusin":u="focus",l=gn;break;case"focusout":u="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=hn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=An;break;case kr:case Tr:case Or:l=yn;break;case Ar:l=In;break;case"scroll":l=fn;break;case"wheel":l=Rn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=On}var c=0!==(4&t),d=!c&&"scroll"===e,f=c?null!==a?a+"Capture":null:a;c=[];for(var p,h=r;null!==h;){var m=(p=h).stateNode;if(5===p.tag&&null!==m&&(p=m,null!==f&&(null!=(m=Re(h,f))&&c.push(zr(h,m,p)))),d)break;h=h.return}0<c.length&&(a=new l(a,u,null,n,o),s.push({event:a,listeners:c}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===we||!(u=n.relatedTarget||n.fromElement)||!bo(u)&&!u[mo])&&(l||a)&&(a=o.window===o?o:(a=o.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?bo(u):null)&&(u!==(d=qe(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=hn,m="onMouseLeave",f="onMouseEnter",h="mouse","pointerout"!==e&&"pointerover"!==e||(c=On,m="onPointerLeave",f="onPointerEnter",h="pointer"),d=null==l?a:_o(l),p=null==u?a:_o(u),(a=new c(m,h+"leave",l,n,o)).target=d,a.relatedTarget=p,m=null,bo(o)===r&&((c=new c(f,h+"enter",u,n,o)).target=p,c.relatedTarget=d,m=c),d=m,l&&u)e:{for(f=u,h=0,p=c=l;p;p=Gr(p))h++;for(p=0,m=f;m;m=Gr(m))p++;for(;0<h-p;)c=Gr(c),h--;for(;0<p-h;)f=Gr(f),p--;for(;h--;){if(c===f||null!==f&&c===f.alternate)break e;c=Gr(c),f=Gr(f)}c=null}else c=null;null!==l&&Kr(s,a,l,c,!1),null!==u&&null!==d&&Kr(s,d,u,c,!0)}if("select"===(l=(a=r?_o(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=Yn;else if(Vn(a))if(Zn)g=sr;else{g=or;var y=rr}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=ir);switch(g&&(g=g(e,r))?zn(s,g,n,o):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&ee(a,"number",a.value)),y=r?_o(r):window,e){case"focusin":(Vn(y)||"true"===y.contentEditable)&&(gr=y,yr=r,vr=null);break;case"focusout":vr=yr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(s,n,o);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":wr(s,n,o)}var v;if(jn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else qn?$n(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Ln&&"ko"!==n.locale&&(qn||"onCompositionStart"!==b?"onCompositionEnd"===b&&qn&&(v=en()):(Xt="value"in(Zt=o)?Zt.value:Zt.textContent,qn=!0)),0<(y=Wr(r,b)).length&&(b=new wn(b,e,null,n,o),s.push({event:b,listeners:y}),v?b.data=v:null!==(v=Bn(n))&&(b.data=v))),(v=Mn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Fn=!0,Un);case"textInput":return(e=t.data)===Un&&Fn?null:e;default:return null}}(e,n):function(e,t){if(qn)return"compositionend"===e||!jn&&$n(e,t)?(e=en(),Qt=Xt=Zt=null,qn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ln&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(o=new wn("onBeforeInput","beforeinput",null,n,o),s.push({event:o,listeners:r}),o.data=v))}Ur(s,t)}))}function zr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var o=e,i=o.stateNode;5===o.tag&&null!==i&&(o=i,null!=(i=Re(e,n))&&r.unshift(zr(e,i,o)),null!=(i=Re(e,t))&&r.push(zr(e,i,o))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,o){for(var i=t._reactName,s=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,o?null!=(l=Re(n,i))&&s.unshift(zr(n,l,a)):o||null!=(l=Re(n,i))&&s.push(zr(n,l,a))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var Jr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Zr(e){return("string"===typeof e?e:""+e).replace(Jr,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Zr(t),Zr(e)!==t&&n)throw Error(i(425))}function Qr(){}var eo=null,to=null;function no(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ro="function"===typeof setTimeout?setTimeout:void 0,oo="function"===typeof clearTimeout?clearTimeout:void 0,io="function"===typeof Promise?Promise:void 0,so="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof io?function(e){return io.resolve(null).then(e).catch(ao)}:ro;function ao(e){setTimeout((function(){throw e}))}function lo(e,t){var n=t,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0===r)return e.removeChild(o),void qt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=o}while(n);qt(t)}function uo(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function co(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fo=Math.random().toString(36).slice(2),po="__reactFiber$"+fo,ho="__reactProps$"+fo,mo="__reactContainer$"+fo,go="__reactEvents$"+fo,yo="__reactListeners$"+fo,vo="__reactHandles$"+fo;function bo(e){var t=e[po];if(t)return t;for(var n=e.parentNode;n;){if(t=n[mo]||n[po]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=co(e);null!==e;){if(n=e[po])return n;e=co(e)}return t}n=(e=n).parentNode}return null}function wo(e){return!(e=e[po]||e[mo])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function _o(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(i(33))}function xo(e){return e[ho]||null}var Co=[],Eo=-1;function So(e){return{current:e}}function ko(e){0>Eo||(e.current=Co[Eo],Co[Eo]=null,Eo--)}function To(e,t){Eo++,Co[Eo]=e.current,e.current=t}var Oo={},Ao=So(Oo),Io=So(!1),No=Oo;function Ro(e,t){var n=e.type.contextTypes;if(!n)return Oo;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var o,i={};for(o in n)i[o]=t[o];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Po(e){return null!==(e=e.childContextTypes)&&void 0!==e}function jo(){ko(Io),ko(Ao)}function Do(e,t,n){if(Ao.current!==Oo)throw Error(i(168));To(Ao,t),To(Io,n)}function Mo(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(i(108,H(e)||"Unknown",o));return L({},n,r)}function Lo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Oo,No=Ao.current,To(Ao,e),To(Io,Io.current),!0}function Uo(e,t,n){var r=e.stateNode;if(!r)throw Error(i(169));n?(e=Mo(e,t,No),r.__reactInternalMemoizedMergedChildContext=e,ko(Io),ko(Ao),To(Ao,e)):ko(Io),To(Io,n)}var Fo=null,$o=!1,Bo=!1;function qo(e){null===Fo?Fo=[e]:Fo.push(e)}function Ho(){if(!Bo&&null!==Fo){Bo=!0;var e=0,t=bt;try{var n=Fo;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Fo=null,$o=!1}catch(o){throw null!==Fo&&(Fo=Fo.slice(e+1)),Ge(Qe,Ho),o}finally{bt=t,Bo=!1}}return null}var Vo=[],zo=0,Wo=null,Go=0,Ko=[],Jo=0,Yo=null,Zo=1,Xo="";function Qo(e,t){Vo[zo++]=Go,Vo[zo++]=Wo,Wo=e,Go=t}function ei(e,t,n){Ko[Jo++]=Zo,Ko[Jo++]=Xo,Ko[Jo++]=Yo,Yo=e;var r=Zo;e=Xo;var o=32-st(r)-1;r&=~(1<<o),n+=1;var i=32-st(t)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Zo=1<<32-st(t)+o|n<<o|r,Xo=i+e}else Zo=1<<i|n<<o|r,Xo=e}function ti(e){null!==e.return&&(Qo(e,1),ei(e,1,0))}function ni(e){for(;e===Wo;)Wo=Vo[--zo],Vo[zo]=null,Go=Vo[--zo],Vo[zo]=null;for(;e===Yo;)Yo=Ko[--Jo],Ko[Jo]=null,Xo=Ko[--Jo],Ko[Jo]=null,Zo=Ko[--Jo],Ko[Jo]=null}var ri=null,oi=null,ii=!1,si=null;function ai(e,t){var n=Nu(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function li(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ri=e,oi=uo(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ri=e,oi=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Yo?{id:Zo,overflow:Xo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Nu(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ri=e,oi=null,!0);default:return!1}}function ui(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ci(e){if(ii){var t=oi;if(t){var n=t;if(!li(e,t)){if(ui(e))throw Error(i(418));t=uo(n.nextSibling);var r=ri;t&&li(e,t)?ai(r,n):(e.flags=-4097&e.flags|2,ii=!1,ri=e)}}else{if(ui(e))throw Error(i(418));e.flags=-4097&e.flags|2,ii=!1,ri=e}}}function di(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ri=e}function fi(e){if(e!==ri)return!1;if(!ii)return di(e),ii=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!no(e.type,e.memoizedProps)),t&&(t=oi)){if(ui(e))throw pi(),Error(i(418));for(;t;)ai(e,t),t=uo(t.nextSibling)}if(di(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){oi=uo(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}oi=null}}else oi=ri?uo(e.stateNode.nextSibling):null;return!0}function pi(){for(var e=oi;e;)e=uo(e.nextSibling)}function hi(){oi=ri=null,ii=!1}function mi(e){null===si?si=[e]:si.push(e)}var gi=w.ReactCurrentBatchConfig;function yi(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(i(309));var r=n.stateNode}if(!r)throw Error(i(147,e));var o=r,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=o.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(i(284));if(!n._owner)throw Error(i(290,e))}return e}function vi(e,t){throw e=Object.prototype.toString.call(t),Error(i(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function bi(e){return(0,e._init)(e._payload)}function wi(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function o(e,t){return(e=Pu(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Lu(n,e.mode,r)).return=e,t):((t=o(t,n)).return=e,t)}function u(e,t,n,r){var i=n.type;return i===C?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===i||"object"===typeof i&&null!==i&&i.$$typeof===R&&bi(i)===t.type)?((r=o(t,n.props)).ref=yi(e,t,n),r.return=e,r):((r=ju(n.type,n.key,n.props,null,e.mode,r)).ref=yi(e,t,n),r.return=e,r)}function c(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Uu(n,e.mode,r)).return=e,t):((t=o(t,n.children||[])).return=e,t)}function d(e,t,n,r,i){return null===t||7!==t.tag?((t=Du(n,e.mode,r,i)).return=e,t):((t=o(t,n)).return=e,t)}function f(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Lu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=ju(t.type,t.key,t.props,null,e.mode,n)).ref=yi(e,null,t),n.return=e,n;case x:return(t=Uu(t,e.mode,n)).return=e,t;case R:return f(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Du(t,e.mode,n,null)).return=e,t;vi(e,t)}return null}function p(e,t,n,r){var o=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==o?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===o?u(e,t,n,r):null;case x:return n.key===o?c(e,t,n,r):null;case R:return p(e,t,(o=n._init)(n._payload),r)}if(te(n)||D(n))return null!==o?null:d(e,t,n,r,null);vi(e,n)}return null}function h(e,t,n,r,o){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,o);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return u(t,e=e.get(null===r.key?n:r.key)||null,r,o);case x:return c(t,e=e.get(null===r.key?n:r.key)||null,r,o);case R:return h(e,t,n,(0,r._init)(r._payload),o)}if(te(r)||D(r))return d(t,e=e.get(n)||null,r,o,null);vi(t,r)}return null}function m(o,i,a,l){for(var u=null,c=null,d=i,m=i=0,g=null;null!==d&&m<a.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var y=p(o,d,a[m],l);if(null===y){null===d&&(d=g);break}e&&d&&null===y.alternate&&t(o,d),i=s(y,i,m),null===c?u=y:c.sibling=y,c=y,d=g}if(m===a.length)return n(o,d),ii&&Qo(o,m),u;if(null===d){for(;m<a.length;m++)null!==(d=f(o,a[m],l))&&(i=s(d,i,m),null===c?u=d:c.sibling=d,c=d);return ii&&Qo(o,m),u}for(d=r(o,d);m<a.length;m++)null!==(g=h(d,o,m,a[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),i=s(g,i,m),null===c?u=g:c.sibling=g,c=g);return e&&d.forEach((function(e){return t(o,e)})),ii&&Qo(o,m),u}function g(o,a,l,u){var c=D(l);if("function"!==typeof c)throw Error(i(150));if(null==(l=c.call(l)))throw Error(i(151));for(var d=c=null,m=a,g=a=0,y=null,v=l.next();null!==m&&!v.done;g++,v=l.next()){m.index>g?(y=m,m=null):y=m.sibling;var b=p(o,m,v.value,u);if(null===b){null===m&&(m=y);break}e&&m&&null===b.alternate&&t(o,m),a=s(b,a,g),null===d?c=b:d.sibling=b,d=b,m=y}if(v.done)return n(o,m),ii&&Qo(o,g),c;if(null===m){for(;!v.done;g++,v=l.next())null!==(v=f(o,v.value,u))&&(a=s(v,a,g),null===d?c=v:d.sibling=v,d=v);return ii&&Qo(o,g),c}for(m=r(o,m);!v.done;g++,v=l.next())null!==(v=h(m,o,g,v.value,u))&&(e&&null!==v.alternate&&m.delete(null===v.key?g:v.key),a=s(v,a,g),null===d?c=v:d.sibling=v,d=v);return e&&m.forEach((function(e){return t(o,e)})),ii&&Qo(o,g),c}return function e(r,i,s,l){if("object"===typeof s&&null!==s&&s.type===C&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case _:e:{for(var u=s.key,c=i;null!==c;){if(c.key===u){if((u=s.type)===C){if(7===c.tag){n(r,c.sibling),(i=o(c,s.props.children)).return=r,r=i;break e}}else if(c.elementType===u||"object"===typeof u&&null!==u&&u.$$typeof===R&&bi(u)===c.type){n(r,c.sibling),(i=o(c,s.props)).ref=yi(r,c,s),i.return=r,r=i;break e}n(r,c);break}t(r,c),c=c.sibling}s.type===C?((i=Du(s.props.children,r.mode,l,s.key)).return=r,r=i):((l=ju(s.type,s.key,s.props,null,r.mode,l)).ref=yi(r,i,s),l.return=r,r=l)}return a(r);case x:e:{for(c=s.key;null!==i;){if(i.key===c){if(4===i.tag&&i.stateNode.containerInfo===s.containerInfo&&i.stateNode.implementation===s.implementation){n(r,i.sibling),(i=o(i,s.children||[])).return=r,r=i;break e}n(r,i);break}t(r,i),i=i.sibling}(i=Uu(s,r.mode,l)).return=r,r=i}return a(r);case R:return e(r,i,(c=s._init)(s._payload),l)}if(te(s))return m(r,i,s,l);if(D(s))return g(r,i,s,l);vi(r,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==i&&6===i.tag?(n(r,i.sibling),(i=o(i,s)).return=r,r=i):(n(r,i),(i=Lu(s,r.mode,l)).return=r,r=i),a(r)):n(r,i)}}var _i=wi(!0),xi=wi(!1),Ci=So(null),Ei=null,Si=null,ki=null;function Ti(){ki=Si=Ei=null}function Oi(e){var t=Ci.current;ko(Ci),e._currentValue=t}function Ai(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ii(e,t){Ei=e,ki=Si=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(ba=!0),e.firstContext=null)}function Ni(e){var t=e._currentValue;if(ki!==e)if(e={context:e,memoizedValue:t,next:null},null===Si){if(null===Ei)throw Error(i(308));Si=e,Ei.dependencies={lanes:0,firstContext:e}}else Si=Si.next=e;return t}var Ri=null;function Pi(e){null===Ri?Ri=[e]:Ri.push(e)}function ji(e,t,n,r){var o=t.interleaved;return null===o?(n.next=n,Pi(t)):(n.next=o.next,o.next=n),t.interleaved=n,Di(e,r)}function Di(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Mi=!1;function Li(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ui(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function $i(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Ol)){var o=r.pending;return null===o?t.next=t:(t.next=o.next,o.next=t),r.pending=t,Di(e,n)}return null===(o=r.interleaved)?(t.next=t,Pi(r)):(t.next=o.next,o.next=t),r.interleaved=t,Di(e,n)}function Bi(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function qi(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var o=null,i=null;if(null!==(n=n.firstBaseUpdate)){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===i?o=i=s:i=i.next=s,n=n.next}while(null!==n);null===i?o=i=t:i=i.next=t}else o=i=t;return n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Hi(e,t,n,r){var o=e.updateQueue;Mi=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(null!==a){o.shared.pending=null;var l=a,u=l.next;l.next=null,null===s?i=u:s.next=u,s=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==s&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==i){var d=o.baseState;for(s=0,c=u=l=null,a=i;;){var f=a.lane,p=a.eventTime;if((r&f)===f){null!==c&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var h=e,m=a;switch(f=t,p=n,m.tag){case 1:if("function"===typeof(h=m.payload)){d=h.call(p,d,f);break e}d=h;break e;case 3:h.flags=-65537&h.flags|128;case 0:if(null===(f="function"===typeof(h=m.payload)?h.call(p,d,f):h)||void 0===f)break e;d=L({},d,f);break e;case 2:Mi=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(f=o.effects)?o.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=p,l=d):c=c.next=p,s|=f;if(null===(a=a.next)){if(null===(a=o.shared.pending))break;a=(f=a).next,f.next=null,o.lastBaseUpdate=f,o.shared.pending=null}}if(null===c&&(l=d),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,null!==(t=o.shared.interleaved)){o=t;do{s|=o.lane,o=o.next}while(o!==t)}else null===i&&(o.shared.lanes=0);Ml|=s,e.lanes=s,e.memoizedState=d}}function Vi(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],o=r.callback;if(null!==o){if(r.callback=null,r=n,"function"!==typeof o)throw Error(i(191,o));o.call(r)}}}var zi={},Wi=So(zi),Gi=So(zi),Ki=So(zi);function Ji(e){if(e===zi)throw Error(i(174));return e}function Yi(e,t){switch(To(Ki,t),To(Gi,e),To(Wi,zi),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ko(Wi),To(Wi,t)}function Zi(){ko(Wi),ko(Gi),ko(Ki)}function Xi(e){Ji(Ki.current);var t=Ji(Wi.current),n=le(t,e.type);t!==n&&(To(Gi,e),To(Wi,n))}function Qi(e){Gi.current===e&&(ko(Wi),ko(Gi))}var es=So(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ns=[];function rs(){for(var e=0;e<ns.length;e++)ns[e]._workInProgressVersionPrimary=null;ns.length=0}var os=w.ReactCurrentDispatcher,is=w.ReactCurrentBatchConfig,ss=0,as=null,ls=null,us=null,cs=!1,ds=!1,fs=0,ps=0;function hs(){throw Error(i(321))}function ms(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ar(e[n],t[n]))return!1;return!0}function gs(e,t,n,r,o,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,os.current=null===e||null===e.memoizedState?Qs:ea,e=n(r,o),ds){s=0;do{if(ds=!1,fs=0,25<=s)throw Error(i(301));s+=1,us=ls=null,t.updateQueue=null,os.current=ta,e=n(r,o)}while(ds)}if(os.current=Xs,t=null!==ls&&null!==ls.next,ss=0,us=ls=as=null,cs=!1,t)throw Error(i(300));return e}function ys(){var e=0!==fs;return fs=0,e}function vs(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===us?as.memoizedState=us=e:us=us.next=e,us}function bs(){if(null===ls){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=ls.next;var t=null===us?as.memoizedState:us.next;if(null!==t)us=t,ls=e;else{if(null===e)throw Error(i(310));e={memoizedState:(ls=e).memoizedState,baseState:ls.baseState,baseQueue:ls.baseQueue,queue:ls.queue,next:null},null===us?as.memoizedState=us=e:us=us.next=e}return us}function ws(e,t){return"function"===typeof t?t(e):t}function _s(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=ls,o=r.baseQueue,s=n.pending;if(null!==s){if(null!==o){var a=o.next;o.next=s.next,s.next=a}r.baseQueue=o=s,n.pending=null}if(null!==o){s=o.next,r=r.baseState;var l=a=null,u=null,c=s;do{var d=c.lane;if((ss&d)===d)null!==u&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var f={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};null===u?(l=u=f,a=r):u=u.next=f,as.lanes|=d,Ml|=d}c=c.next}while(null!==c&&c!==s);null===u?a=r:u.next=l,ar(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(null!==(e=n.interleaved)){o=e;do{s=o.lane,as.lanes|=s,Ml|=s,o=o.next}while(o!==e)}else null===o&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function xs(e){var t=bs(),n=t.queue;if(null===n)throw Error(i(311));n.lastRenderedReducer=e;var r=n.dispatch,o=n.pending,s=t.memoizedState;if(null!==o){n.pending=null;var a=o=o.next;do{s=e(s,a.action),a=a.next}while(a!==o);ar(s,t.memoizedState)||(ba=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Cs(){}function Es(e,t){var n=as,r=bs(),o=t(),s=!ar(r.memoizedState,o);if(s&&(r.memoizedState=o,ba=!0),r=r.queue,Ms(Ts.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==us&&1&us.memoizedState.tag){if(n.flags|=2048,Ns(9,ks.bind(null,n,r,o,t),void 0,null),null===Al)throw Error(i(349));0!==(30&ss)||Ss(n,t,o)}return o}function Ss(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ks(e,t,n,r){t.value=n,t.getSnapshot=r,Os(t)&&As(e)}function Ts(e,t,n){return n((function(){Os(t)&&As(e)}))}function Os(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ar(e,n)}catch(r){return!0}}function As(e){var t=Di(e,1);null!==t&&nu(t,e,1,-1)}function Is(e){var t=vs();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ws,lastRenderedState:e},t.queue=e,e=e.dispatch=Ks.bind(null,as,e),[t.memoizedState,e]}function Ns(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Rs(){return bs().memoizedState}function Ps(e,t,n,r){var o=vs();as.flags|=e,o.memoizedState=Ns(1|t,n,void 0,void 0===r?null:r)}function js(e,t,n,r){var o=bs();r=void 0===r?null:r;var i=void 0;if(null!==ls){var s=ls.memoizedState;if(i=s.destroy,null!==r&&ms(r,s.deps))return void(o.memoizedState=Ns(t,n,i,r))}as.flags|=e,o.memoizedState=Ns(1|t,n,i,r)}function Ds(e,t){return Ps(8390656,8,e,t)}function Ms(e,t){return js(2048,8,e,t)}function Ls(e,t){return js(4,2,e,t)}function Us(e,t){return js(4,4,e,t)}function Fs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function $s(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,js(4,4,Fs.bind(null,t,e),n)}function Bs(){}function qs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hs(e,t){var n=bs();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ms(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vs(e,t,n){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n):(ar(n,t)||(n=mt(),as.lanes|=n,Ml|=n,e.baseState=!0),t)}function zs(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=is.transition;is.transition={};try{e(!1),t()}finally{bt=n,is.transition=r}}function Ws(){return bs().memoizedState}function Gs(e,t,n){var r=tu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Js(e))Ys(t,n);else if(null!==(n=ji(e,t,n,r))){nu(n,e,r,eu()),Zs(n,t,r)}}function Ks(e,t,n){var r=tu(e),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Js(e))Ys(t,o);else{var i=e.alternate;if(0===e.lanes&&(null===i||0===i.lanes)&&null!==(i=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,ar(a,s)){var l=t.interleaved;return null===l?(o.next=o,Pi(t)):(o.next=l.next,l.next=o),void(t.interleaved=o)}}catch(u){}null!==(n=ji(e,t,o,r))&&(nu(n,e,r,o=eu()),Zs(n,t,r))}}function Js(e){var t=e.alternate;return e===as||null!==t&&t===as}function Ys(e,t){ds=cs=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Zs(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Xs={readContext:Ni,useCallback:hs,useContext:hs,useEffect:hs,useImperativeHandle:hs,useInsertionEffect:hs,useLayoutEffect:hs,useMemo:hs,useReducer:hs,useRef:hs,useState:hs,useDebugValue:hs,useDeferredValue:hs,useTransition:hs,useMutableSource:hs,useSyncExternalStore:hs,useId:hs,unstable_isNewReconciler:!1},Qs={readContext:Ni,useCallback:function(e,t){return vs().memoizedState=[e,void 0===t?null:t],e},useContext:Ni,useEffect:Ds,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ps(4194308,4,Fs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Ps(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ps(4,2,e,t)},useMemo:function(e,t){var n=vs();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=vs();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Gs.bind(null,as,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},vs().memoizedState=e},useState:Is,useDebugValue:Bs,useDeferredValue:function(e){return vs().memoizedState=e},useTransition:function(){var e=Is(!1),t=e[0];return e=zs.bind(null,e[1]),vs().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=as,o=vs();if(ii){if(void 0===n)throw Error(i(407));n=n()}else{if(n=t(),null===Al)throw Error(i(349));0!==(30&ss)||Ss(r,t,n)}o.memoizedState=n;var s={value:n,getSnapshot:t};return o.queue=s,Ds(Ts.bind(null,r,s,e),[e]),r.flags|=2048,Ns(9,ks.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=vs(),t=Al.identifierPrefix;if(ii){var n=Xo;t=":"+t+"R"+(n=(Zo&~(1<<32-st(Zo)-1)).toString(32)+n),0<(n=fs++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=ps++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:Ni,useCallback:qs,useContext:Ni,useEffect:Ms,useImperativeHandle:$s,useInsertionEffect:Ls,useLayoutEffect:Us,useMemo:Hs,useReducer:_s,useRef:Rs,useState:function(){return _s(ws)},useDebugValue:Bs,useDeferredValue:function(e){return Vs(bs(),ls.memoizedState,e)},useTransition:function(){return[_s(ws)[0],bs().memoizedState]},useMutableSource:Cs,useSyncExternalStore:Es,useId:Ws,unstable_isNewReconciler:!1},ta={readContext:Ni,useCallback:qs,useContext:Ni,useEffect:Ms,useImperativeHandle:$s,useInsertionEffect:Ls,useLayoutEffect:Us,useMemo:Hs,useReducer:xs,useRef:Rs,useState:function(){return xs(ws)},useDebugValue:Bs,useDeferredValue:function(e){var t=bs();return null===ls?t.memoizedState=e:Vs(t,ls.memoizedState,e)},useTransition:function(){return[xs(ws)[0],bs().memoizedState]},useMutableSource:Cs,useSyncExternalStore:Es,useId:Ws,unstable_isNewReconciler:!1};function na(e,t){if(e&&e.defaultProps){for(var n in t=L({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function ra(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:L({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var oa={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=eu(),o=tu(e),i=Fi(r,o);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=$i(e,i,o))&&(nu(t,e,o,r),Bi(t,e,o))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=eu(),o=tu(e),i=Fi(r,o);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=$i(e,i,o))&&(nu(t,e,o,r),Bi(t,e,o))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=eu(),r=tu(e),o=Fi(n,r);o.tag=2,void 0!==t&&null!==t&&(o.callback=t),null!==(t=$i(e,o,r))&&(nu(t,e,r,n),Bi(t,e,r))}};function ia(e,t,n,r,o,i,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,i,s):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(o,i))}function sa(e,t,n){var r=!1,o=Oo,i=t.contextType;return"object"===typeof i&&null!==i?i=Ni(i):(o=Po(t)?No:Ao.current,i=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ro(e,o):Oo),t=new t(n,i),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oa,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=o,e.__reactInternalMemoizedMaskedChildContext=i),t}function aa(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oa.enqueueReplaceState(t,t.state,null)}function la(e,t,n,r){var o=e.stateNode;o.props=n,o.state=e.memoizedState,o.refs={},Li(e);var i=t.contextType;"object"===typeof i&&null!==i?o.context=Ni(i):(i=Po(t)?No:Ao.current,o.context=Ro(e,i)),o.state=e.memoizedState,"function"===typeof(i=t.getDerivedStateFromProps)&&(ra(e,t,i,n),o.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(t=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),t!==o.state&&oa.enqueueReplaceState(o,o.state,null),Hi(e,n,o,r),o.state=e.memoizedState),"function"===typeof o.componentDidMount&&(e.flags|=4194308)}function ua(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var o=n}catch(i){o="\nError generating stack: "+i.message+"\n"+i.stack}return{value:e,source:t,stack:o,digest:null}}function ca(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function da(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fa="function"===typeof WeakMap?WeakMap:Map;function pa(e,t,n){(n=Fi(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Vl||(Vl=!0,zl=r),da(0,t)},n}function ha(e,t,n){(n=Fi(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var o=t.value;n.payload=function(){return r(o)},n.callback=function(){da(0,t)}}var i=e.stateNode;return null!==i&&"function"===typeof i.componentDidCatch&&(n.callback=function(){da(0,t),"function"!==typeof r&&(null===Wl?Wl=new Set([this]):Wl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function ma(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fa;var o=new Set;r.set(t,o)}else void 0===(o=r.get(t))&&(o=new Set,r.set(t,o));o.has(n)||(o.add(n),e=Su.bind(null,e,t,n),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ya(e,t,n,r,o){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Fi(-1,1)).tag=2,$i(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=o,e)}var va=w.ReactCurrentOwner,ba=!1;function wa(e,t,n,r){t.child=null===e?xi(t,null,n,r):_i(t,e.child,n,r)}function _a(e,t,n,r,o){n=n.render;var i=t.ref;return Ii(t,o),r=gs(e,t,n,r,i,o),n=ys(),null===e||ba?(ii&&n&&ti(t),t.flags|=1,wa(e,t,r,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Va(e,t,o))}function xa(e,t,n,r,o){if(null===e){var i=n.type;return"function"!==typeof i||Ru(i)||void 0!==i.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=ju(n.type,null,r,t,t.mode,o)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=i,Ca(e,t,i,r,o))}if(i=e.child,0===(e.lanes&o)){var s=i.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(s,r)&&e.ref===t.ref)return Va(e,t,o)}return t.flags|=1,(e=Pu(i,r)).ref=t.ref,e.return=t,t.child=e}function Ca(e,t,n,r,o){if(null!==e){var i=e.memoizedProps;if(lr(i,r)&&e.ref===t.ref){if(ba=!1,t.pendingProps=r=i,0===(e.lanes&o))return t.lanes=e.lanes,Va(e,t,o);0!==(131072&e.flags)&&(ba=!0)}}return ka(e,t,n,r,o)}function Ea(e,t,n){var r=t.pendingProps,o=r.children,i=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},To(Pl,Rl),Rl|=n;else{if(0===(1073741824&n))return e=null!==i?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,To(Pl,Rl),Rl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==i?i.baseLanes:n,To(Pl,Rl),Rl|=r}else null!==i?(r=i.baseLanes|n,t.memoizedState=null):r=n,To(Pl,Rl),Rl|=r;return wa(e,t,o,n),t.child}function Sa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function ka(e,t,n,r,o){var i=Po(n)?No:Ao.current;return i=Ro(t,i),Ii(t,o),n=gs(e,t,n,r,i,o),r=ys(),null===e||ba?(ii&&r&&ti(t),t.flags|=1,wa(e,t,n,o),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~o,Va(e,t,o))}function Ta(e,t,n,r,o){if(Po(n)){var i=!0;Lo(t)}else i=!1;if(Ii(t,o),null===t.stateNode)Ha(e,t),sa(t,n,r),la(t,n,r,o),r=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var l=s.context,u=n.contextType;"object"===typeof u&&null!==u?u=Ni(u):u=Ro(t,u=Po(n)?No:Ao.current);var c=n.getDerivedStateFromProps,d="function"===typeof c||"function"===typeof s.getSnapshotBeforeUpdate;d||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==r||l!==u)&&aa(t,s,r,u),Mi=!1;var f=t.memoizedState;s.state=f,Hi(t,r,s,o),l=t.memoizedState,a!==r||f!==l||Io.current||Mi?("function"===typeof c&&(ra(t,n,c,r),l=t.memoizedState),(a=Mi||ia(t,n,a,r,f,l,u))?(d||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,Ui(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:na(t.type,a),s.props=u,d=t.pendingProps,f=s.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ni(l):l=Ro(t,l=Po(n)?No:Ao.current);var p=n.getDerivedStateFromProps;(c="function"===typeof p||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==d||f!==l)&&aa(t,s,r,l),Mi=!1,f=t.memoizedState,s.state=f,Hi(t,r,s,o);var h=t.memoizedState;a!==d||f!==h||Io.current||Mi?("function"===typeof p&&(ra(t,n,p,r),h=t.memoizedState),(u=Mi||ia(t,n,u,r,f,h,l)||!1)?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,h,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,h,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=h),s.props=r,s.state=h,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&f===e.memoizedState||(t.flags|=1024),r=!1)}return Oa(e,t,n,r,i,o)}function Oa(e,t,n,r,o,i){Sa(e,t);var s=0!==(128&t.flags);if(!r&&!s)return o&&Uo(t,n,!1),Va(e,t,i);r=t.stateNode,va.current=t;var a=s&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&s?(t.child=_i(t,e.child,null,i),t.child=_i(t,null,a,i)):wa(e,t,a,i),t.memoizedState=r.state,o&&Uo(t,n,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Do(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Do(0,t.context,!1),Yi(e,t.containerInfo)}function Ia(e,t,n,r,o){return hi(),mi(o),t.flags|=256,wa(e,t,n,r),t.child}var Na,Ra,Pa,ja,Da={dehydrated:null,treeContext:null,retryLane:0};function Ma(e){return{baseLanes:e,cachePool:null,transitions:null}}function La(e,t,n){var r,o=t.pendingProps,s=es.current,a=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&s)),r?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),To(es,1&s),null===e)return ci(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=o.children,e=o.fallback,a?(o=t.mode,a=t.child,l={mode:"hidden",children:l},0===(1&o)&&null!==a?(a.childLanes=0,a.pendingProps=l):a=Mu(l,o,0,null),e=Du(e,o,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ma(n),t.memoizedState=Da,e):Ua(t,l));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return function(e,t,n,r,o,s,a){if(n)return 256&t.flags?(t.flags&=-257,Fa(e,t,a,r=ca(Error(i(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,o=t.mode,r=Mu({mode:"visible",children:r.children},o,0,null),(s=Du(s,o,a,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,0!==(1&t.mode)&&_i(t,e.child,null,a),t.child.memoizedState=Ma(a),t.memoizedState=Da,s);if(0===(1&t.mode))return Fa(e,t,a,null);if("$!"===o.data){if(r=o.nextSibling&&o.nextSibling.dataset)var l=r.dgst;return r=l,Fa(e,t,a,r=ca(s=Error(i(419)),r,void 0))}if(l=0!==(a&e.childLanes),ba||l){if(null!==(r=Al)){switch(a&-a){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}0!==(o=0!==(o&(r.suspendedLanes|a))?0:o)&&o!==s.retryLane&&(s.retryLane=o,Di(e,o),nu(r,e,o,-1))}return mu(),Fa(e,t,a,r=ca(Error(i(421))))}return"$?"===o.data?(t.flags|=128,t.child=e.child,t=Tu.bind(null,e),o._reactRetry=t,null):(e=s.treeContext,oi=uo(o.nextSibling),ri=t,ii=!0,si=null,null!==e&&(Ko[Jo++]=Zo,Ko[Jo++]=Xo,Ko[Jo++]=Yo,Zo=e.id,Xo=e.overflow,Yo=t),t=Ua(t,r.children),t.flags|=4096,t)}(e,t,l,o,r,s,n);if(a){a=o.fallback,l=t.mode,r=(s=e.child).sibling;var u={mode:"hidden",children:o.children};return 0===(1&l)&&t.child!==s?((o=t.child).childLanes=0,o.pendingProps=u,t.deletions=null):(o=Pu(s,u)).subtreeFlags=14680064&s.subtreeFlags,null!==r?a=Pu(r,a):(a=Du(a,l,n,null)).flags|=2,a.return=t,o.return=t,o.sibling=a,t.child=o,o=a,a=t.child,l=null===(l=e.child.memoizedState)?Ma(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Da,o}return e=(a=e.child).sibling,o=Pu(a,{mode:"visible",children:o.children}),0===(1&t.mode)&&(o.lanes=n),o.return=t,o.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=o,t.memoizedState=null,o}function Ua(e,t){return(t=Mu({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fa(e,t,n,r){return null!==r&&mi(r),_i(t,e.child,null,n),(e=Ua(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function $a(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ai(e.return,t,n)}function Ba(e,t,n,r,o){var i=e.memoizedState;null===i?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function qa(e,t,n){var r=t.pendingProps,o=r.revealOrder,i=r.tail;if(wa(e,t,r.children,n),0!==(2&(r=es.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&$a(e,n,t);else if(19===e.tag)$a(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(To(es,r),0===(1&t.mode))t.memoizedState=null;else switch(o){case"forwards":for(n=t.child,o=null;null!==n;)null!==(e=n.alternate)&&null===ts(e)&&(o=n),n=n.sibling;null===(n=o)?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),Ba(t,!1,o,n,i);break;case"backwards":for(n=null,o=t.child,t.child=null;null!==o;){if(null!==(e=o.alternate)&&null===ts(e)){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}Ba(t,!0,n,null,i);break;case"together":Ba(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ha(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Va(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(i(153));if(null!==t.child){for(n=Pu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Pu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function za(e,t){if(!ii)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Wa(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=14680064&o.subtreeFlags,r|=14680064&o.flags,o.return=e,o=o.sibling;else for(o=e.child;null!==o;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Ga(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wa(t),null;case 1:case 17:return Po(t.type)&&jo(),Wa(t),null;case 3:return r=t.stateNode,Zi(),ko(Io),ko(Ao),rs(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(fi(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==si&&(su(si),si=null))),Ra(e,t),Wa(t),null;case 5:Qi(t);var o=Ji(Ki.current);if(n=t.type,null!==e&&null!=t.stateNode)Pa(e,t,n,r,o),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(i(166));return Wa(t),null}if(e=Ji(Wi.current),fi(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[po]=t,r[ho]=s,e=0!==(1&t.mode),n){case"dialog":Fr("cancel",r),Fr("close",r);break;case"iframe":case"object":case"embed":Fr("load",r);break;case"video":case"audio":for(o=0;o<Dr.length;o++)Fr(Dr[o],r);break;case"source":Fr("error",r);break;case"img":case"image":case"link":Fr("error",r),Fr("load",r);break;case"details":Fr("toggle",r);break;case"input":Y(r,s),Fr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Fr("invalid",r);break;case"textarea":oe(r,s),Fr("invalid",r)}for(var l in ve(n,s),o=null,s)if(s.hasOwnProperty(l)){var u=s[l];"children"===l?"string"===typeof u?r.textContent!==u&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,u,e),o=["children",u]):"number"===typeof u&&r.textContent!==""+u&&(!0!==s.suppressHydrationWarning&&Xr(r.textContent,u,e),o=["children",""+u]):a.hasOwnProperty(l)&&null!=u&&"onScroll"===l&&Fr("scroll",r)}switch(n){case"input":W(r),Q(r,s,!0);break;case"textarea":W(r),se(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Qr)}r=o,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===o.nodeType?o:o.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[po]=t,e[ho]=r,Na(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Fr("cancel",e),Fr("close",e),o=r;break;case"iframe":case"object":case"embed":Fr("load",e),o=r;break;case"video":case"audio":for(o=0;o<Dr.length;o++)Fr(Dr[o],e);o=r;break;case"source":Fr("error",e),o=r;break;case"img":case"image":case"link":Fr("error",e),Fr("load",e),o=r;break;case"details":Fr("toggle",e),o=r;break;case"input":Y(e,r),o=J(e,r),Fr("invalid",e);break;case"option":default:o=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},o=L({},r,{value:void 0}),Fr("invalid",e);break;case"textarea":oe(e,r),o=re(e,r),Fr("invalid",e)}for(s in ve(n,o),u=o)if(u.hasOwnProperty(s)){var c=u[s];"style"===s?ge(e,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&de(e,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&fe(e,c):"number"===typeof c&&fe(e,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Fr("scroll",e):null!=c&&b(e,s,c,l))}switch(n){case"input":W(e),Q(e,r,!1);break;case"textarea":W(e),se(e);break;case"option":null!=r.value&&e.setAttribute("value",""+V(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?ne(e,!!r.multiple,s,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(e.onclick=Qr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Wa(t),null;case 6:if(e&&null!=t.stateNode)ja(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(i(166));if(n=Ji(Ki.current),Ji(Wi.current),fi(t)){if(r=t.stateNode,n=t.memoizedProps,r[po]=t,(s=r.nodeValue!==n)&&null!==(e=ri))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[po]=t,t.stateNode=r}return Wa(t),null;case 13:if(ko(es),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ii&&null!==oi&&0!==(1&t.mode)&&0===(128&t.flags))pi(),hi(),t.flags|=98560,s=!1;else if(s=fi(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(i(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(i(317));s[po]=t}else hi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Wa(t),s=!1}else null!==si&&(su(si),si=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===jl&&(jl=3):mu())),null!==t.updateQueue&&(t.flags|=4),Wa(t),null);case 4:return Zi(),Ra(e,t),null===e&&qr(t.stateNode.containerInfo),Wa(t),null;case 10:return Oi(t.type._context),Wa(t),null;case 19:if(ko(es),null===(s=t.memoizedState))return Wa(t),null;if(r=0!==(128&t.flags),null===(l=s.rendering))if(r)za(s,!1);else{if(0!==jl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ts(e))){for(t.flags|=128,za(s,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(l=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,e=l.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return To(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Ze()>ql&&(t.flags|=128,r=!0,za(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ts(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),za(s,!0),null===s.tail&&"hidden"===s.tailMode&&!l.alternate&&!ii)return Wa(t),null}else 2*Ze()-s.renderingStartTime>ql&&1073741824!==n&&(t.flags|=128,r=!0,za(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=s.last)?n.sibling=l:t.child=l,s.last=l)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ze(),t.sibling=null,n=es.current,To(es,r?1&n|2:1&n),t):(Wa(t),null);case 22:case 23:return du(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Rl)&&(Wa(t),6&t.subtreeFlags&&(t.flags|=8192)):Wa(t),null;case 24:case 25:return null}throw Error(i(156,t.tag))}function Ka(e,t){switch(ni(t),t.tag){case 1:return Po(t.type)&&jo(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Zi(),ko(Io),ko(Ao),rs(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Qi(t),null;case 13:if(ko(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(i(340));hi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ko(es),null;case 4:return Zi(),null;case 10:return Oi(t.type._context),null;case 22:case 23:return du(),null;default:return null}}Na=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ra=function(){},Pa=function(e,t,n,r){var o=e.memoizedProps;if(o!==r){e=t.stateNode,Ji(Wi.current);var i,s=null;switch(n){case"input":o=J(e,o),r=J(e,r),s=[];break;case"select":o=L({},o,{value:void 0}),r=L({},r,{value:void 0}),s=[];break;case"textarea":o=re(e,o),r=re(e,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(e.onclick=Qr)}for(c in ve(n,r),n=null,o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&null!=o[c])if("style"===c){var l=o[c];for(i in l)l.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(a.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var u=r[c];if(l=null!=o?o[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(null!=u||null!=l))if("style"===c)if(l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(n||(n={}),n[i]=u[i])}else n||(s||(s=[]),s.push(c,n)),n=u;else"dangerouslySetInnerHTML"===c?(u=u?u.__html:void 0,l=l?l.__html:void 0,null!=u&&l!==u&&(s=s||[]).push(c,u)):"children"===c?"string"!==typeof u&&"number"!==typeof u||(s=s||[]).push(c,""+u):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(a.hasOwnProperty(c)?(null!=u&&"onScroll"===c&&Fr("scroll",e),s||l===u||(s=[])):(s=s||[]).push(c,u))}n&&(s=s||[]).push("style",n);var c=s;(t.updateQueue=c)&&(t.flags|=4)}},ja=function(e,t,n,r){n!==r&&(t.flags|=4)};var Ja=!1,Ya=!1,Za="function"===typeof WeakSet?WeakSet:Set,Xa=null;function Qa(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Eu(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Eu(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var o=r=r.next;do{if((o.tag&e)===e){var i=o.destroy;o.destroy=void 0,void 0!==i&&el(t,n,i)}o=o.next}while(o!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ol(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function il(e){var t=e.alternate;null!==t&&(e.alternate=null,il(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[po],delete t[ho],delete t[go],delete t[yo],delete t[vo])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sl(e){return 5===e.tag||3===e.tag||4===e.tag}function al(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qr));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var cl=null,dl=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(it&&"function"===typeof it.onCommitFiberUnmount)try{it.onCommitFiberUnmount(ot,n)}catch(a){}switch(n.tag){case 5:Ya||Qa(n,t);case 6:var r=cl,o=dl;cl=null,fl(e,t,n),dl=o,null!==(cl=r)&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):cl.removeChild(n.stateNode));break;case 18:null!==cl&&(dl?(e=cl,n=n.stateNode,8===e.nodeType?lo(e.parentNode,n):1===e.nodeType&&lo(e,n),qt(e)):lo(cl,n.stateNode));break;case 4:r=cl,o=dl,cl=n.stateNode.containerInfo,dl=!0,fl(e,t,n),cl=r,dl=o;break;case 0:case 11:case 14:case 15:if(!Ya&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,void 0!==s&&(0!==(2&i)||0!==(4&i))&&el(n,t,s),o=o.next}while(o!==r)}fl(e,t,n);break;case 1:if(!Ya&&(Qa(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Eu(n,t,a)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Ya=(r=Ya)||null!==n.memoizedState,fl(e,t,n),Ya=r):fl(e,t,n);break;default:fl(e,t,n)}}function hl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Za),t.forEach((function(t){var r=Ou.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var o=n[r];try{var s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 5:cl=l.stateNode,dl=!1;break e;case 3:case 4:cl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===cl)throw Error(i(160));pl(s,a,o),cl=null,dl=!1;var u=o.alternate;null!==u&&(u.return=null),o.return=null}catch(c){Eu(o,t,c)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gl(t,e),t=t.sibling}function gl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(g){Eu(e,e.return,g)}try{nl(5,e,e.return)}catch(g){Eu(e,e.return,g)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&Qa(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&Qa(n,n.return),32&e.flags){var o=e.stateNode;try{fe(o,"")}catch(g){Eu(e,e.return,g)}}if(4&r&&null!=(o=e.stateNode)){var s=e.memoizedProps,a=null!==n?n.memoizedProps:s,l=e.type,u=e.updateQueue;if(e.updateQueue=null,null!==u)try{"input"===l&&"radio"===s.type&&null!=s.name&&Z(o,s),be(l,a);var c=be(l,s);for(a=0;a<u.length;a+=2){var d=u[a],f=u[a+1];"style"===d?ge(o,f):"dangerouslySetInnerHTML"===d?de(o,f):"children"===d?fe(o,f):b(o,d,f,c)}switch(l){case"input":X(o,s);break;case"textarea":ie(o,s);break;case"select":var p=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!s.multiple;var h=s.value;null!=h?ne(o,!!s.multiple,h,!1):p!==!!s.multiple&&(null!=s.defaultValue?ne(o,!!s.multiple,s.defaultValue,!0):ne(o,!!s.multiple,s.multiple?[]:"",!1))}o[ho]=s}catch(g){Eu(e,e.return,g)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(i(162));o=e.stateNode,s=e.memoizedProps;try{o.nodeValue=s}catch(g){Eu(e,e.return,g)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){Eu(e,e.return,g)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(o=e.child).flags&&(s=null!==o.memoizedState,o.stateNode.isHidden=s,!s||null!==o.alternate&&null!==o.alternate.memoizedState||(Bl=Ze())),4&r&&hl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Ya=(c=Ya)||d,ml(t,e),Ya=c):ml(t,e),yl(e),8192&r){if(c=null!==e.memoizedState,(e.stateNode.isHidden=c)&&!d&&0!==(1&e.mode))for(Xa=e,d=e.child;null!==d;){for(f=Xa=d;null!==Xa;){switch(h=(p=Xa).child,p.tag){case 0:case 11:case 14:case 15:nl(4,p,p.return);break;case 1:Qa(p,p.return);var m=p.stateNode;if("function"===typeof m.componentWillUnmount){r=p,n=p.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(g){Eu(r,n,g)}}break;case 5:Qa(p,p.return);break;case 22:if(null!==p.memoizedState){_l(f);continue}}null!==h?(h.return=p,Xa=h):_l(f)}d=d.sibling}e:for(d=null,f=e;;){if(5===f.tag){if(null===d){d=f;try{o=f.stateNode,c?"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none":(l=f.stateNode,a=void 0!==(u=f.memoizedProps.style)&&null!==u&&u.hasOwnProperty("display")?u.display:null,l.style.display=me("display",a))}catch(g){Eu(e,e.return,g)}}}else if(6===f.tag){if(null===d)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(g){Eu(e,e.return,g)}}else if((22!==f.tag&&23!==f.tag||null===f.memoizedState||f===e)&&null!==f.child){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;null===f.sibling;){if(null===f.return||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ml(t,e),yl(e),4&r&&hl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(sl(n)){var r=n;break e}n=n.return}throw Error(i(160))}switch(r.tag){case 5:var o=r.stateNode;32&r.flags&&(fe(o,""),r.flags&=-33),ul(e,al(e),o);break;case 3:case 4:var s=r.stateNode.containerInfo;ll(e,al(e),s);break;default:throw Error(i(161))}}catch(a){Eu(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vl(e,t,n){Xa=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Xa;){var o=Xa,i=o.child;if(22===o.tag&&r){var s=null!==o.memoizedState||Ja;if(!s){var a=o.alternate,l=null!==a&&null!==a.memoizedState||Ya;a=Ja;var u=Ya;if(Ja=s,(Ya=l)&&!u)for(Xa=o;null!==Xa;)l=(s=Xa).child,22===s.tag&&null!==s.memoizedState?xl(o):null!==l?(l.return=s,Xa=l):xl(o);for(;null!==i;)Xa=i,bl(i,t,n),i=i.sibling;Xa=o,Ja=a,Ya=u}wl(e)}else 0!==(8772&o.subtreeFlags)&&null!==i?(i.return=o,Xa=i):wl(e)}}function wl(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Ya||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Ya)if(null===n)r.componentDidMount();else{var o=t.elementType===t.type?n.memoizedProps:na(t.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Vi(t,s,r);break;case 3:var a=t.updateQueue;if(null!==a){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Vi(t,a,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var c=t.alternate;if(null!==c){var d=c.memoizedState;if(null!==d){var f=d.dehydrated;null!==f&&qt(f)}}}break;default:throw Error(i(163))}Ya||512&t.flags&&ol(t)}catch(p){Eu(t,t.return,p)}}if(t===e){Xa=null;break}if(null!==(n=t.sibling)){n.return=t.return,Xa=n;break}Xa=t.return}}function _l(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Xa=n;break}Xa=t.return}}function xl(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Eu(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var o=t.return;try{r.componentDidMount()}catch(l){Eu(t,o,l)}}var i=t.return;try{ol(t)}catch(l){Eu(t,i,l)}break;case 5:var s=t.return;try{ol(t)}catch(l){Eu(t,s,l)}}}catch(l){Eu(t,t.return,l)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var Cl,El=Math.ceil,Sl=w.ReactCurrentDispatcher,kl=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Ol=0,Al=null,Il=null,Nl=0,Rl=0,Pl=So(0),jl=0,Dl=null,Ml=0,Ll=0,Ul=0,Fl=null,$l=null,Bl=0,ql=1/0,Hl=null,Vl=!1,zl=null,Wl=null,Gl=!1,Kl=null,Jl=0,Yl=0,Zl=null,Xl=-1,Ql=0;function eu(){return 0!==(6&Ol)?Ze():-1!==Xl?Xl:Xl=Ze()}function tu(e){return 0===(1&e.mode)?1:0!==(2&Ol)&&0!==Nl?Nl&-Nl:null!==gi.transition?(0===Ql&&(Ql=mt()),Ql):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function nu(e,t,n,r){if(50<Yl)throw Yl=0,Zl=null,Error(i(185));yt(e,n,r),0!==(2&Ol)&&e===Al||(e===Al&&(0===(2&Ol)&&(Ll|=n),4===jl&&au(e,Nl)),ru(e,r),1===n&&0===Ol&&0===(1&t.mode)&&(ql=Ze()+500,$o&&Ho()))}function ru(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,o=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-st(i),a=1<<s,l=o[s];-1===l?0!==(a&n)&&0===(a&r)||(o[s]=pt(a,t)):l<=t&&(e.expiredLanes|=a),i&=~a}}(e,t);var r=ft(e,e===Al?Nl:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){$o=!0,qo(e)}(lu.bind(null,e)):qo(lu.bind(null,e)),so((function(){0===(6&Ol)&&Ho()})),n=null;else{switch(wt(r)){case 1:n=Qe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Au(n,ou.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ou(e,t){if(Xl=-1,Ql=0,0!==(6&Ol))throw Error(i(327));var n=e.callbackNode;if(xu()&&e.callbackNode!==n)return null;var r=ft(e,e===Al?Nl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=gu(e,r);else{t=r;var o=Ol;Ol|=2;var s=hu();for(Al===e&&Nl===t||(Hl=null,ql=Ze()+500,fu(e,t));;)try{vu();break}catch(l){pu(e,l)}Ti(),Sl.current=s,Ol=o,null!==Il?t=0:(Al=null,Nl=0,t=jl)}if(0!==t){if(2===t&&(0!==(o=ht(e))&&(r=o,t=iu(e,o))),1===t)throw n=Dl,fu(e,0),au(e,r),ru(e,Ze()),n;if(6===t)au(e,r);else{if(o=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!ar(i(),o))return!1}catch(a){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(o)&&(2===(t=gu(e,r))&&(0!==(s=ht(e))&&(r=s,t=iu(e,s))),1===t))throw n=Dl,fu(e,0),au(e,r),ru(e,Ze()),n;switch(e.finishedWork=o,e.finishedLanes=r,t){case 0:case 1:throw Error(i(345));case 2:case 5:_u(e,$l,Hl);break;case 3:if(au(e,r),(130023424&r)===r&&10<(t=Bl+500-Ze())){if(0!==ft(e,0))break;if(((o=e.suspendedLanes)&r)!==r){eu(),e.pingedLanes|=e.suspendedLanes&o;break}e.timeoutHandle=ro(_u.bind(null,e,$l,Hl),t);break}_u(e,$l,Hl);break;case 4:if(au(e,r),(4194240&r)===r)break;for(t=e.eventTimes,o=-1;0<r;){var a=31-st(r);s=1<<a,(a=t[a])>o&&(o=a),r&=~s}if(r=o,10<(r=(120>(r=Ze()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ro(_u.bind(null,e,$l,Hl),r);break}_u(e,$l,Hl);break;default:throw Error(i(329))}}}return ru(e,Ze()),e.callbackNode===n?ou.bind(null,e):null}function iu(e,t){var n=Fl;return e.current.memoizedState.isDehydrated&&(fu(e,t).flags|=256),2!==(e=gu(e,t))&&(t=$l,$l=n,null!==t&&su(t)),e}function su(e){null===$l?$l=e:$l.push.apply($l,e)}function au(e,t){for(t&=~Ul,t&=~Ll,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-st(t),r=1<<n;e[n]=-1,t&=~r}}function lu(e){if(0!==(6&Ol))throw Error(i(327));xu();var t=ft(e,0);if(0===(1&t))return ru(e,Ze()),null;var n=gu(e,t);if(0!==e.tag&&2===n){var r=ht(e);0!==r&&(t=r,n=iu(e,r))}if(1===n)throw n=Dl,fu(e,0),au(e,t),ru(e,Ze()),n;if(6===n)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,_u(e,$l,Hl),ru(e,Ze()),null}function uu(e,t){var n=Ol;Ol|=1;try{return e(t)}finally{0===(Ol=n)&&(ql=Ze()+500,$o&&Ho())}}function cu(e){null!==Kl&&0===Kl.tag&&0===(6&Ol)&&xu();var t=Ol;Ol|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Ol=t))&&Ho()}}function du(){Rl=Pl.current,ko(Pl)}function fu(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,oo(n)),null!==Il)for(n=Il.return;null!==n;){var r=n;switch(ni(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&jo();break;case 3:Zi(),ko(Io),ko(Ao),rs();break;case 5:Qi(r);break;case 4:Zi();break;case 13:case 19:ko(es);break;case 10:Oi(r.type._context);break;case 22:case 23:du()}n=n.return}if(Al=e,Il=e=Pu(e.current,null),Nl=Rl=t,jl=0,Dl=null,Ul=Ll=Ml=0,$l=Fl=null,null!==Ri){for(t=0;t<Ri.length;t++)if(null!==(r=(n=Ri[t]).interleaved)){n.interleaved=null;var o=r.next,i=n.pending;if(null!==i){var s=i.next;i.next=o,r.next=s}n.pending=r}Ri=null}return e}function pu(e,t){for(;;){var n=Il;try{if(Ti(),os.current=Xs,cs){for(var r=as.memoizedState;null!==r;){var o=r.queue;null!==o&&(o.pending=null),r=r.next}cs=!1}if(ss=0,us=ls=as=null,ds=!1,fs=0,kl.current=null,null===n||null===n.return){jl=1,Dl=t,Il=null;break}e:{var s=e,a=n.return,l=n,u=t;if(t=Nl,l.flags|=32768,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u,d=l,f=d.tag;if(0===(1&d.mode)&&(0===f||11===f||15===f)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var h=ga(a);if(null!==h){h.flags&=-257,ya(h,a,l,0,t),1&h.mode&&ma(s,c,t),u=c;var m=(t=h).updateQueue;if(null===m){var g=new Set;g.add(u),t.updateQueue=g}else m.add(u);break e}if(0===(1&t)){ma(s,c,t),mu();break e}u=Error(i(426))}else if(ii&&1&l.mode){var y=ga(a);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),ya(y,a,l,0,t),mi(ua(u,l));break e}}s=u=ua(u,l),4!==jl&&(jl=2),null===Fl?Fl=[s]:Fl.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,qi(s,pa(0,u,t));break e;case 1:l=u;var v=s.type,b=s.stateNode;if(0===(128&s.flags)&&("function"===typeof v.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Wl||!Wl.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t,qi(s,ha(s,l,t));break e}}s=s.return}while(null!==s)}wu(n)}catch(w){t=w,Il===n&&null!==n&&(Il=n=n.return);continue}break}}function hu(){var e=Sl.current;return Sl.current=Xs,null===e?Xs:e}function mu(){0!==jl&&3!==jl&&2!==jl||(jl=4),null===Al||0===(268435455&Ml)&&0===(268435455&Ll)||au(Al,Nl)}function gu(e,t){var n=Ol;Ol|=2;var r=hu();for(Al===e&&Nl===t||(Hl=null,fu(e,t));;)try{yu();break}catch(o){pu(e,o)}if(Ti(),Ol=n,Sl.current=r,null!==Il)throw Error(i(261));return Al=null,Nl=0,jl}function yu(){for(;null!==Il;)bu(Il)}function vu(){for(;null!==Il&&!Je();)bu(Il)}function bu(e){var t=Cl(e.alternate,e,Rl);e.memoizedProps=e.pendingProps,null===t?wu(e):Il=t,kl.current=null}function wu(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Ga(n,t,Rl)))return void(Il=n)}else{if(null!==(n=Ka(n,t)))return n.flags&=32767,void(Il=n);if(null===e)return jl=6,void(Il=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Il=t);Il=t=e}while(null!==t);0===jl&&(jl=5)}function _u(e,t,n){var r=bt,o=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{xu()}while(null!==Kl);if(0!==(6&Ol))throw Error(i(327));n=e.finishedWork;var o=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var o=31-st(n),i=1<<o;t[o]=0,r[o]=-1,e[o]=-1,n&=~i}}(e,s),e===Al&&(Il=Al=null,Nl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Gl||(Gl=!0,Au(tt,(function(){return xu(),null}))),s=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||s){s=Tl.transition,Tl.transition=null;var a=bt;bt=1;var l=Ol;Ol|=4,kl.current=null,function(e,t){if(eo=Vt,pr(e=fr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var o=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(_){n=null;break e}var a=0,l=-1,u=-1,c=0,d=0,f=e,p=null;t:for(;;){for(var h;f!==n||0!==o&&3!==f.nodeType||(l=a+o),f!==s||0!==r&&3!==f.nodeType||(u=a+r),3===f.nodeType&&(a+=f.nodeValue.length),null!==(h=f.firstChild);)p=f,f=h;for(;;){if(f===e)break t;if(p===n&&++c===o&&(l=a),p===s&&++d===r&&(u=a),null!==(h=f.nextSibling))break;p=(f=p).parentNode}f=h}n=-1===l||-1===u?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(to={focusedElem:e,selectionRange:n},Vt=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,y=m.memoizedState,v=t.stateNode,b=v.getSnapshotBeforeUpdate(t.elementType===t.type?g:na(t.type,g),y);v.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(i(163))}}catch(_){Eu(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}m=tl,tl=!1}(e,n),gl(n,e),hr(to),Vt=!!eo,to=eo=null,e.current=n,vl(n,e,o),Ye(),Ol=l,bt=a,Tl.transition=s}else e.current=n;if(Gl&&(Gl=!1,Kl=e,Jl=o),s=e.pendingLanes,0===s&&(Wl=null),function(e){if(it&&"function"===typeof it.onCommitFiberRoot)try{it.onCommitFiberRoot(ot,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ru(e,Ze()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)o=t[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Vl)throw Vl=!1,e=zl,zl=null,e;0!==(1&Jl)&&0!==e.tag&&xu(),s=e.pendingLanes,0!==(1&s)?e===Zl?Yl++:(Yl=0,Zl=e):Yl=0,Ho()}(e,t,n,r)}finally{Tl.transition=o,bt=r}return null}function xu(){if(null!==Kl){var e=wt(Jl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Kl)var r=!1;else{if(e=Kl,Kl=null,Jl=0,0!==(6&Ol))throw Error(i(331));var o=Ol;for(Ol|=4,Xa=e.current;null!==Xa;){var s=Xa,a=s.child;if(0!==(16&Xa.flags)){var l=s.deletions;if(null!==l){for(var u=0;u<l.length;u++){var c=l[u];for(Xa=c;null!==Xa;){var d=Xa;switch(d.tag){case 0:case 11:case 15:nl(8,d,s)}var f=d.child;if(null!==f)f.return=d,Xa=f;else for(;null!==Xa;){var p=(d=Xa).sibling,h=d.return;if(il(d),d===c){Xa=null;break}if(null!==p){p.return=h,Xa=p;break}Xa=h}}}var m=s.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var y=g.sibling;g.sibling=null,g=y}while(null!==g)}}Xa=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(s=Xa).flags))switch(s.tag){case 0:case 11:case 15:nl(9,s,s.return)}var v=s.sibling;if(null!==v){v.return=s.return,Xa=v;break e}Xa=s.return}}var b=e.current;for(Xa=b;null!==Xa;){var w=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==w)w.return=a,Xa=w;else e:for(a=b;null!==Xa;){if(0!==(2048&(l=Xa).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(x){Eu(l,l.return,x)}if(l===a){Xa=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Xa=_;break e}Xa=l.return}}if(Ol=o,Ho(),it&&"function"===typeof it.onPostCommitFiberRoot)try{it.onPostCommitFiberRoot(ot,e)}catch(x){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function Cu(e,t,n){e=$i(e,t=pa(0,t=ua(n,t),1),1),t=eu(),null!==e&&(yt(e,1,t),ru(e,t))}function Eu(e,t,n){if(3===e.tag)Cu(e,e,n);else for(;null!==t;){if(3===t.tag){Cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wl||!Wl.has(r))){t=$i(t,e=ha(t,e=ua(n,e),1),1),e=eu(),null!==t&&(yt(t,1,e),ru(t,e));break}}t=t.return}}function Su(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=eu(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Nl&n)===n&&(4===jl||3===jl&&(130023424&Nl)===Nl&&500>Ze()-Bl?fu(e,0):Ul|=n),ru(e,t)}function ku(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ct,0===(130023424&(ct<<=1))&&(ct=4194304)));var n=eu();null!==(e=Di(e,t))&&(yt(e,t,n),ru(e,n))}function Tu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),ku(e,n)}function Ou(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,o=e.memoizedState;null!==o&&(n=o.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(i(314))}null!==r&&r.delete(t),ku(e,n)}function Au(e,t){return Ge(e,t)}function Iu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nu(e,t,n,r){return new Iu(e,t,n,r)}function Ru(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Pu(e,t){var n=e.alternate;return null===n?((n=Nu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ju(e,t,n,r,o,s){var a=2;if(r=e,"function"===typeof e)Ru(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case C:return Du(n.children,o,s,t);case E:a=8,o|=8;break;case S:return(e=Nu(12,n,t,2|o)).elementType=S,e.lanes=s,e;case A:return(e=Nu(13,n,t,o)).elementType=A,e.lanes=s,e;case I:return(e=Nu(19,n,t,o)).elementType=I,e.lanes=s,e;case P:return Mu(n,o,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case k:a=10;break e;case T:a=9;break e;case O:a=11;break e;case N:a=14;break e;case R:a=16,r=null;break e}throw Error(i(130,null==e?e:typeof e,""))}return(t=Nu(a,n,t,o)).elementType=e,t.type=r,t.lanes=s,t}function Du(e,t,n,r){return(e=Nu(7,e,r,t)).lanes=n,e}function Mu(e,t,n,r){return(e=Nu(22,e,r,t)).elementType=P,e.lanes=n,e.stateNode={isHidden:!1},e}function Lu(e,t,n){return(e=Nu(6,e,null,t)).lanes=n,e}function Uu(e,t,n){return(t=Nu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fu(e,t,n,r,o){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function $u(e,t,n,r,o,i,s,a,l){return e=new Fu(e,t,n,a,l),1===t?(t=1,!0===i&&(t|=8)):t=0,i=Nu(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Li(i),e}function Bu(e){if(!e)return Oo;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(i(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Po(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(i(171))}if(1===e.tag){var n=e.type;if(Po(n))return Mo(e,n,t)}return t}function qu(e,t,n,r,o,i,s,a,l){return(e=$u(n,r,!0,e,0,i,0,a,l)).context=Bu(null),n=e.current,(i=Fi(r=eu(),o=tu(n))).callback=void 0!==t&&null!==t?t:null,$i(n,i,o),e.current.lanes=o,yt(e,o,r),ru(e,r),e}function Hu(e,t,n,r){var o=t.current,i=eu(),s=tu(o);return n=Bu(n),null===t.context?t.context=n:t.pendingContext=n,(t=Fi(i,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=$i(o,t,s))&&(nu(e,o,s,i),Bi(e,o,s)),s}function Vu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function zu(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wu(e,t){zu(e,t),(e=e.alternate)&&zu(e,t)}Cl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Io.current)ba=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return ba=!1,function(e,t,n){switch(t.tag){case 3:Aa(t),hi();break;case 5:Xi(t);break;case 1:Po(t.type)&&Lo(t);break;case 4:Yi(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,o=t.memoizedProps.value;To(Ci,r._currentValue),r._currentValue=o;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(To(es,1&es.current),t.flags|=128,null):0!==(n&t.child.childLanes)?La(e,t,n):(To(es,1&es.current),null!==(e=Va(e,t,n))?e.sibling:null);To(es,1&es.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qa(e,t,n);t.flags|=128}if(null!==(o=t.memoizedState)&&(o.rendering=null,o.tail=null,o.lastEffect=null),To(es,es.current),r)break;return null;case 22:case 23:return t.lanes=0,Ea(e,t,n)}return Va(e,t,n)}(e,t,n);ba=0!==(131072&e.flags)}else ba=!1,ii&&0!==(1048576&t.flags)&&ei(t,Go,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ha(e,t),e=t.pendingProps;var o=Ro(t,Ao.current);Ii(t,n),o=gs(null,t,r,e,o,n);var s=ys();return t.flags|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Po(r)?(s=!0,Lo(t)):s=!1,t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,Li(t),o.updater=oa,t.stateNode=o,o._reactInternals=t,la(t,r,e,n),t=Oa(null,t,r,!0,s,n)):(t.tag=0,ii&&s&&ti(t),wa(null,t,o,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ha(e,t),e=t.pendingProps,r=(o=r._init)(r._payload),t.type=r,o=t.tag=function(e){if("function"===typeof e)return Ru(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===O)return 11;if(e===N)return 14}return 2}(r),e=na(r,e),o){case 0:t=ka(null,t,r,e,n);break e;case 1:t=Ta(null,t,r,e,n);break e;case 11:t=_a(null,t,r,e,n);break e;case 14:t=xa(null,t,r,na(r.type,e),n);break e}throw Error(i(306,r,""))}return t;case 0:return r=t.type,o=t.pendingProps,ka(e,t,r,o=t.elementType===r?o:na(r,o),n);case 1:return r=t.type,o=t.pendingProps,Ta(e,t,r,o=t.elementType===r?o:na(r,o),n);case 3:e:{if(Aa(t),null===e)throw Error(i(387));r=t.pendingProps,o=(s=t.memoizedState).element,Ui(e,t),Hi(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Ia(e,t,r,n,o=ua(Error(i(423)),t));break e}if(r!==o){t=Ia(e,t,r,n,o=ua(Error(i(424)),t));break e}for(oi=uo(t.stateNode.containerInfo.firstChild),ri=t,ii=!0,si=null,n=xi(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(hi(),r===o){t=Va(e,t,n);break e}wa(e,t,r,n)}t=t.child}return t;case 5:return Xi(t),null===e&&ci(t),r=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,a=o.children,no(r,o)?a=null:null!==s&&no(r,s)&&(t.flags|=32),Sa(e,t),wa(e,t,a,n),t.child;case 6:return null===e&&ci(t),null;case 13:return La(e,t,n);case 4:return Yi(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=_i(t,null,r,n):wa(e,t,r,n),t.child;case 11:return r=t.type,o=t.pendingProps,_a(e,t,r,o=t.elementType===r?o:na(r,o),n);case 7:return wa(e,t,t.pendingProps,n),t.child;case 8:case 12:return wa(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,o=t.pendingProps,s=t.memoizedProps,a=o.value,To(Ci,r._currentValue),r._currentValue=a,null!==s)if(ar(s.value,a)){if(s.children===o.children&&!Io.current){t=Va(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var l=s.dependencies;if(null!==l){a=s.child;for(var u=l.firstContext;null!==u;){if(u.context===r){if(1===s.tag){(u=Fi(-1,n&-n)).tag=2;var c=s.updateQueue;if(null!==c){var d=(c=c.shared).pending;null===d?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=n,null!==(u=s.alternate)&&(u.lanes|=n),Ai(s.return,n,t),l.lanes|=n;break}u=u.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(i(341));a.lanes|=n,null!==(l=a.alternate)&&(l.lanes|=n),Ai(a,n,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}wa(e,t,o.children,n),t=t.child}return t;case 9:return o=t.type,r=t.pendingProps.children,Ii(t,n),r=r(o=Ni(o)),t.flags|=1,wa(e,t,r,n),t.child;case 14:return o=na(r=t.type,t.pendingProps),xa(e,t,r,o=na(r.type,o),n);case 15:return Ca(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,o=t.pendingProps,o=t.elementType===r?o:na(r,o),Ha(e,t),t.tag=1,Po(r)?(e=!0,Lo(t)):e=!1,Ii(t,n),sa(t,r,o),la(t,r,o,n),Oa(null,t,r,!0,e,n);case 19:return qa(e,t,n);case 22:return Ea(e,t,n)}throw Error(i(156,t.tag))};var Gu="function"===typeof reportError?reportError:function(e){console.error(e)};function Ku(e){this._internalRoot=e}function Ju(e){this._internalRoot=e}function Yu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xu(){}function Qu(e,t,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if("function"===typeof o){var a=o;o=function(){var e=Vu(s);a.call(e)}}Hu(t,s,e,o)}else s=function(e,t,n,r,o){if(o){if("function"===typeof r){var i=r;r=function(){var e=Vu(s);i.call(e)}}var s=qu(t,r,e,0,null,!1,0,"",Xu);return e._reactRootContainer=s,e[mo]=s.current,qr(8===e.nodeType?e.parentNode:e),cu(),s}for(;o=e.lastChild;)e.removeChild(o);if("function"===typeof r){var a=r;r=function(){var e=Vu(l);a.call(e)}}var l=$u(e,0,!1,null,0,!1,0,"",Xu);return e._reactRootContainer=l,e[mo]=l.current,qr(8===e.nodeType?e.parentNode:e),cu((function(){Hu(t,l,n,r)})),l}(n,t,e,o,r);return Vu(s)}Ju.prototype.render=Ku.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(i(409));Hu(e,t,null,null)},Ju.prototype.unmount=Ku.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cu((function(){Hu(null,e,null,null)})),t[mo]=null}},Ju.prototype.unstable_scheduleHydration=function(e){if(e){var t=Et();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pt.length&&0!==t&&t<Pt[n].priority;n++);Pt.splice(n,0,e),0===n&&Lt(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),ru(t,Ze()),0===(6&Ol)&&(ql=Ze()+500,Ho()))}break;case 13:cu((function(){var t=Di(e,1);if(null!==t){var n=eu();nu(t,e,1,n)}})),Wu(e,1)}},xt=function(e){if(13===e.tag){var t=Di(e,134217728);if(null!==t)nu(t,e,134217728,eu());Wu(e,134217728)}},Ct=function(e){if(13===e.tag){var t=tu(e),n=Di(e,t);if(null!==n)nu(n,e,t,eu());Wu(e,t)}},Et=function(){return bt},St=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var o=xo(r);if(!o)throw Error(i(90));G(r),X(r,o)}}}break;case"textarea":ie(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Oe=uu,Ae=cu;var ec={usingClientEntryPoint:!1,Events:[wo,_o,xo,ke,Te,uu]},tc={findFiberByHostInstance:bo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nc={bundleType:tc.bundleType,version:tc.version,rendererPackageName:tc.rendererPackageName,rendererConfig:tc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=ze(e))?null:e.stateNode},findFiberByHostInstance:tc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rc.isDisabled&&rc.supportsFiber)try{ot=rc.inject(nc),it=rc}catch(ce){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ec,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yu(t))throw Error(i(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Yu(e))throw Error(i(299));var n=!1,r="",o=Gu;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(o=t.onRecoverableError)),t=$u(e,1,!1,null,0,n,0,r,o),e[mo]=t.current,qr(8===e.nodeType?e.parentNode:e),new Ku(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(i(188));throw e=Object.keys(e).join(","),Error(i(268,e))}return e=null===(e=ze(t))?null:e.stateNode},t.flushSync=function(e){return cu(e)},t.hydrate=function(e,t,n){if(!Zu(t))throw Error(i(200));return Qu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yu(e))throw Error(i(405));var r=null!=n&&n.hydratedSources||null,o=!1,s="",a=Gu;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(o=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(a=n.onRecoverableError)),t=qu(t,null,e,1,null!=n?n:null,o,0,s,a),e[mo]=t.current,qr(e),r)for(e=0;e<r.length;e++)o=(o=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,o]:t.mutableSourceEagerHydrationData.push(n,o);return new Ju(t)},t.render=function(e,t,n){if(!Zu(t))throw Error(i(200));return Qu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zu(e))throw Error(i(40));return!!e._reactRootContainer&&(cu((function(){Qu(null,null,e,!1,(function(){e._reactRootContainer=null,e[mo]=null}))})),!0)},t.unstable_batchedUpdates=uu,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zu(n))throw Error(i(200));if(null==e||void 0===e._reactInternals)throw Error(i(38));return Qu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},740:e=>{"use strict";e.exports=function(e,t,n,r,o,i,s,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,o,i,s,a],c=0;(l=new Error(t.replace(/%s/g,(function(){return u[c++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".fc107698.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="mw-express-client:";n.l=(r,o,i,s)=>{if(e[r])e[r].push(o);else{var a,l;if(void 0!==i)for(var u=document.getElementsByTagName("script"),c=0;c<u.length;c++){var d=u[c];if(d.getAttribute("src")==r||d.getAttribute("data-webpack")==t+i){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+i),a.src=r),e[r]=[o];var f=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var o=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(n))),t)return t(n)},p=setTimeout(f.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=f.bind(null,a.onerror),a.onload=f.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/mw-express-client-build/",(()=>{var e={792:0};n.f.j=(t,r)=>{var o=n.o(e,t)?e[t]:void 0;if(0!==o)if(o)r.push(o[2]);else{var i=new Promise(((n,r)=>o=e[t]=[n,r]));r.push(o[2]=i);var s=n.p+n.u(t),a=new Error;n.l(s,(r=>{if(n.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var i=r&&("load"===r.type?"missing":r.type),s=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+i+": "+s+")",a.name="ChunkLoadError",a.type=i,a.request=s,o[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var o,i,s=r[0],a=r[1],l=r[2],u=0;if(s.some((t=>0!==e[t]))){for(o in a)n.o(a,o)&&(n.m[o]=a[o]);if(l)l(n)}for(t&&t(r);u<s.length;u++)i=s[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0},r=self.webpackChunkmw_express_client=self.webpackChunkmw_express_client||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>aa,hasStandardBrowserEnv:()=>ua,hasStandardBrowserWebWorkerEnv:()=>ca,navigator:()=>la,origin:()=>da});var t=n(43),r=n(391),o=n(139),i=n.n(o),s=n(579);const a=["xxl","xl","lg","md","sm","xs"],l="xs",u=t.createContext({prefixes:{},breakpoints:a,minBreakpoint:l}),{Consumer:c,Provider:d}=u;function f(e,n){const{prefixes:r}=(0,t.useContext)(u);return e||r[n]||n}function p(){const{breakpoints:e}=(0,t.useContext)(u);return e}function h(){const{minBreakpoint:e}=(0,t.useContext)(u);return e}function m(){const{dir:e}=(0,t.useContext)(u);return"rtl"===e}const g=t.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:r=!1,as:o="div",className:a,...l}=e;const u=f(n,"container"),c="string"===typeof r?`-${r}`:"-fluid";return(0,s.jsx)(o,{ref:t,...l,className:i()(a,r?`${u}${c}`:u)})}));g.displayName="Container";const y=g,v=!("undefined"===typeof window||!window.document||!window.document.createElement);var b=!1,w=!1;try{var _={get passive(){return b=!0},get once(){return w=b=!0}};v&&(window.addEventListener("test",_,_),window.removeEventListener("test",_,!0))}catch(Cx){}const x=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!w){var o=r.once,i=r.capture,s=n;!w&&o&&(s=n.__once||function e(r){this.removeEventListener(t,e,i),n.call(this,r)},n.__once=s),e.addEventListener(t,s,b?r:i)}e.addEventListener(t,n,r)};function C(e){return e&&e.ownerDocument||document}const E=function(e,t,n,r){var o=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,o),n.__once&&e.removeEventListener(t,n.__once,o)};var S;function k(e){if((!S&&0!==S||e)&&v){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),S=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return S}function T(){return(0,t.useState)(null)}const O=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e}),[e]),n};function A(e){const n=O(e);return(0,t.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const I=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const N=function(e,n){return(0,t.useMemo)((()=>function(e,t){const n=I(e),r=I(t);return e=>{n&&n(e),r&&r(e)}}(e,n)),[e,n])};function R(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((()=>()=>n.current()),[])}function P(e,t){return function(e){var t=C(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var j=/([A-Z])/g;var D=/^ms-/;function M(e){return function(e){return e.replace(j,"-$1").toLowerCase()}(e).replace(D,"-ms-")}var L=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const U=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(M(t))||P(e).getPropertyValue(M(t));Object.keys(t).forEach((function(o){var i=t[o];i||0===i?!function(e){return!(!e||!L.test(e))}(o)?n+=M(o)+": "+i+";":r+=o+"("+i+") ":e.style.removeProperty(M(o))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};const F=function(e,t,n,r){return x(e,t,n,r),function(){E(e,t,n,r)}};function $(e,t,n){void 0===n&&(n=5);var r=!1,o=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var o=document.createEvent("HTMLEvents");o.initEvent(t,n,r),e.dispatchEvent(o)}}(e,"transitionend",!0)}),t+n),i=F(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(o),i()}}function B(e,t,n,r){null==n&&(n=function(e){var t=U(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var o=$(e,n,r),i=F(e,"transitionend",t);return function(){o(),i()}}function q(e){void 0===e&&(e=C());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(Cx){return e.body}}function H(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}var V=n(950);function z(){const e=(0,t.useRef)(!0),n=(0,t.useRef)((()=>e.current));return(0,t.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),n.current}function W(e){const n=(0,t.useRef)(null);return(0,t.useEffect)((()=>{n.current=e})),n.current}function G(e){return`data-rr-ui-${e}`}const K=G("modal-open");const J=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]=`${parseInt(U(r,n)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(K,""),U(r,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(K),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},Y=(0,t.createContext)(v?window:void 0);Y.Provider;function Z(){return(0,t.useContext)(Y)}const X=(e,t)=>v?null==e?(t||C()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const Q="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,ee="undefined"!==typeof document||Q?t.useLayoutEffect:t.useEffect;const te=function(e){let{children:n,in:r,onExited:o,mountOnEnter:i,unmountOnExit:s}=e;const a=(0,t.useRef)(null),l=(0,t.useRef)(r),u=A(o);(0,t.useEffect)((()=>{r?l.current=!0:u(a.current)}),[r,u]);const c=N(a,n.ref),d=(0,t.cloneElement)(n,{ref:c});return r?d:s||!l.current&&i?null:d};function ne(){const e=t.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}const re=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];const oe=["component"];const ie=t.forwardRef(((e,n)=>{let{component:r}=e;const o=function(e){let{onEnter:n,onEntering:r,onEntered:o,onExit:i,onExiting:s,onExited:a,addEndListener:l,children:u}=e,c=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,re);const{major:d}=ne(),f=d>=19?u.props.ref:u.ref,p=(0,t.useRef)(null),h=N(p,"function"===typeof u?null:f),m=e=>t=>{e&&p.current&&e(p.current,t)},g=(0,t.useCallback)(m(n),[n]),y=(0,t.useCallback)(m(r),[r]),v=(0,t.useCallback)(m(o),[o]),b=(0,t.useCallback)(m(i),[i]),w=(0,t.useCallback)(m(s),[s]),_=(0,t.useCallback)(m(a),[a]),x=(0,t.useCallback)(m(l),[l]);return Object.assign({},c,{nodeRef:p},n&&{onEnter:g},r&&{onEntering:y},o&&{onEntered:v},i&&{onExit:b},s&&{onExiting:w},a&&{onExited:_},l&&{addEndListener:x},{children:"function"===typeof u?(e,t)=>u(e,Object.assign({},t,{ref:h})):(0,t.cloneElement)(u,{ref:h})})}(function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,oe));return(0,s.jsx)(r,Object.assign({ref:n},o))}));function se(e){let{children:n,in:r,onExited:o,onEntered:i,transition:s}=e;const[a,l]=(0,t.useState)(!r);r&&a&&l(!1);const u=function(e){let{in:n,onTransition:r}=e;const o=(0,t.useRef)(null),i=(0,t.useRef)(!0),s=A(r);return ee((()=>{if(!o.current)return;let e=!1;return s({in:n,element:o.current,initial:i.current,isStale:()=>e}),()=>{e=!0}}),[n,s]),ee((()=>(i.current=!1,()=>{i.current=!0})),[]),o}({in:!!r,onTransition:e=>{Promise.resolve(s(e)).then((()=>{e.isStale()||(e.in?null==i||i(e.element,e.initial):(l(!0),null==o||o(e.element)))}),(t=>{throw e.in||l(!0),t}))}}),c=N(u,n.ref);return a&&!r?null:(0,t.cloneElement)(n,{ref:c})}function ae(e,t,n){return e?(0,s.jsx)(ie,Object.assign({},n,{component:e})):t?(0,s.jsx)(se,Object.assign({},n,{transition:t})):(0,s.jsx)(te,Object.assign({},n))}const le=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let ue;function ce(e){const n=Z(),r=e||function(e){return ue||(ue=new J({ownerDocument:null==e?void 0:e.document})),ue}(n),o=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(o.current,{add:()=>r.add(o.current),remove:()=>r.remove(o.current),isTopModal:()=>r.isTopModal(o.current),setDialogRef:(0,t.useCallback)((e=>{o.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((e=>{o.current.backdrop=e}),[])})}const de=(0,t.forwardRef)(((e,n)=>{let{show:r=!1,role:o="dialog",className:i,style:a,children:l,backdrop:u=!0,keyboard:c=!0,onBackdropClick:d,onEscapeKeyDown:f,transition:p,runTransition:h,backdropTransition:m,runBackdropTransition:g,autoFocus:y=!0,enforceFocus:b=!0,restoreFocus:w=!0,restoreFocusOptions:_,renderDialog:x,renderBackdrop:C=e=>(0,s.jsx)("div",Object.assign({},e)),manager:E,container:S,onShow:k,onHide:T=()=>{},onExit:O,onExited:I,onExiting:N,onEnter:P,onEntering:j,onEntered:D}=e,M=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,le);const L=Z(),U=function(e,n){const r=Z(),[o,i]=(0,t.useState)((()=>X(e,null==r?void 0:r.document)));if(!o){const t=X(e);t&&i(t)}return(0,t.useEffect)((()=>{n&&o&&n(o)}),[n,o]),(0,t.useEffect)((()=>{const t=X(e);t!==o&&i(t)}),[e,o]),o}(S),$=ce(E),B=z(),G=W(r),[K,J]=(0,t.useState)(!r),Y=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(()=>$),[$]),v&&!G&&r&&(Y.current=q(null==L?void 0:L.document)),r&&K&&J(!1);const Q=A((()=>{if($.add(),ie.current=F(document,"keydown",re),oe.current=F(document,"focus",(()=>setTimeout(te)),!0),k&&k(),y){var e,t;const n=q(null!=(e=null==(t=$.dialog)?void 0:t.ownerDocument)?e:null==L?void 0:L.document);$.dialog&&n&&!H($.dialog,n)&&(Y.current=n,$.dialog.focus())}})),ee=A((()=>{var e;($.remove(),null==ie.current||ie.current(),null==oe.current||oe.current(),w)&&(null==(e=Y.current)||null==e.focus||e.focus(_),Y.current=null)}));(0,t.useEffect)((()=>{r&&U&&Q()}),[r,U,Q]),(0,t.useEffect)((()=>{K&&ee()}),[K,ee]),R((()=>{ee()}));const te=A((()=>{if(!b||!B()||!$.isTopModal())return;const e=q(null==L?void 0:L.document);$.dialog&&e&&!H($.dialog,e)&&$.dialog.focus()})),ne=A((e=>{e.target===e.currentTarget&&(null==d||d(e),!0===u&&T())})),re=A((e=>{c&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&$.isTopModal()&&(null==f||f(e),e.defaultPrevented||T())})),oe=(0,t.useRef)(),ie=(0,t.useRef)();if(!U)return null;const se=Object.assign({role:o,ref:$.setDialogRef,"aria-modal":"dialog"===o||void 0},M,{style:a,className:i,tabIndex:-1});let ue=x?x(se):(0,s.jsx)("div",Object.assign({},se,{children:t.cloneElement(l,{role:"document"})}));ue=ae(p,h,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:O,onExiting:N,onExited:function(){J(!0),null==I||I(...arguments)},onEnter:P,onEntering:j,onEntered:D,children:ue});let de=null;return u&&(de=C({ref:$.setBackdropRef,onClick:ne}),de=ae(m,g,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:de})),(0,s.jsx)(s.Fragment,{children:V.createPortal((0,s.jsxs)(s.Fragment,{children:[de,ue]}),U)})}));de.displayName="Modal";const fe=Object.assign(de,{Manager:J});var pe=Function.prototype.bind.call(Function.prototype.call,[].slice);function he(e,t){return pe(e.querySelectorAll(t))}function me(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const ge=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",ye=".sticky-top",ve=".navbar-toggler";class be extends J{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,U(t,{[e]:`${parseFloat(U(t,e))+n}px`})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],U(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,r;if(r="modal-open",(n=t).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!e.scrollBarWidth)return;const o=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";he(t,ge).forEach((t=>this.adjustAndStore(o,t,e.scrollBarWidth))),he(t,ye).forEach((t=>this.adjustAndStore(i,t,-e.scrollBarWidth))),he(t,ve).forEach((t=>this.adjustAndStore(i,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,r;r="modal-open",(n=t).classList?n.classList.remove(r):"string"===typeof n.className?n.className=me(n.className,r):n.setAttribute("class",me(n.className&&n.className.baseVal||"",r));const o=this.isRTL?"paddingLeft":"paddingRight",i=this.isRTL?"marginLeft":"marginRight";he(t,ge).forEach((e=>this.restore(o,e))),he(t,ye).forEach((e=>this.restore(i,e))),he(t,ve).forEach((e=>this.restore(i,e)))}}let we;function _e(e){return we||(we=new be(e)),we}const xe=be;function Ce(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function Ee(e,t){return Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ee(e,t)}const Se=!1,ke=t.createContext(null);var Te="unmounted",Oe="exited",Ae="entering",Ie="entered",Ne="exiting",Re=function(e){var n,r;function o(t,n){var r;r=e.call(this,t,n)||this;var o,i=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?i?(o=Oe,r.appearStatus=Ae):o=Ie:o=t.unmountOnExit||t.mountOnEnter?Te:Oe,r.state={status:o},r.nextCallback=null,r}r=e,(n=o).prototype=Object.create(r.prototype),n.prototype.constructor=n,Ee(n,r),o.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Te?{status:Oe}:null};var i=o.prototype;return i.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},i.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Ae&&n!==Ie&&(t=Ae):n!==Ae&&n!==Ie||(t=Ne)}this.updateStatus(!1,t)},i.componentWillUnmount=function(){this.cancelNextCallback()},i.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},i.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Ae){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:V.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Oe&&this.setState({status:Te})},i.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,o=this.props.nodeRef?[r]:[V.findDOMNode(this),r],i=o[0],s=o[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||Se?this.safeSetState({status:Ie},(function(){t.props.onEntered(i)})):(this.props.onEnter(i,s),this.safeSetState({status:Ae},(function(){t.props.onEntering(i,s),t.onTransitionEnd(l,(function(){t.safeSetState({status:Ie},(function(){t.props.onEntered(i,s)}))}))})))},i.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:V.findDOMNode(this);t&&!Se?(this.props.onExit(r),this.safeSetState({status:Ne},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Oe},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Oe},(function(){e.props.onExited(r)}))},i.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},i.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},i.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},i.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:V.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var o=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],i=o[0],s=o[1];this.props.addEndListener(i,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},i.render=function(){var e=this.state.status;if(e===Te)return null;var n=this.props,r=n.children,o=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,Ce(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(ke.Provider,{value:null},"function"===typeof r?r(e,o):t.cloneElement(t.Children.only(r),o))},o}(t.Component);function Pe(){}Re.contextType=ke,Re.propTypes={},Re.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Pe,onEntering:Pe,onEntered:Pe,onExit:Pe,onExiting:Pe,onExited:Pe},Re.UNMOUNTED=Te,Re.EXITED=Oe,Re.ENTERING=Ae,Re.ENTERED=Ie,Re.EXITING=Ne;const je=Re;function De(e,t){const n=U(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function Me(e,t){const n=De(e,"transitionDuration"),r=De(e,"transitionDelay"),o=B(e,(n=>{n.target===e&&(o(),t(n))}),n+r)}function Le(e){e.offsetHeight}const Ue=t.forwardRef(((e,n)=>{let{onEnter:r,onEntering:o,onEntered:i,onExit:a,onExiting:l,onExited:u,addEndListener:c,children:d,childRef:f,...p}=e;const h=(0,t.useRef)(null),m=N(h,f),g=e=>{var t;m((t=e)&&"setState"in t?V.findDOMNode(t):null!=t?t:null)},y=e=>t=>{e&&h.current&&e(h.current,t)},v=(0,t.useCallback)(y(r),[r]),b=(0,t.useCallback)(y(o),[o]),w=(0,t.useCallback)(y(i),[i]),_=(0,t.useCallback)(y(a),[a]),x=(0,t.useCallback)(y(l),[l]),C=(0,t.useCallback)(y(u),[u]),E=(0,t.useCallback)(y(c),[c]);return(0,s.jsx)(je,{ref:n,...p,onEnter:v,onEntered:w,onEntering:b,onExit:_,onExited:C,onExiting:x,addEndListener:E,nodeRef:h,children:"function"===typeof d?(e,t)=>d(e,{...t,ref:g}):t.cloneElement(d,{ref:g})})})),Fe={[Ae]:"show",[Ie]:"show"},$e=t.forwardRef(((e,n)=>{let{className:r,children:o,transitionClasses:a={},onEnter:l,...u}=e;const c={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...u},d=(0,t.useCallback)(((e,t)=>{Le(e),null==l||l(e,t)}),[l]),{major:f}=ne(),p=f>=19?o.props.ref:o.ref;return(0,s.jsx)(Ue,{ref:n,addEndListener:Me,...c,onEnter:d,childRef:p,children:(e,n)=>t.cloneElement(o,{...n,className:i()("fade",r,o.props.className,Fe[e],a[e])})})}));$e.displayName="Fade";const Be=$e,qe=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="div",...a}=e;return r=f(r,"modal-body"),(0,s.jsx)(o,{ref:t,className:i()(n,r),...a})}));qe.displayName="ModalBody";const He=qe,Ve=t.createContext({onHide(){}}),ze=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,contentClassName:o,centered:a,size:l,fullscreen:u,children:c,scrollable:d,...p}=e;n=f(n,"modal");const h=`${n}-dialog`,m="string"===typeof u?`${n}-fullscreen-${u}`:`${n}-fullscreen`;return(0,s.jsx)("div",{...p,ref:t,className:i()(h,r,l&&`${n}-${l}`,a&&`${h}-centered`,d&&`${h}-scrollable`,u&&m),children:(0,s.jsx)("div",{className:i()(`${n}-content`,o),children:c})})}));ze.displayName="ModalDialog";const We=ze,Ge=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="div",...a}=e;return r=f(r,"modal-footer"),(0,s.jsx)(o,{ref:t,className:i()(n,r),...a})}));Ge.displayName="ModalFooter";const Ke=Ge;var Je=n(173),Ye=n.n(Je);const Ze={"aria-label":Ye().string,onClick:Ye().func,variant:Ye().oneOf(["white"])},Xe=t.forwardRef(((e,t)=>{let{className:n,variant:r,"aria-label":o="Close",...a}=e;return(0,s.jsx)("button",{ref:t,type:"button",className:i()("btn-close",r&&`btn-close-${r}`,n),"aria-label":o,...a})}));Xe.displayName="CloseButton",Xe.propTypes=Ze;const Qe=Xe,et=t.forwardRef(((e,n)=>{let{closeLabel:r="Close",closeVariant:o,closeButton:i=!1,onHide:a,children:l,...u}=e;const c=(0,t.useContext)(Ve),d=A((()=>{null==c||c.onHide(),null==a||a()}));return(0,s.jsxs)("div",{ref:n,...u,children:[l,i&&(0,s.jsx)(Qe,{"aria-label":r,variant:o,onClick:d})]})})),tt=et,nt=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:o="Close",closeButton:a=!1,...l}=e;return n=f(n,"modal-header"),(0,s.jsx)(tt,{ref:t,...l,className:i()(r,n),closeLabel:o,closeButton:a})}));nt.displayName="ModalHeader";const rt=nt,ot=e=>t.forwardRef(((t,n)=>(0,s.jsx)("div",{...t,ref:n,className:i()(t.className,e)}))),it=ot("h4"),st=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o=it,...a}=e;return r=f(r,"modal-title"),(0,s.jsx)(o,{ref:t,className:i()(n,r),...a})}));st.displayName="ModalTitle";const at=st;function lt(e){return(0,s.jsx)(Be,{...e,timeout:null})}function ut(e){return(0,s.jsx)(Be,{...e,timeout:null})}const ct=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:o,style:a,dialogClassName:l,contentClassName:u,children:c,dialogAs:d=We,"data-bs-theme":p,"aria-labelledby":h,"aria-describedby":g,"aria-label":y,show:b=!1,animation:w=!0,backdrop:_=!0,keyboard:S=!0,onEscapeKeyDown:O,onShow:I,onHide:P,container:j,autoFocus:D=!0,enforceFocus:M=!0,restoreFocus:L=!0,restoreFocusOptions:U,onEntered:F,onExit:$,onExiting:q,onEnter:H,onEntering:V,onExited:z,backdropClassName:W,manager:G,...K}=e;const[J,Y]=(0,t.useState)({}),[Z,X]=(0,t.useState)(!1),Q=(0,t.useRef)(!1),ee=(0,t.useRef)(!1),te=(0,t.useRef)(null),[ne,re]=T(),oe=N(n,re),ie=A(P),se=m();r=f(r,"modal");const ae=(0,t.useMemo)((()=>({onHide:ie})),[ie]);function le(){return G||_e({isRTL:se})}function ue(e){if(!v)return;const t=le().getScrollbarWidth()>0,n=e.scrollHeight>C(e).documentElement.clientHeight;Y({paddingRight:t&&!n?k():void 0,paddingLeft:!t&&n?k():void 0})}const ce=A((()=>{ne&&ue(ne.dialog)}));R((()=>{E(window,"resize",ce),null==te.current||te.current()}));const de=()=>{Q.current=!0},pe=e=>{Q.current&&ne&&e.target===ne.dialog&&(ee.current=!0),Q.current=!1},he=()=>{X(!0),te.current=B(ne.dialog,(()=>{X(!1)}))},me=e=>{"static"!==_?ee.current||e.target!==e.currentTarget?ee.current=!1:null==P||P():(e=>{e.target===e.currentTarget&&he()})(e)},ge=(0,t.useCallback)((e=>(0,s.jsx)("div",{...e,className:i()(`${r}-backdrop`,W,!w&&"show")})),[w,W,r]),ye={...a,...J};ye.display="block";return(0,s.jsx)(Ve.Provider,{value:ae,children:(0,s.jsx)(fe,{show:b,ref:oe,backdrop:_,container:j,keyboard:!0,autoFocus:D,enforceFocus:M,restoreFocus:L,restoreFocusOptions:U,onEscapeKeyDown:e=>{S?null==O||O(e):(e.preventDefault(),"static"===_&&he())},onShow:I,onHide:P,onEnter:(e,t)=>{e&&ue(e),null==H||H(e,t)},onEntering:(e,t)=>{null==V||V(e,t),x(window,"resize",ce)},onEntered:F,onExit:e=>{null==te.current||te.current(),null==$||$(e)},onExiting:q,onExited:e=>{e&&(e.style.display=""),null==z||z(e),E(window,"resize",ce)},manager:le(),transition:w?lt:void 0,backdropTransition:w?ut:void 0,renderBackdrop:ge,renderDialog:e=>(0,s.jsx)("div",{role:"dialog",...e,style:ye,className:i()(o,r,Z&&`${r}-static`,!w&&"show"),onClick:_?me:void 0,onMouseUp:pe,"data-bs-theme":p,"aria-label":y,"aria-labelledby":h,"aria-describedby":g,children:(0,s.jsx)(d,{...K,onMouseDown:de,className:l,contentClassName:u,children:c})})})})}));ct.displayName="Modal";const dt=Object.assign(ct,{Body:He,Header:rt,Title:at,Footer:Ke,Dialog:We,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),ft=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},pt=t.createContext(null);function ht(){return ht=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ht.apply(null,arguments)}n(740);function mt(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function gt(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function yt(e,n){return Object.keys(n).reduce((function(r,o){var i,s=r,a=s[mt(o)],l=s[o],u=Ce(s,[mt(o),o].map(gt)),c=n[o],d=function(e,n,r){var o=(0,t.useRef)(void 0!==e),i=(0,t.useState)(n),s=i[0],a=i[1],l=void 0!==e,u=o.current;return o.current=l,!l&&u&&s!==n&&a(n),[l?e:s,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];r&&r.apply(void 0,[e].concat(n)),a(e)}),[r])]}(l,a,e[c]),f=d[0],p=d[1];return ht({},u,((i={})[o]=f,i[c]=p,i))}),e)}function vt(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function bt(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function wt(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}vt.__suppressDeprecationWarning=!0,bt.__suppressDeprecationWarning=!0,wt.__suppressDeprecationWarning=!0;const _t=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:o,...a}=e;n=f(n,"navbar-brand");const l=o||(a.href?"a":"span");return(0,s.jsx)(l,{...a,ref:t,className:i()(r,n)})}));_t.displayName="NavbarBrand";const xt=_t;const Ct=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>null!=e)).reduce(((e,t)=>{if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];e.apply(this,r),t.apply(this,r)}}),null)},Et={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function St(e,t){const n=t[`offset${e[0].toUpperCase()}${e.slice(1)}`],r=Et[e];return n+parseInt(U(t,r[0]),10)+parseInt(U(t,r[1]),10)}const kt={[Oe]:"collapse",[Ne]:"collapsing",[Ae]:"collapsing",[Ie]:"collapse show"},Tt=t.forwardRef(((e,n)=>{let{onEnter:r,onEntering:o,onEntered:a,onExit:l,onExiting:u,className:c,children:d,dimension:f="height",in:p=!1,timeout:h=300,mountOnEnter:m=!1,unmountOnExit:g=!1,appear:y=!1,getDimensionValue:v=St,...b}=e;const w="function"===typeof f?f():f,_=(0,t.useMemo)((()=>Ct((e=>{e.style[w]="0"}),r)),[w,r]),x=(0,t.useMemo)((()=>Ct((e=>{const t=`scroll${w[0].toUpperCase()}${w.slice(1)}`;e.style[w]=`${e[t]}px`}),o)),[w,o]),C=(0,t.useMemo)((()=>Ct((e=>{e.style[w]=null}),a)),[w,a]),E=(0,t.useMemo)((()=>Ct((e=>{e.style[w]=`${v(w,e)}px`,Le(e)}),l)),[l,v,w]),S=(0,t.useMemo)((()=>Ct((e=>{e.style[w]=null}),u)),[w,u]);return(0,s.jsx)(Ue,{ref:n,addEndListener:Me,...b,"aria-expanded":b.role?p:null,onEnter:_,onEntering:x,onEntered:C,onExit:E,onExiting:S,childRef:d.ref,in:p,timeout:h,mountOnEnter:m,unmountOnExit:g,appear:y,children:(e,n)=>t.cloneElement(d,{...n,className:i()(c,d.props.className,kt[e],"width"===w&&"collapse-horizontal")})})})),Ot=t.createContext(null);Ot.displayName="NavbarContext";const At=Ot,It=t.forwardRef(((e,n)=>{let{children:r,bsPrefix:o,...i}=e;o=f(o,"navbar-collapse");const a=(0,t.useContext)(At);return(0,s.jsx)(Tt,{in:!(!a||!a.expanded),...i,children:(0,s.jsx)("div",{ref:n,className:o,children:r})})}));It.displayName="NavbarCollapse";const Nt=It,Rt=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:o,children:a,label:l="Toggle navigation",as:u="button",onClick:c,...d}=e;r=f(r,"navbar-toggler");const{onToggle:p,expanded:h}=(0,t.useContext)(At)||{},m=A((e=>{c&&c(e),p&&p()}));return"button"===u&&(d.type="button"),(0,s.jsx)(u,{...d,ref:n,onClick:m,"aria-label":l,className:i()(o,r,!h&&"collapsed"),children:a||(0,s.jsx)("span",{className:`${r}-icon`})})}));Rt.displayName="NavbarToggle";const Pt=Rt,jt=new WeakMap,Dt=(e,t)=>{if(!e||!t)return;const n=jt.get(t)||new Map;jt.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function Mt(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window;const r=Dt(e,n),[o,i]=(0,t.useState)((()=>!!r&&r.matches));return ee((()=>{let t=Dt(e,n);if(!t)return i(!1);let r=jt.get(n);const o=()=>{i(t.matches)};return t.refCount++,t.addListener(o),o(),()=>{t.removeListener(o),t.refCount--,t.refCount<=0&&(null==r||r.delete(t.media)),t=void 0}}),[e]),o}const Lt=function(e){const n=Object.keys(e);function r(e,t){return e===t?t:e?`${e} and ${t}`:t}function o(t){const r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(t);let o=e[r];return o="number"===typeof o?o-.2+"px":`calc(${o} - 0.2px)`,`(max-width: ${o})`}return function(n,i,s){let a;return"object"===typeof n?(a=n,s=i,i=!0):(i=i||!0,a={[n]:i}),Mt((0,t.useMemo)((()=>Object.entries(a).reduce(((t,n)=>{let[i,s]=n;return"up"!==s&&!0!==s||(t=r(t,function(t){let n=e[t];return"number"===typeof n&&(n=`${n}px`),`(min-width: ${n})`}(i))),"down"!==s&&!0!==s||(t=r(t,o(i))),t}),"")),[JSON.stringify(a)]),s)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Ut=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="div",...a}=e;return r=f(r,"offcanvas-body"),(0,s.jsx)(o,{ref:t,className:i()(n,r),...a})}));Ut.displayName="OffcanvasBody";const Ft=Ut,$t={[Ae]:"show",[Ie]:"show"},Bt=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:o,children:a,in:l=!1,mountOnEnter:u=!1,unmountOnExit:c=!1,appear:d=!1,...p}=e;return r=f(r,"offcanvas"),(0,s.jsx)(Ue,{ref:n,addEndListener:Me,in:l,mountOnEnter:u,unmountOnExit:c,appear:d,...p,childRef:a.ref,children:(e,n)=>t.cloneElement(a,{...n,className:i()(o,a.props.className,(e===Ae||e===Ne)&&`${r}-toggling`,$t[e])})})}));Bt.displayName="OffcanvasToggling";const qt=Bt,Ht=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:o="Close",closeButton:a=!1,...l}=e;return n=f(n,"offcanvas-header"),(0,s.jsx)(tt,{ref:t,...l,className:i()(r,n),closeLabel:o,closeButton:a})}));Ht.displayName="OffcanvasHeader";const Vt=Ht,zt=ot("h5"),Wt=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o=zt,...a}=e;return r=f(r,"offcanvas-title"),(0,s.jsx)(o,{ref:t,className:i()(n,r),...a})}));Wt.displayName="OffcanvasTitle";const Gt=Wt;function Kt(e){return(0,s.jsx)(qt,{...e})}function Jt(e){return(0,s.jsx)(Be,{...e})}const Yt=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:o,children:a,"aria-labelledby":l,placement:u="start",responsive:c,show:d=!1,backdrop:p=!0,keyboard:h=!0,scroll:m=!1,onEscapeKeyDown:g,onShow:y,onHide:v,container:b,autoFocus:w=!0,enforceFocus:_=!0,restoreFocus:x=!0,restoreFocusOptions:C,onEntered:E,onExit:S,onExiting:k,onEnter:T,onEntering:O,onExited:I,backdropClassName:N,manager:R,renderStaticNode:P=!1,...j}=e;const D=(0,t.useRef)();r=f(r,"offcanvas");const[M,L]=(0,t.useState)(!1),U=A(v),F=Lt(c||"xs","up");(0,t.useEffect)((()=>{L(c?d&&!F:d)}),[d,c,F]);const $=(0,t.useMemo)((()=>({onHide:U})),[U]);const B=(0,t.useCallback)((e=>(0,s.jsx)("div",{...e,className:i()(`${r}-backdrop`,N)})),[N,r]),q=e=>(0,s.jsx)("div",{...e,...j,className:i()(o,c?`${r}-${c}`:r,`${r}-${u}`),"aria-labelledby":l,children:a});return(0,s.jsxs)(s.Fragment,{children:[!M&&(c||P)&&q({}),(0,s.jsx)(Ve.Provider,{value:$,children:(0,s.jsx)(fe,{show:M,ref:n,backdrop:p,container:b,keyboard:h,autoFocus:w,enforceFocus:_&&!m,restoreFocus:x,restoreFocusOptions:C,onEscapeKeyDown:g,onShow:y,onHide:U,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==T||T(e,...n)},onEntering:O,onEntered:E,onExit:S,onExiting:k,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==I||I(...n)},manager:R||(m?(D.current||(D.current=new xe({handleContainerOverflow:!1})),D.current):_e()),transition:Kt,backdropTransition:Jt,renderBackdrop:B,renderDialog:q})})]})}));Yt.displayName="Offcanvas";const Zt=Object.assign(Yt,{Body:Ft,Header:Vt,Title:Gt}),Xt=t.forwardRef(((e,n)=>{let{onHide:r,...o}=e;const i=(0,t.useContext)(At),a=A((()=>{null==i||null==i.onToggle||i.onToggle(),null==r||r()}));return(0,s.jsx)(Zt,{ref:n,show:!(null==i||!i.expanded),...o,renderStaticNode:!0,onHide:a})}));Xt.displayName="NavbarOffcanvas";const Qt=Xt,en=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="span",...a}=e;return r=f(r,"navbar-text"),(0,s.jsx)(o,{ref:t,className:i()(n,r),...a})}));en.displayName="NavbarText";const tn=en,nn=t.forwardRef(((e,n)=>{const{bsPrefix:r,expand:o=!0,variant:a="light",bg:l,fixed:u,sticky:c,className:d,as:p="nav",expanded:h,onToggle:m,onSelect:g,collapseOnSelect:y=!1,...v}=yt(e,{expanded:"onToggle"}),b=f(r,"navbar"),w=(0,t.useCallback)((function(){null==g||g(...arguments),y&&h&&(null==m||m(!1))}),[g,y,h,m]);void 0===v.role&&"nav"!==p&&(v.role="navigation");let _=`${b}-expand`;"string"===typeof o&&(_=`${_}-${o}`);const x=(0,t.useMemo)((()=>({onToggle:()=>null==m?void 0:m(!h),bsPrefix:b,expanded:!!h,expand:o})),[b,h,o,m]);return(0,s.jsx)(At.Provider,{value:x,children:(0,s.jsx)(pt.Provider,{value:w,children:(0,s.jsx)(p,{ref:n,...v,className:i()(d,b,o&&_,a&&`${b}-${a}`,l&&`bg-${l}`,c&&`sticky-${c}`,u&&`fixed-${u}`)})})})}));nn.displayName="Navbar";const rn=Object.assign(nn,{Brand:xt,Collapse:Nt,Offcanvas:Qt,Text:tn,Toggle:Pt});n(197);function on(){const[,e]=(0,t.useReducer)((e=>!e),!1);return e}const sn=t.createContext(null);sn.displayName="NavContext";const an=sn,ln=t.createContext(null),un=["as","disabled"];function cn(e){let{tagName:t,disabled:n,href:r,target:o,rel:i,role:s,onClick:a,tabIndex:l=0,type:u}=e;t||(t=null!=r||null!=o||null!=i?"a":"button");const c={tagName:t};if("button"===t)return[{type:u||"button",disabled:n},c];const d=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==a||a(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=s?s:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===t?o:void 0,"aria-disabled":n||void 0,rel:"a"===t?i:void 0,onClick:d,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),d(e))}},c]}const dn=t.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,o=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,un);const[i,{tagName:a}]=cn(Object.assign({tagName:n,disabled:r},o));return(0,s.jsx)(a,Object.assign({},o,i,{ref:t}))}));dn.displayName="Button";const fn=dn,pn=["as","active","eventKey"];function hn(e){let{key:n,onClick:r,active:o,id:i,role:s,disabled:a}=e;const l=(0,t.useContext)(pt),u=(0,t.useContext)(an),c=(0,t.useContext)(ln);let d=o;const f={role:s};if(u){s||"tablist"!==u.role||(f.role="tab");const e=u.getControllerId(null!=n?n:null),t=u.getControlledId(null!=n?n:null);f[G("event-key")]=n,f.id=e||i,d=null==o&&null!=n?u.activeKey===n:o,!d&&(null!=c&&c.unmountOnExit||null!=c&&c.mountOnEnter)||(f["aria-controls"]=t)}return"tab"===f.role&&(f["aria-selected"]=d,d||(f.tabIndex=-1),a&&(f.tabIndex=-1,f["aria-disabled"]=!0)),f.onClick=A((e=>{a||(null==r||r(e),null!=n&&l&&!e.isPropagationStopped()&&l(n,e))})),[f,{isActive:d}]}const mn=t.forwardRef(((e,t)=>{let{as:n=fn,active:r,eventKey:o}=e,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,pn);const[a,l]=hn(Object.assign({key:ft(o,i.href),active:r},i));return a[G("active")]=l.isActive,(0,s.jsx)(n,Object.assign({},i,a,{ref:t}))}));mn.displayName="NavItem";const gn=mn,yn=["as","onSelect","activeKey","role","onKeyDown"];const vn=()=>{},bn=G("event-key"),wn=t.forwardRef(((e,n)=>{let{as:r="div",onSelect:o,activeKey:i,role:a,onKeyDown:l}=e,u=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,yn);const c=on(),d=(0,t.useRef)(!1),f=(0,t.useContext)(pt),p=(0,t.useContext)(ln);let h,m;p&&(a=a||"tablist",i=p.activeKey,h=p.getControlledId,m=p.getControllerId);const g=(0,t.useRef)(null),y=e=>{const t=g.current;if(!t)return null;const n=he(t,`[${bn}]:not([aria-disabled=true])`),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;const o=n.indexOf(r);if(-1===o)return null;let i=o+e;return i>=n.length&&(i=0),i<0&&(i=n.length-1),n[i]},v=(e,t)=>{null!=e&&(null==o||o(e,t),null==f||f(e,t))};(0,t.useEffect)((()=>{if(g.current&&d.current){const e=g.current.querySelector(`[${bn}][aria-selected=true]`);null==e||e.focus()}d.current=!1}));const b=N(n,g);return(0,s.jsx)(pt.Provider,{value:v,children:(0,s.jsx)(an.Provider,{value:{role:a,activeKey:ft(i),getControlledId:h||vn,getControllerId:m||vn},children:(0,s.jsx)(r,Object.assign({},u,{onKeyDown:e=>{if(null==l||l(e),!p)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=y(-1);break;case"ArrowRight":case"ArrowDown":t=y(1);break;default:return}var n;t&&(e.preventDefault(),v(t.dataset[(n="EventKey",`rrUi${n}`)]||null,e),d.current=!0,c())},ref:b,role:a}))})})}));wn.displayName="Nav";const _n=Object.assign(wn,{Item:gn}),xn=t.createContext(null);xn.displayName="CardHeaderContext";const Cn=xn,En=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="div",...a}=e;return r=f(r,"nav-item"),(0,s.jsx)(o,{ref:t,className:i()(n,r),...a})}));En.displayName="NavItem";const Sn=En;new WeakMap;const kn=["onKeyDown"];const Tn=t.forwardRef(((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,kn);const[o]=cn(Object.assign({tagName:"a"},r)),i=A((e=>{o.onKeyDown(e),null==n||n(e)}));return(a=r.href)&&"#"!==a.trim()&&"button"!==r.role?(0,s.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n})):(0,s.jsx)("a",Object.assign({ref:t},r,o,{onKeyDown:i}));var a}));Tn.displayName="Anchor";const On=Tn,An=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:o=On,active:a,eventKey:l,disabled:u=!1,...c}=e;n=f(n,"nav-link");const[d,p]=hn({key:ft(l,c.href),active:a,disabled:u,...c});return(0,s.jsx)(o,{...c,...d,ref:t,disabled:u,className:i()(r,n,u&&"disabled",p.isActive&&"active")})}));An.displayName="NavLink";const In=An,Nn=t.forwardRef(((e,n)=>{const{as:r="div",bsPrefix:o,variant:a,fill:l=!1,justify:u=!1,navbar:c,navbarScroll:d,className:p,activeKey:h,...m}=yt(e,{activeKey:"onSelect"}),g=f(o,"nav");let y,v,b=!1;const w=(0,t.useContext)(At),_=(0,t.useContext)(Cn);return w?(y=w.bsPrefix,b=null==c||c):_&&({cardHeaderBsPrefix:v}=_),(0,s.jsx)(_n,{as:r,ref:n,activeKey:h,className:i()(p,{[g]:!b,[`${y}-nav`]:b,[`${y}-nav-scroll`]:b&&d,[`${v}-${a}`]:!!v,[`${g}-${a}`]:!!a,[`${g}-fill`]:l,[`${g}-justified`]:u}),...m})}));Nn.displayName="Nav";const Rn=Object.assign(Nn,{Item:Sn,Link:In});function Pn(e,n,r){const o=(0,t.useRef)(void 0!==e),[i,s]=(0,t.useState)(n),a=void 0!==e,l=o.current;return o.current=a,!a&&l&&i!==n&&s(n),[a?e:i,(0,t.useCallback)((function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const[o,...i]=t;let a=null==r?void 0:r(o,...i);return s(o),a}),[r])]}const jn=t.createContext(null);var Dn=Object.prototype.hasOwnProperty;function Mn(e,t,n){for(n of e.keys())if(Ln(n,t))return n}function Ln(e,t){var n,r,o;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&Ln(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;for(r of e){if((o=r)&&"object"===typeof o&&!(o=Mn(t,o)))return!1;if(!t.has(o))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e){if((o=r[0])&&"object"===typeof o&&!(o=Mn(t,o)))return!1;if(!Ln(r[1],t.get(o)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(Dn.call(e,n)&&++r&&!Dn.call(t,n))return!1;if(!(n in t)||!Ln(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}const Un=function(e){const n=z();return[e[0],(0,t.useCallback)((t=>{if(n())return e[1](t)}),[n,e[1]])]};function Fn(e){return e.split("-")[0]}function $n(e){if(null==e)return window;if("[object Window]"!==e.toString()){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function Bn(e){return e instanceof $n(e).Element||e instanceof Element}function qn(e){return e instanceof $n(e).HTMLElement||e instanceof HTMLElement}function Hn(e){return"undefined"!==typeof ShadowRoot&&(e instanceof $n(e).ShadowRoot||e instanceof ShadowRoot)}var Vn=Math.max,zn=Math.min,Wn=Math.round;function Gn(){var e=navigator.userAgentData;return null!=e&&e.brands&&Array.isArray(e.brands)?e.brands.map((function(e){return e.brand+"/"+e.version})).join(" "):navigator.userAgent}function Kn(){return!/^((?!chrome|android).)*safari/i.test(Gn())}function Jn(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1);var r=e.getBoundingClientRect(),o=1,i=1;t&&qn(e)&&(o=e.offsetWidth>0&&Wn(r.width)/e.offsetWidth||1,i=e.offsetHeight>0&&Wn(r.height)/e.offsetHeight||1);var s=(Bn(e)?$n(e):window).visualViewport,a=!Kn()&&n,l=(r.left+(a&&s?s.offsetLeft:0))/o,u=(r.top+(a&&s?s.offsetTop:0))/i,c=r.width/o,d=r.height/i;return{width:c,height:d,top:u,right:l+c,bottom:u+d,left:l,x:l,y:u}}function Yn(e){var t=Jn(e),n=e.offsetWidth,r=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-r)<=1&&(r=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:r}}function Zn(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&Hn(n)){var r=t;do{if(r&&e.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Xn(e){return e?(e.nodeName||"").toLowerCase():null}function Qn(e){return $n(e).getComputedStyle(e)}function er(e){return["table","td","th"].indexOf(Xn(e))>=0}function tr(e){return((Bn(e)?e.ownerDocument:e.document)||window.document).documentElement}function nr(e){return"html"===Xn(e)?e:e.assignedSlot||e.parentNode||(Hn(e)?e.host:null)||tr(e)}function rr(e){return qn(e)&&"fixed"!==Qn(e).position?e.offsetParent:null}function or(e){for(var t=$n(e),n=rr(e);n&&er(n)&&"static"===Qn(n).position;)n=rr(n);return n&&("html"===Xn(n)||"body"===Xn(n)&&"static"===Qn(n).position)?t:n||function(e){var t=/firefox/i.test(Gn());if(/Trident/i.test(Gn())&&qn(e)&&"fixed"===Qn(e).position)return null;var n=nr(e);for(Hn(n)&&(n=n.host);qn(n)&&["html","body"].indexOf(Xn(n))<0;){var r=Qn(n);if("none"!==r.transform||"none"!==r.perspective||"paint"===r.contain||-1!==["transform","perspective"].indexOf(r.willChange)||t&&"filter"===r.willChange||t&&r.filter&&"none"!==r.filter)return n;n=n.parentNode}return null}(e)||t}function ir(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function sr(e,t,n){return Vn(e,zn(t,n))}function ar(e){return Object.assign({},{top:0,right:0,bottom:0,left:0},e)}function lr(e,t){return t.reduce((function(t,n){return t[n]=e,t}),{})}var ur="top",cr="bottom",dr="right",fr="left",pr="auto",hr=[ur,cr,dr,fr],mr="start",gr="end",yr="viewport",vr="popper",br=hr.reduce((function(e,t){return e.concat([t+"-"+mr,t+"-"+gr])}),[]),wr=[].concat(hr,[pr]).reduce((function(e,t){return e.concat([t,t+"-"+mr,t+"-"+gr])}),[]),_r=["beforeRead","read","afterRead","beforeMain","main","afterMain","beforeWrite","write","afterWrite"];const xr={name:"arrow",enabled:!0,phase:"main",fn:function(e){var t,n=e.state,r=e.name,o=e.options,i=n.elements.arrow,s=n.modifiersData.popperOffsets,a=Fn(n.placement),l=ir(a),u=[fr,dr].indexOf(a)>=0?"height":"width";if(i&&s){var c=function(e,t){return ar("number"!==typeof(e="function"===typeof e?e(Object.assign({},t.rects,{placement:t.placement})):e)?e:lr(e,hr))}(o.padding,n),d=Yn(i),f="y"===l?ur:fr,p="y"===l?cr:dr,h=n.rects.reference[u]+n.rects.reference[l]-s[l]-n.rects.popper[u],m=s[l]-n.rects.reference[l],g=or(i),y=g?"y"===l?g.clientHeight||0:g.clientWidth||0:0,v=h/2-m/2,b=c[f],w=y-d[u]-c[p],_=y/2-d[u]/2+v,x=sr(b,_,w),C=l;n.modifiersData[r]=((t={})[C]=x,t.centerOffset=x-_,t)}},effect:function(e){var t=e.state,n=e.options.element,r=void 0===n?"[data-popper-arrow]":n;null!=r&&("string"!==typeof r||(r=t.elements.popper.querySelector(r)))&&Zn(t.elements.popper,r)&&(t.elements.arrow=r)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Cr(e){return e.split("-")[1]}var Er={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Sr(e){var t,n=e.popper,r=e.popperRect,o=e.placement,i=e.variation,s=e.offsets,a=e.position,l=e.gpuAcceleration,u=e.adaptive,c=e.roundOffsets,d=e.isFixed,f=s.x,p=void 0===f?0:f,h=s.y,m=void 0===h?0:h,g="function"===typeof c?c({x:p,y:m}):{x:p,y:m};p=g.x,m=g.y;var y=s.hasOwnProperty("x"),v=s.hasOwnProperty("y"),b=fr,w=ur,_=window;if(u){var x=or(n),C="clientHeight",E="clientWidth";if(x===$n(n)&&"static"!==Qn(x=tr(n)).position&&"absolute"===a&&(C="scrollHeight",E="scrollWidth"),o===ur||(o===fr||o===dr)&&i===gr)w=cr,m-=(d&&x===_&&_.visualViewport?_.visualViewport.height:x[C])-r.height,m*=l?1:-1;if(o===fr||(o===ur||o===cr)&&i===gr)b=dr,p-=(d&&x===_&&_.visualViewport?_.visualViewport.width:x[E])-r.width,p*=l?1:-1}var S,k=Object.assign({position:a},u&&Er),T=!0===c?function(e,t){var n=e.x,r=e.y,o=t.devicePixelRatio||1;return{x:Wn(n*o)/o||0,y:Wn(r*o)/o||0}}({x:p,y:m},$n(n)):{x:p,y:m};return p=T.x,m=T.y,l?Object.assign({},k,((S={})[w]=v?"0":"",S[b]=y?"0":"",S.transform=(_.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",S)):Object.assign({},k,((t={})[w]=v?m+"px":"",t[b]=y?p+"px":"",t.transform="",t))}const kr={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(e){var t=e.state,n=e.options,r=n.gpuAcceleration,o=void 0===r||r,i=n.adaptive,s=void 0===i||i,a=n.roundOffsets,l=void 0===a||a,u={placement:Fn(t.placement),variation:Cr(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:o,isFixed:"fixed"===t.options.strategy};null!=t.modifiersData.popperOffsets&&(t.styles.popper=Object.assign({},t.styles.popper,Sr(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:l})))),null!=t.modifiersData.arrow&&(t.styles.arrow=Object.assign({},t.styles.arrow,Sr(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})},data:{}};var Tr={passive:!0};const Or={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(e){var t=e.state,n=e.instance,r=e.options,o=r.scroll,i=void 0===o||o,s=r.resize,a=void 0===s||s,l=$n(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return i&&u.forEach((function(e){e.addEventListener("scroll",n.update,Tr)})),a&&l.addEventListener("resize",n.update,Tr),function(){i&&u.forEach((function(e){e.removeEventListener("scroll",n.update,Tr)})),a&&l.removeEventListener("resize",n.update,Tr)}},data:{}};var Ar={left:"right",right:"left",bottom:"top",top:"bottom"};function Ir(e){return e.replace(/left|right|bottom|top/g,(function(e){return Ar[e]}))}var Nr={start:"end",end:"start"};function Rr(e){return e.replace(/start|end/g,(function(e){return Nr[e]}))}function Pr(e){var t=$n(e);return{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function jr(e){return Jn(tr(e)).left+Pr(e).scrollLeft}function Dr(e){var t=Qn(e),n=t.overflow,r=t.overflowX,o=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+o+r)}function Mr(e){return["html","body","#document"].indexOf(Xn(e))>=0?e.ownerDocument.body:qn(e)&&Dr(e)?e:Mr(nr(e))}function Lr(e,t){var n;void 0===t&&(t=[]);var r=Mr(e),o=r===(null==(n=e.ownerDocument)?void 0:n.body),i=$n(r),s=o?[i].concat(i.visualViewport||[],Dr(r)?r:[]):r,a=t.concat(s);return o?a:a.concat(Lr(nr(s)))}function Ur(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function Fr(e,t,n){return t===yr?Ur(function(e,t){var n=$n(e),r=tr(e),o=n.visualViewport,i=r.clientWidth,s=r.clientHeight,a=0,l=0;if(o){i=o.width,s=o.height;var u=Kn();(u||!u&&"fixed"===t)&&(a=o.offsetLeft,l=o.offsetTop)}return{width:i,height:s,x:a+jr(e),y:l}}(e,n)):Bn(t)?function(e,t){var n=Jn(e,!1,"fixed"===t);return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}(t,n):Ur(function(e){var t,n=tr(e),r=Pr(e),o=null==(t=e.ownerDocument)?void 0:t.body,i=Vn(n.scrollWidth,n.clientWidth,o?o.scrollWidth:0,o?o.clientWidth:0),s=Vn(n.scrollHeight,n.clientHeight,o?o.scrollHeight:0,o?o.clientHeight:0),a=-r.scrollLeft+jr(e),l=-r.scrollTop;return"rtl"===Qn(o||n).direction&&(a+=Vn(n.clientWidth,o?o.clientWidth:0)-i),{width:i,height:s,x:a,y:l}}(tr(e)))}function $r(e,t,n,r){var o="clippingParents"===t?function(e){var t=Lr(nr(e)),n=["absolute","fixed"].indexOf(Qn(e).position)>=0&&qn(e)?or(e):e;return Bn(n)?t.filter((function(e){return Bn(e)&&Zn(e,n)&&"body"!==Xn(e)})):[]}(e):[].concat(t),i=[].concat(o,[n]),s=i[0],a=i.reduce((function(t,n){var o=Fr(e,n,r);return t.top=Vn(o.top,t.top),t.right=zn(o.right,t.right),t.bottom=zn(o.bottom,t.bottom),t.left=Vn(o.left,t.left),t}),Fr(e,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function Br(e){var t,n=e.reference,r=e.element,o=e.placement,i=o?Fn(o):null,s=o?Cr(o):null,a=n.x+n.width/2-r.width/2,l=n.y+n.height/2-r.height/2;switch(i){case ur:t={x:a,y:n.y-r.height};break;case cr:t={x:a,y:n.y+n.height};break;case dr:t={x:n.x+n.width,y:l};break;case fr:t={x:n.x-r.width,y:l};break;default:t={x:n.x,y:n.y}}var u=i?ir(i):null;if(null!=u){var c="y"===u?"height":"width";switch(s){case mr:t[u]=t[u]-(n[c]/2-r[c]/2);break;case gr:t[u]=t[u]+(n[c]/2-r[c]/2)}}return t}function qr(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=void 0===r?e.placement:r,i=n.strategy,s=void 0===i?e.strategy:i,a=n.boundary,l=void 0===a?"clippingParents":a,u=n.rootBoundary,c=void 0===u?yr:u,d=n.elementContext,f=void 0===d?vr:d,p=n.altBoundary,h=void 0!==p&&p,m=n.padding,g=void 0===m?0:m,y=ar("number"!==typeof g?g:lr(g,hr)),v=f===vr?"reference":vr,b=e.rects.popper,w=e.elements[h?v:f],_=$r(Bn(w)?w:w.contextElement||tr(e.elements.popper),l,c,s),x=Jn(e.elements.reference),C=Br({reference:x,element:b,strategy:"absolute",placement:o}),E=Ur(Object.assign({},b,C)),S=f===vr?E:x,k={top:_.top-S.top+y.top,bottom:S.bottom-_.bottom+y.bottom,left:_.left-S.left+y.left,right:S.right-_.right+y.right},T=e.modifiersData.offset;if(f===vr&&T){var O=T[o];Object.keys(k).forEach((function(e){var t=[dr,cr].indexOf(e)>=0?1:-1,n=[ur,cr].indexOf(e)>=0?"y":"x";k[e]+=O[n]*t}))}return k}const Hr={name:"flip",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name;if(!t.modifiersData[r]._skip){for(var o=n.mainAxis,i=void 0===o||o,s=n.altAxis,a=void 0===s||s,l=n.fallbackPlacements,u=n.padding,c=n.boundary,d=n.rootBoundary,f=n.altBoundary,p=n.flipVariations,h=void 0===p||p,m=n.allowedAutoPlacements,g=t.options.placement,y=Fn(g),v=l||(y===g||!h?[Ir(g)]:function(e){if(Fn(e)===pr)return[];var t=Ir(e);return[Rr(e),t,Rr(t)]}(g)),b=[g].concat(v).reduce((function(e,n){return e.concat(Fn(n)===pr?function(e,t){void 0===t&&(t={});var n=t,r=n.placement,o=n.boundary,i=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=void 0===l?wr:l,c=Cr(r),d=c?a?br:br.filter((function(e){return Cr(e)===c})):hr,f=d.filter((function(e){return u.indexOf(e)>=0}));0===f.length&&(f=d);var p=f.reduce((function(t,n){return t[n]=qr(e,{placement:n,boundary:o,rootBoundary:i,padding:s})[Fn(n)],t}),{});return Object.keys(p).sort((function(e,t){return p[e]-p[t]}))}(t,{placement:n,boundary:c,rootBoundary:d,padding:u,flipVariations:h,allowedAutoPlacements:m}):n)}),[]),w=t.rects.reference,_=t.rects.popper,x=new Map,C=!0,E=b[0],S=0;S<b.length;S++){var k=b[S],T=Fn(k),O=Cr(k)===mr,A=[ur,cr].indexOf(T)>=0,I=A?"width":"height",N=qr(t,{placement:k,boundary:c,rootBoundary:d,altBoundary:f,padding:u}),R=A?O?dr:fr:O?cr:ur;w[I]>_[I]&&(R=Ir(R));var P=Ir(R),j=[];if(i&&j.push(N[T]<=0),a&&j.push(N[R]<=0,N[P]<=0),j.every((function(e){return e}))){E=k,C=!1;break}x.set(k,j)}if(C)for(var D=function(e){var t=b.find((function(t){var n=x.get(t);if(n)return n.slice(0,e).every((function(e){return e}))}));if(t)return E=t,"break"},M=h?3:1;M>0;M--){if("break"===D(M))break}t.placement!==E&&(t.modifiersData[r]._skip=!0,t.placement=E,t.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Vr(e,t,n){return void 0===n&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function zr(e){return[ur,dr,cr,fr].some((function(t){return e[t]>=0}))}const Wr={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.offset,i=void 0===o?[0,0]:o,s=wr.reduce((function(e,n){return e[n]=function(e,t,n){var r=Fn(e),o=[fr,ur].indexOf(r)>=0?-1:1,i="function"===typeof n?n(Object.assign({},t,{placement:e})):n,s=i[0],a=i[1];return s=s||0,a=(a||0)*o,[fr,dr].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}(n,t.rects,i),e}),{}),a=s[t.placement],l=a.x,u=a.y;null!=t.modifiersData.popperOffsets&&(t.modifiersData.popperOffsets.x+=l,t.modifiersData.popperOffsets.y+=u),t.modifiersData[r]=s}};const Gr={name:"preventOverflow",enabled:!0,phase:"main",fn:function(e){var t=e.state,n=e.options,r=e.name,o=n.mainAxis,i=void 0===o||o,s=n.altAxis,a=void 0!==s&&s,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,d=n.padding,f=n.tether,p=void 0===f||f,h=n.tetherOffset,m=void 0===h?0:h,g=qr(t,{boundary:l,rootBoundary:u,padding:d,altBoundary:c}),y=Fn(t.placement),v=Cr(t.placement),b=!v,w=ir(y),_="x"===w?"y":"x",x=t.modifiersData.popperOffsets,C=t.rects.reference,E=t.rects.popper,S="function"===typeof m?m(Object.assign({},t.rects,{placement:t.placement})):m,k="number"===typeof S?{mainAxis:S,altAxis:S}:Object.assign({mainAxis:0,altAxis:0},S),T=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,O={x:0,y:0};if(x){if(i){var A,I="y"===w?ur:fr,N="y"===w?cr:dr,R="y"===w?"height":"width",P=x[w],j=P+g[I],D=P-g[N],M=p?-E[R]/2:0,L=v===mr?C[R]:E[R],U=v===mr?-E[R]:-C[R],F=t.elements.arrow,$=p&&F?Yn(F):{width:0,height:0},B=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},q=B[I],H=B[N],V=sr(0,C[R],$[R]),z=b?C[R]/2-M-V-q-k.mainAxis:L-V-q-k.mainAxis,W=b?-C[R]/2+M+V+H+k.mainAxis:U+V+H+k.mainAxis,G=t.elements.arrow&&or(t.elements.arrow),K=G?"y"===w?G.clientTop||0:G.clientLeft||0:0,J=null!=(A=null==T?void 0:T[w])?A:0,Y=P+W-J,Z=sr(p?zn(j,P+z-J-K):j,P,p?Vn(D,Y):D);x[w]=Z,O[w]=Z-P}if(a){var X,Q="x"===w?ur:fr,ee="x"===w?cr:dr,te=x[_],ne="y"===_?"height":"width",re=te+g[Q],oe=te-g[ee],ie=-1!==[ur,fr].indexOf(y),se=null!=(X=null==T?void 0:T[_])?X:0,ae=ie?re:te-C[ne]-E[ne]-se+k.altAxis,le=ie?te+C[ne]+E[ne]-se-k.altAxis:oe,ue=p&&ie?function(e,t,n){var r=sr(e,t,n);return r>n?n:r}(ae,te,le):sr(p?ae:re,te,p?le:oe);x[_]=ue,O[_]=ue-te}t.modifiersData[r]=O}},requiresIfExists:["offset"]};function Kr(e,t,n){void 0===n&&(n=!1);var r=qn(t),o=qn(t)&&function(e){var t=e.getBoundingClientRect(),n=Wn(t.width)/e.offsetWidth||1,r=Wn(t.height)/e.offsetHeight||1;return 1!==n||1!==r}(t),i=tr(t),s=Jn(e,o,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&(("body"!==Xn(t)||Dr(i))&&(a=function(e){return e!==$n(e)&&qn(e)?{scrollLeft:(t=e).scrollLeft,scrollTop:t.scrollTop}:Pr(e);var t}(t)),qn(t)?((l=Jn(t,!0)).x+=t.clientLeft,l.y+=t.clientTop):i&&(l.x=jr(i))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function Jr(e){var t=new Map,n=new Set,r=[];function o(e){n.add(e.name),[].concat(e.requires||[],e.requiresIfExists||[]).forEach((function(e){if(!n.has(e)){var r=t.get(e);r&&o(r)}})),r.push(e)}return e.forEach((function(e){t.set(e.name,e)})),e.forEach((function(e){n.has(e.name)||o(e)})),r}function Yr(e){var t;return function(){return t||(t=new Promise((function(n){Promise.resolve().then((function(){t=void 0,n(e())}))}))),t}}var Zr={placement:"bottom",modifiers:[],strategy:"absolute"};function Xr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some((function(e){return!(e&&"function"===typeof e.getBoundingClientRect)}))}function Qr(e){void 0===e&&(e={});var t=e,n=t.defaultModifiers,r=void 0===n?[]:n,o=t.defaultOptions,i=void 0===o?Zr:o;return function(e,t,n){void 0===n&&(n=i);var o={placement:"bottom",orderedModifiers:[],options:Object.assign({},Zr,i),modifiersData:{},elements:{reference:e,popper:t},attributes:{},styles:{}},s=[],a=!1,l={state:o,setOptions:function(n){var a="function"===typeof n?n(o.options):n;u(),o.options=Object.assign({},i,o.options,a),o.scrollParents={reference:Bn(e)?Lr(e):e.contextElement?Lr(e.contextElement):[],popper:Lr(t)};var c=function(e){var t=Jr(e);return _r.reduce((function(e,n){return e.concat(t.filter((function(e){return e.phase===n})))}),[])}(function(e){var t=e.reduce((function(e,t){var n=e[t.name];return e[t.name]=n?Object.assign({},n,t,{options:Object.assign({},n.options,t.options),data:Object.assign({},n.data,t.data)}):t,e}),{});return Object.keys(t).map((function(e){return t[e]}))}([].concat(r,o.options.modifiers)));return o.orderedModifiers=c.filter((function(e){return e.enabled})),o.orderedModifiers.forEach((function(e){var t=e.name,n=e.options,r=void 0===n?{}:n,i=e.effect;if("function"===typeof i){var a=i({state:o,name:t,instance:l,options:r}),u=function(){};s.push(a||u)}})),l.update()},forceUpdate:function(){if(!a){var e=o.elements,t=e.reference,n=e.popper;if(Xr(t,n)){o.rects={reference:Kr(t,or(n),"fixed"===o.options.strategy),popper:Yn(n)},o.reset=!1,o.placement=o.options.placement,o.orderedModifiers.forEach((function(e){return o.modifiersData[e.name]=Object.assign({},e.data)}));for(var r=0;r<o.orderedModifiers.length;r++)if(!0!==o.reset){var i=o.orderedModifiers[r],s=i.fn,u=i.options,c=void 0===u?{}:u,d=i.name;"function"===typeof s&&(o=s({state:o,options:c,name:d,instance:l})||o)}else o.reset=!1,r=-1}}},update:Yr((function(){return new Promise((function(e){l.forceUpdate(),e(o)}))})),destroy:function(){u(),a=!0}};if(!Xr(e,t))return l;function u(){s.forEach((function(e){return e()})),s=[]}return l.setOptions(n).then((function(e){!a&&n.onFirstUpdate&&n.onFirstUpdate(e)})),l}}const eo=Qr({defaultModifiers:[{name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(e){var t=e.state,n=e.name,r=t.rects.reference,o=t.rects.popper,i=t.modifiersData.preventOverflow,s=qr(t,{elementContext:"reference"}),a=qr(t,{altBoundary:!0}),l=Vr(s,r),u=Vr(a,o,i),c=zr(l),d=zr(u);t.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:d},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":d})}},{name:"popperOffsets",enabled:!0,phase:"read",fn:function(e){var t=e.state,n=e.name;t.modifiersData[n]=Br({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})},data:{}},kr,Or,Wr,Hr,Gr,xr]}),to=["enabled","placement","strategy","modifiers"];const no={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},ro={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:e=>{let{state:t}=e;return()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const t=(e.getAttribute("aria-describedby")||"").split(",").filter((e=>e.trim()!==n.id));t.length?e.setAttribute("aria-describedby",t.join(",")):e.removeAttribute("aria-describedby")}}},fn:e=>{let{state:t}=e;var n;const{popper:r,reference:o}=t.elements,i=null==(n=r.getAttribute("role"))?void 0:n.toLowerCase();if(r.id&&"tooltip"===i&&"setAttribute"in o){const e=o.getAttribute("aria-describedby");if(e&&-1!==e.split(",").indexOf(r.id))return;o.setAttribute("aria-describedby",e?`${e},${r.id}`:r.id)}}},oo=[];const io=function(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{enabled:o=!0,placement:i="bottom",strategy:s="absolute",modifiers:a=oo}=r,l=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(r,to);const u=(0,t.useRef)(a),c=(0,t.useRef)(),d=(0,t.useCallback)((()=>{var e;null==(e=c.current)||e.update()}),[]),f=(0,t.useCallback)((()=>{var e;null==(e=c.current)||e.forceUpdate()}),[]),[p,h]=Un((0,t.useState)({placement:i,update:d,forceUpdate:f,attributes:{},styles:{popper:{},arrow:{}}})),m=(0,t.useMemo)((()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:e=>{let{state:t}=e;const n={},r={};Object.keys(t.elements).forEach((e=>{n[e]=t.styles[e],r[e]=t.attributes[e]})),h({state:t,styles:n,attributes:r,update:d,forceUpdate:f,placement:t.placement})}})),[d,f,h]),g=(0,t.useMemo)((()=>(Ln(u.current,a)||(u.current=a),u.current)),[a]);return(0,t.useEffect)((()=>{c.current&&o&&c.current.setOptions({placement:i,strategy:s,modifiers:[...g,m,no]})}),[s,i,m,o,g]),(0,t.useEffect)((()=>{if(o&&null!=e&&null!=n)return c.current=eo(e,n,Object.assign({},l,{placement:i,strategy:s,modifiers:[...g,ro,m]})),()=>{null!=c.current&&(c.current.destroy(),c.current=void 0,h((e=>Object.assign({},e,{attributes:{},styles:{popper:{}}}))))}}),[o,e,n]),p};var so=n(440),ao=n.n(so);const lo=()=>{};const uo=e=>e&&("current"in e?e.current:e),co={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};const fo=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lo,{disabled:r,clickTrigger:o="click"}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=(0,t.useRef)(!1),s=(0,t.useRef)(!1),a=(0,t.useCallback)((t=>{const n=uo(e);var r;ao()(!!n,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!n||!!((r=t).metaKey||r.altKey||r.ctrlKey||r.shiftKey)||!function(e){return 0===e.button}(t)||!!H(n,t.target)||s.current,s.current=!1}),[e]),l=A((t=>{const n=uo(e);n&&H(n,t.target)&&(s.current=!0)})),u=A((e=>{i.current||n(e)}));(0,t.useEffect)((()=>{var t,n;if(r||null==e)return;const i=C(uo(e)),s=i.defaultView||window;let c=null!=(t=s.event)?t:null==(n=s.parent)?void 0:n.event,d=null;co[o]&&(d=F(i,co[o],l,!0));const f=F(i,o,a,!0),p=F(i,o,(e=>{e!==c?u(e):c=void 0}));let h=[];return"ontouchstart"in i.documentElement&&(h=[].slice.call(i.body.children).map((e=>F(e,"mousemove",lo)))),()=>{null==d||d(),f(),p(),h.forEach((e=>e()))}}),[e,r,o,a,l,u])};function po(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Array.isArray(e)?e:Object.keys(e).map((t=>(e[t].name=t,e[t])))}function ho(e){let{enabled:t,enableEvents:n,placement:r,flip:o,offset:i,fixed:s,containerPadding:a,arrowElement:l,popperConfig:u={}}=e;var c,d,f,p,h;const m=function(e){const t={};return Array.isArray(e)?(null==e||e.forEach((e=>{t[e.name]=e})),t):e||t}(u.modifiers);return Object.assign({},u,{placement:r,enabled:t,strategy:s?"fixed":u.strategy,modifiers:po(Object.assign({},m,{eventListeners:{enabled:n,options:null==(c=m.eventListeners)?void 0:c.options},preventOverflow:Object.assign({},m.preventOverflow,{options:a?Object.assign({padding:a},null==(d=m.preventOverflow)?void 0:d.options):null==(f=m.preventOverflow)?void 0:f.options}),offset:{options:Object.assign({offset:i},null==(p=m.offset)?void 0:p.options)},arrow:Object.assign({},m.arrow,{enabled:!!l,options:Object.assign({},null==(h=m.arrow)?void 0:h.options,{element:l})}),flip:Object.assign({enabled:!!o},m.flip)}))})}const mo=["children","usePopper"];const go=()=>{};function yo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=(0,t.useContext)(jn),[r,o]=T(),i=(0,t.useRef)(!1),{flip:s,offset:a,rootCloseEvent:l,fixed:u=!1,placement:c,popperConfig:d={},enableEventListeners:f=!0,usePopper:p=!!n}=e,h=null==(null==n?void 0:n.show)?!!e.show:n.show;h&&!i.current&&(i.current=!0);const{placement:m,setMenu:g,menuElement:y,toggleElement:v}=n||{},b=io(v,y,ho({placement:c||m||"bottom-start",enabled:p,enableEvents:null==f?h:f,offset:a,flip:s,fixed:u,arrowElement:r,popperConfig:d})),w=Object.assign({ref:g||go,"aria-labelledby":null==v?void 0:v.id},b.attributes.popper,{style:b.styles.popper}),_={show:h,placement:m,hasShown:i.current,toggle:null==n?void 0:n.toggle,popper:p?b:null,arrowProps:p?Object.assign({ref:o},b.attributes.arrow,{style:b.styles.arrow}):{}};return fo(y,(e=>{null==n||n.toggle(!1,e)}),{clickTrigger:l,disabled:!h}),[w,_]}function vo(e){let{children:t,usePopper:n=!0}=e,r=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,mo);const[o,i]=yo(Object.assign({},r,{usePopper:n}));return(0,s.jsx)(s.Fragment,{children:t(o,i)})}vo.displayName="DropdownMenu";const bo=vo,wo={prefix:String(Math.round(1e10*Math.random())),current:0},_o=t.createContext(wo),xo=t.createContext(!1);let Co=Boolean("undefined"!==typeof window&&window.document&&window.document.createElement),Eo=new WeakMap;function So(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=(0,t.useContext)(_o),r=(0,t.useRef)(null);if(null===r.current&&!e){var o,i;let e=null===(i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)||void 0===i||null===(o=i.ReactCurrentOwner)||void 0===o?void 0:o.current;if(e){let t=Eo.get(e);null==t?Eo.set(e,{id:n.current,state:e.memoizedState}):e.memoizedState!==t.state&&(n.current=t.id,Eo.delete(e))}r.current=++n.current}return r.current}const ko="function"===typeof t.useId?function(e){let n=t.useId(),[r]=(0,t.useState)("function"===typeof t.useSyncExternalStore?t.useSyncExternalStore(Ao,To,Oo):(0,t.useContext)(xo));return e||`${r?"react-aria":`react-aria${wo.prefix}`}-${n}`}:function(e){let n=(0,t.useContext)(_o);n!==wo||Co||console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let r=So(!!e),o=`react-aria${n.prefix}`;return e||`${o}-${r}`};function To(){return!1}function Oo(){return!0}function Ao(e){return()=>{}}const Io=e=>{var t;return"menu"===(null==(t=e.getAttribute("role"))?void 0:t.toLowerCase())},No=()=>{};function Ro(){const e=ko(),{show:n=!1,toggle:r=No,setToggle:o,menuElement:i}=(0,t.useContext)(jn)||{},s=(0,t.useCallback)((e=>{r(!n,e)}),[n,r]),a={id:e,ref:o||No,onClick:s,"aria-expanded":!!n};return i&&Io(i)&&(a["aria-haspopup"]=!0),[a,{show:n,toggle:r}]}function Po(e){let{children:t}=e;const[n,r]=Ro();return(0,s.jsx)(s.Fragment,{children:t(n,r)})}Po.displayName="DropdownToggle";const jo=Po,Do=["eventKey","disabled","onClick","active","as"];function Mo(e){let{key:n,href:r,active:o,disabled:i,onClick:s}=e;const a=(0,t.useContext)(pt),l=(0,t.useContext)(an),{activeKey:u}=l||{},c=ft(n,r),d=null==o&&null!=n?ft(u)===c:o;return[{onClick:A((e=>{i||(null==s||s(e),a&&!e.isPropagationStopped()&&a(c,e))})),"aria-disabled":i||void 0,"aria-selected":d,[G("dropdown-item")]:""},{isActive:d}]}const Lo=t.forwardRef(((e,t)=>{let{eventKey:n,disabled:r,onClick:o,active:i,as:a=fn}=e,l=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Do);const[u]=Mo({key:n,href:l.href,disabled:r,onClick:o,active:i});return(0,s.jsx)(a,Object.assign({},l,{ref:t},u))}));Lo.displayName="DropdownItem";const Uo=Lo;function Fo(){const e=on(),n=(0,t.useRef)(null),r=(0,t.useCallback)((t=>{n.current=t,e()}),[e]);return[n,r]}function $o(e){let{defaultShow:n,show:r,onSelect:o,onToggle:i,itemSelector:a=`* [${G("dropdown-item")}]`,focusFirstItemOnShow:l,placement:u="bottom-start",children:c}=e;const d=Z(),[f,p]=Pn(r,n,i),[h,m]=Fo(),g=h.current,[y,v]=Fo(),b=y.current,w=W(f),_=(0,t.useRef)(null),C=(0,t.useRef)(!1),E=(0,t.useContext)(pt),S=(0,t.useCallback)((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null==t?void 0:t.type;p(e,{originalEvent:t,source:n})}),[p]),k=A(((e,t)=>{null==o||o(e,t),S(!1,t,"select"),t.isPropagationStopped()||null==E||E(e,t)})),T=(0,t.useMemo)((()=>({toggle:S,placement:u,show:f,menuElement:g,toggleElement:b,setMenu:m,setToggle:v})),[S,u,f,g,b,m,v]);g&&w&&!f&&(C.current=g.contains(g.ownerDocument.activeElement));const O=A((()=>{b&&b.focus&&b.focus()})),I=A((()=>{const e=_.current;let t=l;if(null==t&&(t=!(!h.current||!Io(h.current))&&"keyboard"),!1===t||"keyboard"===t&&!/^key.+$/.test(e))return;const n=he(h.current,a)[0];n&&n.focus&&n.focus()}));(0,t.useEffect)((()=>{f?I():C.current&&(C.current=!1,O())}),[f,C,O,I]),(0,t.useEffect)((()=>{_.current=null}));const N=(e,t)=>{if(!h.current)return null;const n=he(h.current,a);let r=n.indexOf(e)+t;return r=Math.max(0,Math.min(r,n.length)),n[r]};return function(e,n,r){let o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=A(r);(0,t.useEffect)((()=>{const t="function"===typeof e?e():e;return t.addEventListener(n,i,o),()=>t.removeEventListener(n,i,o)}),[e])}((0,t.useCallback)((()=>d.document),[d]),"keydown",(e=>{var t,n;const{key:r}=e,o=e.target,i=null==(t=h.current)?void 0:t.contains(o),s=null==(n=y.current)?void 0:n.contains(o);if(/input|textarea/i.test(o.tagName)&&(" "===r||"Escape"!==r&&i||"Escape"===r&&"search"===o.type))return;if(!i&&!s)return;if("Tab"===r&&(!h.current||!f))return;_.current=e.type;const a={originalEvent:e,source:e.type};switch(r){case"ArrowUp":{const t=N(o,-1);return t&&t.focus&&t.focus(),void e.preventDefault()}case"ArrowDown":if(e.preventDefault(),f){const e=N(o,1);e&&e.focus&&e.focus()}else p(!0,a);return;case"Tab":x(o.ownerDocument,"keyup",(e=>{var t;("Tab"!==e.key||e.target)&&null!=(t=h.current)&&t.contains(e.target)||p(!1,a)}),{once:!0});break;case"Escape":"Escape"===r&&(e.preventDefault(),e.stopPropagation()),p(!1,a)}})),(0,s.jsx)(pt.Provider,{value:k,children:(0,s.jsx)(jn.Provider,{value:T,children:c})})}$o.displayName="Dropdown",$o.Menu=bo,$o.Toggle=jo,$o.Item=Uo;const Bo=$o,qo=t.createContext({});qo.displayName="DropdownContext";const Ho=qo,Vo=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="hr",role:a="separator",...l}=e;return r=f(r,"dropdown-divider"),(0,s.jsx)(o,{ref:t,className:i()(n,r),role:a,...l})}));Vo.displayName="DropdownDivider";const zo=Vo,Wo=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="div",role:a="heading",...l}=e;return r=f(r,"dropdown-header"),(0,s.jsx)(o,{ref:t,className:i()(n,r),role:a,...l})}));Wo.displayName="DropdownHeader";const Go=Wo,Ko=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,eventKey:o,disabled:a=!1,onClick:l,active:u,as:c=On,...d}=e;const p=f(n,"dropdown-item"),[h,m]=Mo({key:o,href:d.href,disabled:a,onClick:l,active:u});return(0,s.jsx)(c,{...d,...h,ref:t,className:i()(r,p,m.isActive&&"active",a&&"disabled")})}));Ko.displayName="DropdownItem";const Jo=Ko,Yo=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="span",...a}=e;return r=f(r,"dropdown-item-text"),(0,s.jsx)(o,{ref:t,className:i()(n,r),...a})}));Yo.displayName="DropdownItemText";const Zo=Yo,Xo=t.createContext(null);Xo.displayName="InputGroupContext";const Qo=Xo;function ei(e,t){return e}function ti(e,t,n){let r=e?n?"bottom-start":"bottom-end":n?"bottom-end":"bottom-start";return"up"===t?r=e?n?"top-start":"top-end":n?"top-end":"top-start":"end"===t?r=e?n?"left-end":"right-end":n?"left-start":"right-start":"start"===t?r=e?n?"right-end":"left-end":n?"right-start":"left-start":"down-centered"===t?r="bottom":"up-centered"===t&&(r="top"),r}const ni=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:o,align:a,rootCloseEvent:l,flip:u=!0,show:c,renderOnMount:d,as:p="div",popperConfig:h,variant:m,...g}=e,y=!1;const v=(0,t.useContext)(At),b=f(r,"dropdown-menu"),{align:w,drop:_,isRTL:x}=(0,t.useContext)(Ho);a=a||w;const C=(0,t.useContext)(Qo),E=[];if(a)if("object"===typeof a){const e=Object.keys(a);if(e.length){const t=e[0],n=a[t];y="start"===n,E.push(`${b}-${t}-${n}`)}}else"end"===a&&(y=!0);const S=ti(y,_,x),[k,{hasShown:T,popper:O,show:A,toggle:I}]=yo({flip:u,rootCloseEvent:l,show:c,usePopper:!v&&0===E.length,offset:[0,2],popperConfig:h,placement:S});if(k.ref=N(ei(n),k.ref),ee((()=>{A&&(null==O||O.update())}),[A]),!T&&!d&&!C)return null;"string"!==typeof p&&(k.show=A,k.close=()=>null==I?void 0:I(!1),k.align=a);let R=g.style;return null!=O&&O.placement&&(R={...g.style,...k.style},g["x-placement"]=O.placement),(0,s.jsx)(p,{...g,...k,style:R,...(E.length||v)&&{"data-bs-popper":"static"},className:i()(o,b,A&&"show",y&&`${b}-end`,m&&`${b}-${m}`,...E)})}));ni.displayName="DropdownMenu";const ri=ni,oi=t.forwardRef(((e,t)=>{let{as:n,bsPrefix:r,variant:o="primary",size:a,active:l=!1,disabled:u=!1,className:c,...d}=e;const p=f(r,"btn"),[h,{tagName:m}]=cn({tagName:n,disabled:u,...d}),g=m;return(0,s.jsx)(g,{...h,...d,ref:t,disabled:u,className:i()(c,p,l&&"active",o&&`${p}-${o}`,a&&`${p}-${a}`,d.href&&u&&"disabled")})}));oi.displayName="Button";const ii=oi,si=t.forwardRef(((e,n)=>{let{bsPrefix:r,split:o,className:a,childBsPrefix:l,as:u=ii,...c}=e;const d=f(r,"dropdown-toggle"),p=(0,t.useContext)(jn);void 0!==l&&(c.bsPrefix=l);const[h]=Ro();return h.ref=N(h.ref,ei(n)),(0,s.jsx)(u,{className:i()(a,d,o&&`${d}-split`,(null==p?void 0:p.show)&&"show"),...h,...c})}));si.displayName="DropdownToggle";const ai=si,li=t.forwardRef(((e,n)=>{const{bsPrefix:r,drop:o="down",show:a,className:l,align:u="start",onSelect:c,onToggle:d,focusFirstItemOnShow:p,as:h="div",navbar:g,autoClose:y=!0,...v}=yt(e,{show:"onToggle"}),b=(0,t.useContext)(Qo),w=f(r,"dropdown"),_=m(),x=A(((e,t)=>{var n;var r;(null==(n=t.originalEvent)||null==(n=n.target)?void 0:n.classList.contains("dropdown-toggle"))&&"mousedown"===t.source||(t.originalEvent.currentTarget!==document||"keydown"===t.source&&"Escape"!==t.originalEvent.key||(t.source="rootClose"),r=t.source,(!1===y?"click"===r:"inside"===y?"rootClose"!==r:"outside"!==y||"select"!==r)&&(null==d||d(e,t)))})),C=ti("end"===u,o,_),E=(0,t.useMemo)((()=>({align:u,drop:o,isRTL:_})),[u,o,_]),S={down:w,"down-centered":`${w}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return(0,s.jsx)(Ho.Provider,{value:E,children:(0,s.jsx)(Bo,{placement:C,show:a,onSelect:c,onToggle:x,focusFirstItemOnShow:p,itemSelector:`.${w}-item:not(.disabled):not(:disabled)`,children:b?v.children:(0,s.jsx)(h,{...v,ref:n,className:i()(l,a&&"show",S[o])})})})}));li.displayName="Dropdown";const ui=Object.assign(li,{Toggle:ai,Menu:ri,Item:Jo,ItemText:Zo,Divider:zo,Header:Go}),ci=t.forwardRef(((e,t)=>{let{id:n,title:r,children:o,bsPrefix:a,className:l,rootCloseEvent:u,menuRole:c,disabled:d,active:p,renderMenuOnMount:h,menuVariant:m,...g}=e;const y=f(void 0,"nav-item");return(0,s.jsxs)(ui,{ref:t,...g,className:i()(l,y),children:[(0,s.jsx)(ui.Toggle,{id:n,eventKey:null,active:p,disabled:d,childBsPrefix:a,as:In,children:r}),(0,s.jsx)(ui.Menu,{role:c,renderOnMount:h,rootCloseEvent:u,variant:m,children:o})]})}));ci.displayName="NavDropdown";const di=Object.assign(ci,{Item:ui.Item,ItemText:ui.ItemText,Divider:ui.Divider,Header:ui.Header}),fi={type:Ye().string,tooltip:Ye().bool,as:Ye().elementType},pi=t.forwardRef(((e,t)=>{let{as:n="div",className:r,type:o="valid",tooltip:a=!1,...l}=e;return(0,s.jsx)(n,{...l,ref:t,className:i()(r,`${o}-${a?"tooltip":"feedback"}`)})}));pi.displayName="Feedback",pi.propTypes=fi;const hi=pi,mi=t.createContext({}),gi=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:o,className:a,type:l="checkbox",isValid:u=!1,isInvalid:c=!1,as:d="input",...p}=e;const{controlId:h}=(0,t.useContext)(mi);return o=f(o,"form-check-input"),(0,s.jsx)(d,{...p,ref:n,type:l,id:r||h,className:i()(a,o,u&&"is-valid",c&&"is-invalid")})}));gi.displayName="FormCheckInput";const yi=gi,vi=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:o,htmlFor:a,...l}=e;const{controlId:u}=(0,t.useContext)(mi);return r=f(r,"form-check-label"),(0,s.jsx)("label",{...l,ref:n,htmlFor:a||u,className:i()(o,r)})}));vi.displayName="FormCheckLabel";const bi=vi;const wi=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:o,bsSwitchPrefix:a,inline:l=!1,reverse:u=!1,disabled:c=!1,isValid:d=!1,isInvalid:p=!1,feedbackTooltip:h=!1,feedback:m,feedbackType:g,className:y,style:v,title:b="",type:w="checkbox",label:_,children:x,as:C="input",...E}=e;o=f(o,"form-check"),a=f(a,"form-switch");const{controlId:S}=(0,t.useContext)(mi),k=(0,t.useMemo)((()=>({controlId:r||S})),[S,r]),T=!x&&null!=_&&!1!==_||function(e,n){return t.Children.toArray(e).some((e=>t.isValidElement(e)&&e.type===n))}(x,bi),O=(0,s.jsx)(yi,{...E,type:"switch"===w?"checkbox":w,ref:n,isValid:d,isInvalid:p,disabled:c,as:C});return(0,s.jsx)(mi.Provider,{value:k,children:(0,s.jsx)("div",{style:v,className:i()(y,T&&o,l&&`${o}-inline`,u&&`${o}-reverse`,"switch"===w&&a),children:x||(0,s.jsxs)(s.Fragment,{children:[O,T&&(0,s.jsx)(bi,{title:b,children:_}),m&&(0,s.jsx)(hi,{type:g,tooltip:h,children:m})]})})})}));wi.displayName="FormCheck";const _i=Object.assign(wi,{Input:yi,Label:bi}),xi=t.forwardRef(((e,n)=>{let{bsPrefix:r,type:o,size:a,htmlSize:l,id:u,className:c,isValid:d=!1,isInvalid:p=!1,plaintext:h,readOnly:m,as:g="input",...y}=e;const{controlId:v}=(0,t.useContext)(mi);return r=f(r,"form-control"),(0,s.jsx)(g,{...y,type:o,size:l,ref:n,readOnly:m,id:u||v,className:i()(c,h?`${r}-plaintext`:r,a&&`${r}-${a}`,"color"===o&&`${r}-color`,d&&"is-valid",p&&"is-invalid")})}));xi.displayName="FormControl";const Ci=Object.assign(xi,{Feedback:hi}),Ei=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="div",...a}=e;return r=f(r,"form-floating"),(0,s.jsx)(o,{ref:t,className:i()(n,r),...a})}));Ei.displayName="FormFloating";const Si=Ei,ki=t.forwardRef(((e,n)=>{let{controlId:r,as:o="div",...i}=e;const a=(0,t.useMemo)((()=>({controlId:r})),[r]);return(0,s.jsx)(mi.Provider,{value:a,children:(0,s.jsx)(o,{...i,ref:n})})}));ki.displayName="FormGroup";const Ti=ki;const Oi=t.forwardRef(((e,t)=>{const[{className:n,...r},{as:o="div",bsPrefix:a,spans:l}]=function(e){let{as:t,bsPrefix:n,className:r,...o}=e;n=f(n,"col");const s=p(),a=h(),l=[],u=[];return s.forEach((e=>{const t=o[e];let r,i,s;delete o[e],"object"===typeof t&&null!=t?({span:r,offset:i,order:s}=t):r=t;const c=e!==a?`-${e}`:"";r&&l.push(!0===r?`${n}${c}`:`${n}${c}-${r}`),null!=s&&u.push(`order${c}-${s}`),null!=i&&u.push(`offset${c}-${i}`)})),[{...o,className:i()(r,...l,...u)},{as:t,bsPrefix:n,spans:l}]}(e);return(0,s.jsx)(o,{...r,ref:t,className:i()(n,!l.length&&a)})}));Oi.displayName="Col";const Ai=Oi,Ii=t.forwardRef(((e,n)=>{let{as:r="label",bsPrefix:o,column:a=!1,visuallyHidden:l=!1,className:u,htmlFor:c,...d}=e;const{controlId:p}=(0,t.useContext)(mi);o=f(o,"form-label");let h="col-form-label";"string"===typeof a&&(h=`${h} ${h}-${a}`);const m=i()(u,o,l&&"visually-hidden",a&&h);return c=c||p,a?(0,s.jsx)(Ai,{ref:n,as:"label",className:m,htmlFor:c,...d}):(0,s.jsx)(r,{ref:n,className:m,htmlFor:c,...d})}));Ii.displayName="FormLabel";const Ni=Ii,Ri=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:o,id:a,...l}=e;const{controlId:u}=(0,t.useContext)(mi);return r=f(r,"form-range"),(0,s.jsx)("input",{...l,type:"range",ref:n,className:i()(o,r),id:a||u})}));Ri.displayName="FormRange";const Pi=Ri,ji=t.forwardRef(((e,n)=>{let{bsPrefix:r,size:o,htmlSize:a,className:l,isValid:u=!1,isInvalid:c=!1,id:d,...p}=e;const{controlId:h}=(0,t.useContext)(mi);return r=f(r,"form-select"),(0,s.jsx)("select",{...p,size:a,ref:n,className:i()(l,r,o&&`${r}-${o}`,u&&"is-valid",c&&"is-invalid"),id:d||h})}));ji.displayName="FormSelect";const Di=ji,Mi=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:o="small",muted:a,...l}=e;return n=f(n,"form-text"),(0,s.jsx)(o,{...l,ref:t,className:i()(r,n,a&&"text-muted")})}));Mi.displayName="FormText";const Li=Mi,Ui=t.forwardRef(((e,t)=>(0,s.jsx)(_i,{...e,ref:t,type:"switch"})));Ui.displayName="Switch";const Fi=Object.assign(Ui,{Input:_i.Input,Label:_i.Label}),$i=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:o,controlId:a,label:l,...u}=e;return n=f(n,"form-floating"),(0,s.jsxs)(Ti,{ref:t,className:i()(r,n),controlId:a,...u,children:[o,(0,s.jsx)("label",{htmlFor:a,children:l})]})}));$i.displayName="FloatingLabel";const Bi=$i,qi={_ref:Ye().any,validated:Ye().bool,as:Ye().elementType},Hi=t.forwardRef(((e,t)=>{let{className:n,validated:r,as:o="form",...a}=e;return(0,s.jsx)(o,{...a,ref:t,className:i()(n,r&&"was-validated")})}));Hi.displayName="Form",Hi.propTypes=qi;const Vi=Object.assign(Hi,{Group:Ti,Control:Ci,Floating:Si,Check:_i,Switch:Fi,Label:Ni,Text:Li,Range:Pi,Select:Di,FloatingLabel:Bi}),zi=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o="span",...a}=e;return r=f(r,"input-group-text"),(0,s.jsx)(o,{ref:t,className:i()(n,r),...a})}));zi.displayName="InputGroupText";const Wi=zi,Gi=t.forwardRef(((e,n)=>{let{bsPrefix:r,size:o,hasValidation:a,className:l,as:u="div",...c}=e;r=f(r,"input-group");const d=(0,t.useMemo)((()=>({})),[]);return(0,s.jsx)(Qo.Provider,{value:d,children:(0,s.jsx)(u,{ref:n,...c,className:i()(l,r,o&&`${r}-${o}`,a&&"has-validation")})})}));Gi.displayName="InputGroup";const Ki=Object.assign(Gi,{Text:Wi,Radio:e=>(0,s.jsx)(Wi,{children:(0,s.jsx)(yi,{type:"radio",...e})}),Checkbox:e=>(0,s.jsx)(Wi,{children:(0,s.jsx)(yi,{type:"checkbox",...e})})}),Ji=ot("h4");Ji.displayName="DivStyledAsH4";const Yi=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o=Ji,...a}=e;return r=f(r,"alert-heading"),(0,s.jsx)(o,{ref:t,className:i()(n,r),...a})}));Yi.displayName="AlertHeading";const Zi=Yi,Xi=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:o=On,...a}=e;return r=f(r,"alert-link"),(0,s.jsx)(o,{ref:t,className:i()(n,r),...a})}));Xi.displayName="AlertLink";const Qi=Xi,es=t.forwardRef(((e,t)=>{const{bsPrefix:n,show:r=!0,closeLabel:o="Close alert",closeVariant:a,className:l,children:u,variant:c="primary",onClose:d,dismissible:p,transition:h=Be,...m}=yt(e,{show:"onClose"}),g=f(n,"alert"),y=A((e=>{d&&d(!1,e)})),v=!0===h?Be:h,b=(0,s.jsxs)("div",{role:"alert",...v?void 0:m,ref:t,className:i()(l,g,c&&`${g}-${c}`,p&&`${g}-dismissible`),children:[p&&(0,s.jsx)(Qe,{onClick:y,"aria-label":o,variant:a}),u]});return v?(0,s.jsx)(v,{unmountOnExit:!0,...m,ref:void 0,in:r,children:b}):r?b:null}));es.displayName="Alert";const ts=Object.assign(es,{Link:Qi,Heading:Zi});function ns(e,t){return function(){return e.apply(t,arguments)}}const{toString:rs}=Object.prototype,{getPrototypeOf:os}=Object,is=(ss=Object.create(null),e=>{const t=rs.call(e);return ss[t]||(ss[t]=t.slice(8,-1).toLowerCase())});var ss;const as=e=>(e=e.toLowerCase(),t=>is(t)===e),ls=e=>t=>typeof t===e,{isArray:us}=Array,cs=ls("undefined");const ds=as("ArrayBuffer");const fs=ls("string"),ps=ls("function"),hs=ls("number"),ms=e=>null!==e&&"object"===typeof e,gs=e=>{if("object"!==is(e))return!1;const t=os(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},ys=as("Date"),vs=as("File"),bs=as("Blob"),ws=as("FileList"),_s=as("URLSearchParams"),[xs,Cs,Es,Ss]=["ReadableStream","Request","Response","Headers"].map(as);function ks(e,t){let n,r,{allOwnKeys:o=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),us(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=o?Object.getOwnPropertyNames(e):Object.keys(e),i=r.length;let s;for(n=0;n<i;n++)s=r[n],t.call(null,e[s],s,e)}}function Ts(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,o=n.length;for(;o-- >0;)if(r=n[o],t===r.toLowerCase())return r;return null}const Os="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,As=e=>!cs(e)&&e!==Os;const Is=(Ns="undefined"!==typeof Uint8Array&&os(Uint8Array),e=>Ns&&e instanceof Ns);var Ns;const Rs=as("HTMLFormElement"),Ps=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),js=as("RegExp"),Ds=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};ks(n,((n,o)=>{let i;!1!==(i=t(n,o,e))&&(r[o]=i||n)})),Object.defineProperties(e,r)},Ms="abcdefghijklmnopqrstuvwxyz",Ls="0123456789",Us={DIGIT:Ls,ALPHA:Ms,ALPHA_DIGIT:Ms+Ms.toUpperCase()+Ls};const Fs=as("AsyncFunction"),$s=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],Os.addEventListener("message",(e=>{let{source:t,data:o}=e;t===Os&&o===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),Os.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,ps(Os.postMessage)),Bs="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Os):"undefined"!==typeof process&&process.nextTick||$s,qs={isArray:us,isArrayBuffer:ds,isBuffer:function(e){return null!==e&&!cs(e)&&null!==e.constructor&&!cs(e.constructor)&&ps(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||ps(e.append)&&("formdata"===(t=is(e))||"object"===t&&ps(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ds(e.buffer),t},isString:fs,isNumber:hs,isBoolean:e=>!0===e||!1===e,isObject:ms,isPlainObject:gs,isReadableStream:xs,isRequest:Cs,isResponse:Es,isHeaders:Ss,isUndefined:cs,isDate:ys,isFile:vs,isBlob:bs,isRegExp:js,isFunction:ps,isStream:e=>ms(e)&&ps(e.pipe),isURLSearchParams:_s,isTypedArray:Is,isFileList:ws,forEach:ks,merge:function e(){const{caseless:t}=As(this)&&this||{},n={},r=(r,o)=>{const i=t&&Ts(n,o)||o;gs(n[i])&&gs(r)?n[i]=e(n[i],r):gs(r)?n[i]=e({},r):us(r)?n[i]=r.slice():n[i]=r};for(let o=0,i=arguments.length;o<i;o++)arguments[o]&&ks(arguments[o],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return ks(t,((t,r)=>{n&&ps(t)?e[r]=ns(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let o,i,s;const a={};if(t=t||{},null==e)return t;do{for(o=Object.getOwnPropertyNames(e),i=o.length;i-- >0;)s=o[i],r&&!r(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==n&&os(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:is,kindOfTest:as,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(us(e))return e;let t=e.length;if(!hs(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Symbol.iterator]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Rs,hasOwnProperty:Ps,hasOwnProp:Ps,reduceDescriptors:Ds,freezeMethods:e=>{Ds(e,((t,n)=>{if(ps(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];ps(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return us(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Ts,global:Os,isContextDefined:As,ALPHABET:Us,generateString:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Us.ALPHA_DIGIT,n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n},isSpecCompliantForm:function(e){return!!(e&&ps(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(ms(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const o=us(e)?[]:{};return ks(e,((e,t)=>{const i=n(e,r+1);!cs(i)&&(o[t]=i)})),t[r]=void 0,o}}return e};return n(e,0)},isAsyncFn:Fs,isThenable:e=>e&&(ms(e)||ps(e))&&ps(e.then)&&ps(e.catch),setImmediate:$s,asap:Bs};function Hs(e,t,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o,this.status=o.status?o.status:null)}qs.inherits(Hs,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:qs.toJSONObject(this.config),code:this.code,status:this.status}}});const Vs=Hs.prototype,zs={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{zs[e]={value:e}})),Object.defineProperties(Hs,zs),Object.defineProperty(Vs,"isAxiosError",{value:!0}),Hs.from=(e,t,n,r,o,i)=>{const s=Object.create(Vs);return qs.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Hs.call(s,e.message,t,n,r,o),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s};const Ws=Hs;function Gs(e){return qs.isPlainObject(e)||qs.isArray(e)}function Ks(e){return qs.endsWith(e,"[]")?e.slice(0,-2):e}function Js(e,t,n){return e?e.concat(t).map((function(e,t){return e=Ks(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const Ys=qs.toFlatObject(qs,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Zs=function(e,t,n){if(!qs.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=qs.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!qs.isUndefined(t[e])}))).metaTokens,o=n.visitor||u,i=n.dots,s=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&qs.isSpecCompliantForm(t);if(!qs.isFunction(o))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(qs.isDate(e))return e.toISOString();if(!a&&qs.isBlob(e))throw new Ws("Blob is not supported. Use a Buffer instead.");return qs.isArrayBuffer(e)||qs.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function u(e,n,o){let a=e;if(e&&!o&&"object"===typeof e)if(qs.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(qs.isArray(e)&&function(e){return qs.isArray(e)&&!e.some(Gs)}(e)||(qs.isFileList(e)||qs.endsWith(n,"[]"))&&(a=qs.toArray(e)))return n=Ks(n),a.forEach((function(e,r){!qs.isUndefined(e)&&null!==e&&t.append(!0===s?Js([n],r,i):null===s?n:n+"[]",l(e))})),!1;return!!Gs(e)||(t.append(Js(o,n,i),l(e)),!1)}const c=[],d=Object.assign(Ys,{defaultVisitor:u,convertValue:l,isVisitable:Gs});if(!qs.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!qs.isUndefined(n)){if(-1!==c.indexOf(n))throw Error("Circular reference detected in "+r.join("."));c.push(n),qs.forEach(n,(function(n,i){!0===(!(qs.isUndefined(n)||null===n)&&o.call(t,n,qs.isString(i)?i.trim():i,r,d))&&e(n,r?r.concat(i):[i])})),c.pop()}}(e),t};function Xs(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Qs(e,t){this._pairs=[],e&&Zs(e,this,t)}const ea=Qs.prototype;ea.append=function(e,t){this._pairs.push([e,t])},ea.toString=function(e){const t=e?function(t){return e.call(this,t,Xs)}:Xs;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const ta=Qs;function na(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ra(e,t,n){if(!t)return e;const r=n&&n.encode||na,o=n&&n.serialize;let i;if(i=o?o(t,n):qs.isURLSearchParams(t)?t.toString():new ta(t,n).toString(r),i){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+i}return e}const oa=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){qs.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ia={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},sa={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ta,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},aa="undefined"!==typeof window&&"undefined"!==typeof document,la="object"===typeof navigator&&navigator||void 0,ua=aa&&(!la||["ReactNative","NativeScript","NS"].indexOf(la.product)<0),ca="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,da=aa&&window.location.href||"http://localhost",fa={...e,...sa};const pa=function(e){function t(e,n,r,o){let i=e[o++];if("__proto__"===i)return!0;const s=Number.isFinite(+i),a=o>=e.length;if(i=!i&&qs.isArray(r)?r.length:i,a)return qs.hasOwnProp(r,i)?r[i]=[r[i],n]:r[i]=n,!s;r[i]&&qs.isObject(r[i])||(r[i]=[]);return t(e,n,r[i],o)&&qs.isArray(r[i])&&(r[i]=function(e){const t={},n=Object.keys(e);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],t[i]=e[i];return t}(r[i])),!s}if(qs.isFormData(e)&&qs.isFunction(e.entries)){const n={};return qs.forEachEntry(e,((e,r)=>{t(function(e){return qs.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const ha={transitional:ia,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,o=qs.isObject(e);o&&qs.isHTMLForm(e)&&(e=new FormData(e));if(qs.isFormData(e))return r?JSON.stringify(pa(e)):e;if(qs.isArrayBuffer(e)||qs.isBuffer(e)||qs.isStream(e)||qs.isFile(e)||qs.isBlob(e)||qs.isReadableStream(e))return e;if(qs.isArrayBufferView(e))return e.buffer;if(qs.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let i;if(o){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Zs(e,new fa.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return fa.isNode&&qs.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((i=qs.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Zs(i?{"files[]":e}:e,t&&new t,this.formSerializer)}}return o||r?(t.setContentType("application/json",!1),function(e,t,n){if(qs.isString(e))try{return(t||JSON.parse)(e),qs.trim(e)}catch(Cx){if("SyntaxError"!==Cx.name)throw Cx}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ha.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(qs.isResponse(e)||qs.isReadableStream(e))return e;if(e&&qs.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(Cx){if(n){if("SyntaxError"===Cx.name)throw Ws.from(Cx,Ws.ERR_BAD_RESPONSE,this,null,this.response);throw Cx}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fa.classes.FormData,Blob:fa.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};qs.forEach(["delete","get","head","post","put","patch"],(e=>{ha.headers[e]={}}));const ma=ha,ga=qs.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ya=Symbol("internals");function va(e){return e&&String(e).trim().toLowerCase()}function ba(e){return!1===e||null==e?e:qs.isArray(e)?e.map(ba):String(e)}function wa(e,t,n,r,o){return qs.isFunction(r)?r.call(this,t,n):(o&&(t=n),qs.isString(t)?qs.isString(r)?-1!==t.indexOf(r):qs.isRegExp(r)?r.test(t):void 0:void 0)}class _a{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function o(e,t,n){const o=va(t);if(!o)throw new Error("header name must be a non-empty string");const i=qs.findKey(r,o);(!i||void 0===r[i]||!0===n||void 0===n&&!1!==r[i])&&(r[i||t]=ba(e))}const i=(e,t)=>qs.forEach(e,((e,n)=>o(e,n,t)));if(qs.isPlainObject(e)||e instanceof this.constructor)i(e,t);else if(qs.isString(e)&&(e=e.trim())&&!(e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))(e))i((e=>{const t={};let n,r,o;return e&&e.split("\n").forEach((function(e){o=e.indexOf(":"),n=e.substring(0,o).trim().toLowerCase(),r=e.substring(o+1).trim(),!n||t[n]&&ga[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(qs.isHeaders(e))for(const[s,a]of e.entries())o(a,s,n);else null!=e&&o(t,e,n);return this}get(e,t){if(e=va(e)){const n=qs.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(qs.isFunction(t))return t.call(this,e,n);if(qs.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=va(e)){const n=qs.findKey(this,e);return!(!n||void 0===this[n]||t&&!wa(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function o(e){if(e=va(e)){const o=qs.findKey(n,e);!o||t&&!wa(0,n[o],o,t)||(delete n[o],r=!0)}}return qs.isArray(e)?e.forEach(o):o(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const o=t[n];e&&!wa(0,this[o],o,e,!0)||(delete this[o],r=!0)}return r}normalize(e){const t=this,n={};return qs.forEach(this,((r,o)=>{const i=qs.findKey(n,o);if(i)return t[i]=ba(r),void delete t[o];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(o):String(o).trim();s!==o&&delete t[o],t[s]=ba(r),n[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return qs.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&qs.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[ya]=this[ya]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=va(e);t[r]||(!function(e,t){const n=qs.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,o){return this[r].call(this,t,e,n,o)},configurable:!0})}))}(n,e),t[r]=!0)}return qs.isArray(e)?e.forEach(r):r(e),this}}_a.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),qs.reduceDescriptors(_a.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),qs.freezeMethods(_a);const xa=_a;function Ca(e,t){const n=this||ma,r=t||n,o=xa.from(r.headers);let i=r.data;return qs.forEach(e,(function(e){i=e.call(n,i,o.normalize(),t?t.status:void 0)})),o.normalize(),i}function Ea(e){return!(!e||!e.__CANCEL__)}function Sa(e,t,n){Ws.call(this,null==e?"canceled":e,Ws.ERR_CANCELED,t,n),this.name="CanceledError"}qs.inherits(Sa,Ws,{__CANCEL__:!0});const ka=Sa;function Ta(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new Ws("Request failed with status code "+n.status,[Ws.ERR_BAD_REQUEST,Ws.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Oa=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let o,i=0,s=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),u=r[s];o||(o=l),n[i]=a,r[i]=l;let c=s,d=0;for(;c!==i;)d+=n[c++],c%=e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),l-o<t)return;const f=u&&l-u;return f?Math.round(1e3*d/f):void 0}};const Aa=function(e,t){let n,r,o=0,i=1e3/t;const s=function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();o=i,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-o;for(var a=arguments.length,l=new Array(a),u=0;u<a;u++)l[u]=arguments[u];t>=i?s(l,e):(n=l,r||(r=setTimeout((()=>{r=null,s(n)}),i-t)))},()=>n&&s(n)]},Ia=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const o=Oa(50,250);return Aa((n=>{const i=n.loaded,s=n.lengthComputable?n.total:void 0,a=i-r,l=o(a);r=i;e({loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&i<=s?(s-i)/l:void 0,event:n,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),n)},Na=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},Ra=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return qs.asap((()=>e(...n)))},Pa=fa.hasStandardBrowserEnv?function(){const e=fa.navigator&&/(msie|trident)/i.test(fa.navigator.userAgent),t=document.createElement("a");let n;function r(n){let r=n;return e&&(t.setAttribute("href",r),r=t.href),t.setAttribute("href",r),{href:t.href,protocol:t.protocol?t.protocol.replace(/:$/,""):"",host:t.host,search:t.search?t.search.replace(/^\?/,""):"",hash:t.hash?t.hash.replace(/^#/,""):"",hostname:t.hostname,port:t.port,pathname:"/"===t.pathname.charAt(0)?t.pathname:"/"+t.pathname}}return n=r(window.location.href),function(e){const t=qs.isString(e)?r(e):e;return t.protocol===n.protocol&&t.host===n.host}}():function(){return!0},ja=fa.hasStandardBrowserEnv?{write(e,t,n,r,o,i){const s=[e+"="+encodeURIComponent(t)];qs.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),qs.isString(r)&&s.push("path="+r),qs.isString(o)&&s.push("domain="+o),!0===i&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Da(e,t){return e&&!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ma=e=>e instanceof xa?{...e}:e;function La(e,t){t=t||{};const n={};function r(e,t,n){return qs.isPlainObject(e)&&qs.isPlainObject(t)?qs.merge.call({caseless:n},e,t):qs.isPlainObject(t)?qs.merge({},t):qs.isArray(t)?t.slice():t}function o(e,t,n){return qs.isUndefined(t)?qs.isUndefined(e)?void 0:r(void 0,e,n):r(e,t,n)}function i(e,t){if(!qs.isUndefined(t))return r(void 0,t)}function s(e,t){return qs.isUndefined(t)?qs.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,o,i){return i in t?r(n,o):i in e?r(void 0,n):void 0}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t)=>o(Ma(e),Ma(t),!0)};return qs.forEach(Object.keys(Object.assign({},e,t)),(function(r){const i=l[r]||o,s=i(e[r],t[r],r);qs.isUndefined(s)&&i!==a||(n[r]=s)})),n}const Ua=e=>{const t=La({},e);let n,{data:r,withXSRFToken:o,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:l}=t;if(t.headers=a=xa.from(a),t.url=ra(Da(t.baseURL,t.url),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),qs.isFormData(r))if(fa.hasStandardBrowserEnv||fa.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(fa.hasStandardBrowserEnv&&(o&&qs.isFunction(o)&&(o=o(t)),o||!1!==o&&Pa(t.url))){const e=i&&s&&ja.read(s);e&&a.set(i,e)}return t},Fa="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=Ua(e);let o=r.data;const i=xa.from(r.headers).normalize();let s,a,l,u,c,{responseType:d,onUploadProgress:f,onDownloadProgress:p}=r;function h(){u&&u(),c&&c(),r.cancelToken&&r.cancelToken.unsubscribe(s),r.signal&&r.signal.removeEventListener("abort",s)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=xa.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Ta((function(e){t(e),h()}),(function(e){n(e),h()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new Ws("Request aborted",Ws.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new Ws("Network Error",Ws.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const o=r.transitional||ia;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new Ws(t,o.clarifyTimeoutError?Ws.ETIMEDOUT:Ws.ECONNABORTED,e,m)),m=null},void 0===o&&i.setContentType(null),"setRequestHeader"in m&&qs.forEach(i.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),qs.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),d&&"json"!==d&&(m.responseType=r.responseType),p&&([l,c]=Ia(p,!0),m.addEventListener("progress",l)),f&&m.upload&&([a,u]=Ia(f),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",u)),(r.cancelToken||r.signal)&&(s=t=>{m&&(n(!t||t.type?new ka(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(s),r.signal&&(r.signal.aborted?s():r.signal.addEventListener("abort",s)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===fa.protocols.indexOf(y)?n(new Ws("Unsupported protocol "+y+":",Ws.ERR_BAD_REQUEST,e)):m.send(o||null)}))},$a=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const o=function(e){if(!n){n=!0,s();const t=e instanceof Error?e:this.reason;r.abort(t instanceof Ws?t:new ka(t instanceof Error?t.message:t))}};let i=t&&setTimeout((()=>{i=null,o(new Ws(`timeout ${t} of ms exceeded`,Ws.ETIMEDOUT))}),t);const s=()=>{e&&(i&&clearTimeout(i),i=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(o):e.removeEventListener("abort",o)})),e=null)};e.forEach((e=>e.addEventListener("abort",o)));const{signal:a}=r;return a.unsubscribe=()=>qs.asap(s),a}},Ba=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,o=0;for(;o<n;)r=o+t,yield e.slice(o,r),o=r},qa=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},Ha=(e,t,n,r)=>{const o=async function*(e,t){for await(const n of qa(e))yield*Ba(n,t)}(e,t);let i,s=0,a=e=>{i||(i=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await o.next();if(t)return a(),void e.close();let i=r.byteLength;if(n){let e=s+=i;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw a(t),t}},cancel:e=>(a(e),o.return())},{highWaterMark:2})},Va="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,za=Va&&"function"===typeof ReadableStream,Wa=Va&&("function"===typeof TextEncoder?(Ga=new TextEncoder,e=>Ga.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Ga;const Ka=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(Cx){return!1}},Ja=za&&Ka((()=>{let e=!1;const t=new Request(fa.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Ya=za&&Ka((()=>qs.isReadableStream(new Response("").body))),Za={stream:Ya&&(e=>e.body)};var Xa;Va&&(Xa=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!Za[e]&&(Za[e]=qs.isFunction(Xa[e])?t=>t[e]():(t,n)=>{throw new Ws(`Response type '${e}' is not supported`,Ws.ERR_NOT_SUPPORT,n)})})));const Qa=async(e,t)=>{const n=qs.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(qs.isBlob(e))return e.size;if(qs.isSpecCompliantForm(e)){const t=new Request(fa.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return qs.isArrayBufferView(e)||qs.isArrayBuffer(e)?e.byteLength:(qs.isURLSearchParams(e)&&(e+=""),qs.isString(e)?(await Wa(e)).byteLength:void 0)})(t):n},el=Va&&(async e=>{let{url:t,method:n,data:r,signal:o,cancelToken:i,timeout:s,onDownloadProgress:a,onUploadProgress:l,responseType:u,headers:c,withCredentials:d="same-origin",fetchOptions:f}=Ua(e);u=u?(u+"").toLowerCase():"text";let p,h=$a([o,i&&i.toAbortSignal()],s);const m=h&&h.unsubscribe&&(()=>{h.unsubscribe()});let g;try{if(l&&Ja&&"get"!==n&&"head"!==n&&0!==(g=await Qa(c,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(qs.isFormData(r)&&(e=n.headers.get("content-type"))&&c.setContentType(e),n.body){const[e,t]=Na(g,Ia(Ra(l)));r=Ha(n.body,65536,e,t)}}qs.isString(d)||(d=d?"include":"omit");const o="credentials"in Request.prototype;p=new Request(t,{...f,signal:h,method:n.toUpperCase(),headers:c.normalize().toJSON(),body:r,duplex:"half",credentials:o?d:void 0});let i=await fetch(p);const s=Ya&&("stream"===u||"response"===u);if(Ya&&(a||s&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=i[t]}));const t=qs.toFiniteNumber(i.headers.get("content-length")),[n,r]=a&&Na(t,Ia(Ra(a),!0))||[];i=new Response(Ha(i.body,65536,n,(()=>{r&&r(),m&&m()})),e)}u=u||"text";let y=await Za[qs.findKey(Za,u)||"text"](i,e);return!s&&m&&m(),await new Promise(((t,n)=>{Ta(t,n,{data:y,headers:xa.from(i.headers),status:i.status,statusText:i.statusText,config:e,request:p})}))}catch(y){if(m&&m(),y&&"TypeError"===y.name&&/fetch/i.test(y.message))throw Object.assign(new Ws("Network Error",Ws.ERR_NETWORK,e,p),{cause:y.cause||y});throw Ws.from(y,y&&y.code,e,p)}}),tl={http:null,xhr:Fa,fetch:el};qs.forEach(tl,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Cx){}Object.defineProperty(e,"adapterName",{value:t})}}));const nl=e=>`- ${e}`,rl=e=>qs.isFunction(e)||null===e||!1===e,ol=e=>{e=qs.isArray(e)?e:[e];const{length:t}=e;let n,r;const o={};for(let i=0;i<t;i++){let t;if(n=e[i],r=n,!rl(n)&&(r=tl[(t=String(n)).toLowerCase()],void 0===r))throw new Ws(`Unknown adapter '${t}'`);if(r)break;o[t||"#"+i]=r}if(!r){const e=Object.entries(o).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(nl).join("\n"):" "+nl(e[0]):"as no adapter specified";throw new Ws("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function il(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ka(null,e)}function sl(e){il(e),e.headers=xa.from(e.headers),e.data=Ca.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ol(e.adapter||ma.adapter)(e).then((function(t){return il(e),t.data=Ca.call(e,e.transformResponse,t),t.headers=xa.from(t.headers),t}),(function(t){return Ea(t)||(il(e),t&&t.response&&(t.response.data=Ca.call(e,e.transformResponse,t.response),t.response.headers=xa.from(t.response.headers))),Promise.reject(t)}))}const al="1.7.7",ll={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{ll[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const ul={};ll.transitional=function(e,t,n){function r(e,t){return"[Axios v1.7.7] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,o,i)=>{if(!1===e)throw new Ws(r(o," has been removed"+(t?" in "+t:"")),Ws.ERR_DEPRECATED);return t&&!ul[o]&&(ul[o]=!0,console.warn(r(o," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,o,i)}};const cl={assertOptions:function(e,t,n){if("object"!==typeof e)throw new Ws("options must be an object",Ws.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let o=r.length;for(;o-- >0;){const i=r[o],s=t[i];if(s){const t=e[i],n=void 0===t||s(t,i,e);if(!0!==n)throw new Ws("option "+i+" must be "+n,Ws.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new Ws("Unknown option "+i,Ws.ERR_BAD_OPTION)}},validators:ll},dl=cl.validators;class fl{constructor(e){this.defaults=e,this.interceptors={request:new oa,response:new oa}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e;Error.captureStackTrace?Error.captureStackTrace(e={}):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Cx){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=La(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:o}=t;void 0!==n&&cl.assertOptions(n,{silentJSONParsing:dl.transitional(dl.boolean),forcedJSONParsing:dl.transitional(dl.boolean),clarifyTimeoutError:dl.transitional(dl.boolean)},!1),null!=r&&(qs.isFunction(r)?t.paramsSerializer={serialize:r}:cl.assertOptions(r,{encode:dl.function,serialize:dl.function},!0)),t.method=(t.method||this.defaults.method||"get").toLowerCase();let i=o&&qs.merge(o.common,o[t.method]);o&&qs.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete o[e]})),t.headers=xa.concat(i,o);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const l=[];let u;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let c,d=0;if(!a){const e=[sl.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,l),c=e.length,u=Promise.resolve(t);d<c;)u=u.then(e[d++],e[d++]);return u}c=s.length;let f=t;for(d=0;d<c;){const e=s[d++],t=s[d++];try{f=e(f)}catch(p){t.call(this,p);break}}try{u=sl.call(this,f)}catch(p){return Promise.reject(p)}for(d=0,c=l.length;d<c;)u=u.then(l[d++],l[d++]);return u}getUri(e){return ra(Da((e=La(this.defaults,e)).baseURL,e.url),e.params,e.paramsSerializer)}}qs.forEach(["delete","get","head","options"],(function(e){fl.prototype[e]=function(t,n){return this.request(La(n||{},{method:e,url:t,data:(n||{}).data}))}})),qs.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,o){return this.request(La(o||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}fl.prototype[e]=t(),fl.prototype[e+"Form"]=t(!0)}));const pl=fl;class hl{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,o){n.reason||(n.reason=new ka(e,r,o),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new hl((function(t){e=t})),cancel:e}}}const ml=hl;const gl={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(gl).forEach((e=>{let[t,n]=e;gl[n]=t}));const yl=gl;const vl=function e(t){const n=new pl(t),r=ns(pl.prototype.request,n);return qs.extend(r,pl.prototype,n,{allOwnKeys:!0}),qs.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(La(t,n))},r}(ma);vl.Axios=pl,vl.CanceledError=ka,vl.CancelToken=ml,vl.isCancel=Ea,vl.VERSION=al,vl.toFormData=Zs,vl.AxiosError=Ws,vl.Cancel=vl.CanceledError,vl.all=function(e){return Promise.all(e)},vl.spread=function(e){return function(t){return e.apply(null,t)}},vl.isAxiosError=function(e){return qs.isObject(e)&&!0===e.isAxiosError},vl.mergeConfig=La,vl.AxiosHeaders=xa,vl.formToJSON=e=>pa(qs.isHTMLForm(e)?new FormData(e):e),vl.getAdapter=ol,vl.HttpStatusCode=yl,vl.default=vl;const bl=vl,wl=JSON.parse('{"i":true,"s":"https://ec2-34-214-32-142.us-west-2.compute.amazonaws.com:5000"}');wl.i;class _l{constructor(e){this.api=void 0,this.session=void 0,this.assumedAs=void 0,this.updateTrigger=void 0;const t={baseURL:wl.s};this.updateTrigger=e,this.api=bl.create(t);const n=localStorage.getItem("session");if(n){const e=JSON.parse(n);this.api.defaults.headers.Authorization=e.token,this.session=e}}assumeUser(e){this.assumedAs=e,this.api.defaults.headers.as_user=e,this.updateTrigger()}unassumeUser(){this.assumedAs=void 0,delete this.api.defaults.headers.as_user,this.updateTrigger()}async registerAndLogin(e,t){await this.api.post("/auth/register",{username:e,password:t}),await this.login(e,t)}async login(e,t){const n=(await this.api.post("/auth/login",{username:e,password:t})).data;n.UserName=e,this.session={...n,expireAt:new Date(n.expireAt).getTime(),username:e},localStorage.setItem("session",JSON.stringify(n)),this.api.defaults.headers.Authorization=n.Token,this.updateTrigger()}signOut(){this.session=void 0,delete this.api.defaults.headers.Authorization,localStorage.removeItem("session"),this.unassumeUser(),this.updateTrigger()}checkToken(){if(!this.session)throw new Error("Not Logged in");if(this.session.expireAt<=Date.now())throw this.signOut(),new Error("Expired Session. Please log in again")}async getData(){const e=(await this.api.get("/player/login_package")).data;return{...e,sceneUnlockDate:new Date(e.sceneUnlockDate).getTime()}}async startChat(e,t){return this.checkToken(),(await this.api.post("/chat/start_chat",{PromptKey:e,InitialMessage:t,SceneId:"web-client"})).data}async continueChat(e,t){return this.checkToken(),(await this.api.post("/chat/chat",{Thread:e,Message:t})).data}async query(e){return(await this.api.post("/admin/query",{Query:e})).data}async listModels(){return(await this.api.get("chat/models")).data.sort()}async listAsst(e,t){const n=(await this.api.get("/chat/assts",{headers:{before:e,after:t}})).data;for(const r of n.data)r.response_format_str=JSON.stringify(r.response_format,null,4);return n}async getAsst(e){const t=(await this.api.get(`/chat/assts/${e}`)).data;return t.response_format_str=JSON.stringify(t.response_format,null,4),t}async delAsst(e){return(await this.api.delete(`/chat/assts/${e}`)).data}async createAsst(e){return e.response_format=e.response_format_str?JSON.parse(e.response_format_str):void 0,(await this.api.post("/chat/assts/",e)).data}async updateAsst(e,t){return t.response_format=t.response_format_str?JSON.parse(t.response_format_str):void 0,(await this.api.put(`/chat/assts/${e}`,t)).data}}const xl=(0,t.createContext)(new _l((()=>{})));const Cl=function(e){let{session:n,assumeAs:r,tab:o,setTab:i}=e;const[a,l]=(0,t.useState)(!1),[u,c]=(0,t.useState)(!1),[d,f]=(0,t.useState)(""),[p,h]=(0,t.useState)(""),[m,g]=(0,t.useState)(""),[v,b]=(0,t.useState)(!1),[w,_]=(0,t.useState)(""),x=(0,t.useContext)(xl),C=(0,t.useCallback)((e=>{l(!0),c(e),f(""),h(""),g("")}),[]),E=(0,t.useCallback)((()=>{r?(console.log("unassume"),x.unassumeUser()):(b(!0),_(""))}),[x,r]),S=async()=>{try{u?await x.registerAndLogin(d,p):await x.login(d,p)}catch(Cx){var e,t;const r=Cx;return console.error(r),void g(null!==(e=null===(t=r.response)||void 0===t?void 0:t.data)&&void 0!==e?e:r.message)}f(""),h(""),l(!1)},k=n?`${n.username}(${r?`Assumed as ${r}`:["User","Admin","Admin"][n.type]})`:"Not Signed in";return(0,s.jsxs)("div",{children:[(0,s.jsx)(rn,{className:"bg-body-tertiary dark",children:(0,s.jsxs)(y,{children:[(0,s.jsx)(rn.Brand,{onClick:()=>i("home"),children:"MW Express Client"}),(0,s.jsx)(rn.Toggle,{}),(0,s.jsx)(rn.Collapse,{id:"basic-navbar-nav",children:(0,s.jsxs)(Rn,{className:"me-auto",children:[(0,s.jsx)(Rn.Link,{active:"data"===o,onClick:()=>i("data"),children:"Data"}),(0,s.jsx)(Rn.Link,{active:"trainer"===o,onClick:()=>i("trainer"),children:"Memory"}),(0,s.jsx)(Rn.Link,{active:"query"===o,disabled:2!==(null===n||void 0===n?void 0:n.type),onClick:()=>i("query"),children:"Query"})]})}),(0,s.jsx)(rn.Collapse,{className:"justify-content-end",children:(0,s.jsx)(di,{title:k,id:"basic-nav-dropdown",className:"justify-content-end",align:"end",children:n?[2===n.type?(0,s.jsx)(di.Item,{onClick:E,children:r?"Unassume":"Assume As"},"assume"):null,(0,s.jsx)(di.Item,{onClick:()=>x.signOut(),children:"Sign out"},"signout")]:[(0,s.jsx)(di.Item,{onClick:()=>C(!0),children:"Register"},"register"),(0,s.jsx)(di.Item,{onClick:()=>C(!1),children:"Sign in"},"signin")]})})]})}),(0,s.jsxs)(dt,{show:a,onHide:()=>l(!1),children:[(0,s.jsx)(dt.Header,{closeButton:!0,children:(0,s.jsx)(dt.Title,{children:u?"Register":"Sign in"})}),(0,s.jsxs)(dt.Body,{children:[m?(0,s.jsx)(ts,{variant:"danger",children:m}):null,(0,s.jsxs)(Vi,{onSubmit:e=>{S(),e.preventDefault()},children:[(0,s.jsx)(Ki,{className:"mb-3",children:(0,s.jsx)(Vi.Control,{placeholder:"username","aria-label":"username",value:d,onChange:e=>f(e.target.value)})}),(0,s.jsx)(Ki,{className:"mb-3",children:(0,s.jsx)(Vi.Control,{placeholder:"Password","aria-label":"Password",type:"password",value:p,onChange:e=>h(e.target.value)})}),(0,s.jsx)(Vi.Control,{type:"submit",style:{display:"none"}})]})]}),(0,s.jsx)(dt.Footer,{children:(0,s.jsx)(ii,{variant:"primary",onClick:S,disabled:!d||!p,children:u?"Register and Sign in":"Sign in"})})]}),(0,s.jsxs)(dt,{show:v,onHide:()=>b(!1),children:[(0,s.jsx)(dt.Header,{closeButton:!0,children:(0,s.jsx)(dt.Title,{children:"Assume as User"})}),(0,s.jsx)(dt.Body,{children:(0,s.jsx)(Vi,{onSubmit:e=>{S(),e.preventDefault()},children:(0,s.jsx)(Ki,{className:"mb-3",children:(0,s.jsx)(Vi.Control,{placeholder:"Assume Target","aria-label":"Assume Target",value:w,onChange:e=>_(e.target.value)})})})}),(0,s.jsx)(dt.Footer,{children:(0,s.jsx)(ii,{variant:"primary",onClick:()=>{x.assumeUser(w),b(!1)},disabled:!w,children:"Confirm"})})]})]})},El=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:o="div",...a}=e;const l=f(n,"row"),u=p(),c=h(),d=`${l}-cols`,m=[];return u.forEach((e=>{const t=a[e];let n;delete a[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const r=e!==c?`-${e}`:"";null!=n&&m.push(`${d}${r}-${n}`)})),(0,s.jsx)(o,{ref:t,...a,className:i()(r,l,...m)})}));El.displayName="Row";const Sl=El,kl=t.forwardRef(((e,t)=>{let{bsPrefix:n,active:r,disabled:o,eventKey:a,className:l,variant:u,action:c,as:d,...p}=e;n=f(n,"list-group-item");const[h,m]=hn({key:ft(a,p.href),active:r,...p}),g=A((e=>{if(o)return e.preventDefault(),void e.stopPropagation();h.onClick(e)}));o&&void 0===p.tabIndex&&(p.tabIndex=-1,p["aria-disabled"]=!0);const y=d||(c?p.href?"a":"button":"div");return(0,s.jsx)(y,{ref:t,...p,...h,onClick:g,className:i()(l,n,m.isActive&&"active",o&&"disabled",u&&`${n}-${u}`,c&&`${n}-action`)})}));kl.displayName="ListGroupItem";const Tl=kl,Ol=t.forwardRef(((e,t)=>{const{className:n,bsPrefix:r,variant:o,horizontal:a,numbered:l,as:u="div",...c}=yt(e,{activeKey:"onSelect"}),d=f(r,"list-group");let p;return a&&(p=!0===a?"horizontal":`horizontal-${a}`),(0,s.jsx)(_n,{ref:t,...c,as:u,className:i()(n,d,o&&`${d}-${o}`,p&&`${d}-${p}`,l&&`${d}-numbered`)})}));Ol.displayName="ListGroup";const Al=Object.assign(Ol,{Item:Tl});const Il=function(){const[e,n]=(0,t.useState)(""),[r,o]=(0,t.useState)([]),[i,a]=(0,t.useState)(""),[l,u]=(0,t.useState)(null),[c,d]=(0,t.useState)(null),[f,p]=(0,t.useState)("Ready"),[h,m]=(0,t.useState)(!1),g=(0,t.useContext)(xl),y=async e=>{let t;o((t=>t.concat({speaker:"user",content:e}))),n(""),p("Requesting"),u(null),m(!0);const r=Date.now();try{if(t=c?await g.continueChat(c,e):await g.startChat(i,e),!t.Result)throw new Error("ChatGPT Encountered an Error. See Server Details")}catch(Cx){return p(`Error Encountered after ${Date.now()-r} ms`),o((t=>{var n,r;return[...t,{speaker:"remote",content:null!==(n=null===(r=Cx.response)||void 0===r?void 0:r.data)&&void 0!==n?n:Cx.message,isError:!0}]})),void m(!1)}p(`Response received after ${Date.now()-r} ms`),d(t.Thread),o((e=>e.concat(t.Result.Lines.map((e=>({speaker:"remote",content:e})))))),null!==t.Result.Result?o((e=>[...e,{speaker:"remote",content:`Chat ended with result ${t.Result.Result}`}])):(u(t.Result.PlayerOptions),m(!1))};return(0,s.jsxs)("div",{className:"chatPage",children:[(0,s.jsx)("div",{className:"asstInput",children:(0,s.jsxs)(Ki,{children:[(0,s.jsx)(Ki.Text,{id:"asst-addon",children:"Assistant"}),(0,s.jsx)(Vi.Control,{placeholder:"Enter Assistant ID","aria-label":"Assistant ID",value:i,disabled:!!c,onChange:e=>a(e.target.value)})]})}),(0,s.jsxs)(Sl,{className:"threadBlock",children:[(0,s.jsx)(Ai,{className:"col-10",children:(0,s.jsxs)(Ki,{children:[(0,s.jsx)(Ki.Text,{id:"asst-addon",children:"Thread"}),(0,s.jsx)(Vi.Control,{placeholder:"Send a message to create a thread","aria-label":"Thread ID",value:null!==c&&void 0!==c?c:"",disabled:!0})]})}),(0,s.jsx)(ii,{className:"col-2",variant:"outline-danger",onClick:()=>{n(""),o([]),u(null),d(null),p("Ready"),m(!1)},children:"Reset"})]}),(0,s.jsx)("div",{className:"msgDisplay",children:r.map(((e,t)=>(0,s.jsx)("p",{className:e.isError?"line error":"line",children:`${e.speaker}: ${e.content}`},t)))}),l?(0,s.jsx)(Al,{className:"optionsContainer",children:l.map(((e,t)=>(0,s.jsx)(Al.Item,{action:!0,onClick:()=>y(e),children:e},t)))}):null,(0,s.jsx)("div",{className:"chatStatus",children:f}),(0,s.jsx)(Vi,{className:"inputForm",children:(0,s.jsxs)(Sl,{className:"inputRow",children:[(0,s.jsx)(Ai,{className:"col-9",children:(0,s.jsx)(Vi.Control,{placeholder:"Send Messages here...","aria-label":"Input",as:"textarea",value:e,disabled:h||!i,onChange:e=>n(e.target.value),onKeyUp:t=>{"Enter"!==t.key||t.shiftKey||(t.preventDefault(),y(e))}})}),(0,s.jsx)(Ai,{className:"col-3",children:(0,s.jsx)(Vi.Control,{type:"submit",onClick:()=>y(e),disabled:h||!i})})]})})]})},Nl=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,striped:o,bordered:a,borderless:l,hover:u,size:c,variant:d,responsive:p,...h}=e;const m=f(n,"table"),g=i()(r,m,d&&`${m}-${d}`,c&&`${m}-${c}`,o&&`${m}-${"string"===typeof o?`striped-${o}`:"striped"}`,a&&`${m}-bordered`,l&&`${m}-borderless`,u&&`${m}-hover`),y=(0,s.jsx)("table",{...h,className:g,ref:t});if(p){let e=`${m}-responsive`;return"string"===typeof p&&(e=`${e}-${p}`),(0,s.jsx)("div",{className:e,children:y})}return y})),Rl=Nl;function Pl(e){let{data:t,onInspect:n}=e;if(null==t)return(0,s.jsx)("td",{});const r=t.toString();return(0,s.jsx)("td",{className:"inspectableCell",onClick:()=>n(t),children:(0,s.jsx)("div",{children:r})})}const jl=function(){const[e,n]=(0,t.useState)(""),[r,o]=(0,t.useState)(""),[i,a]=(0,t.useState)(null),[l,u]=(0,t.useState)(null),c=(0,t.useContext)(xl),d=async e=>{try{a(await c.query(e)),o("")}catch(Cx){var t,n;o(null!==(t=null===(n=Cx.response)||void 0===n?void 0:n.data)&&void 0!==t?t:Cx.message)}},f=e=>{u(e)};let p=null;if(i)if(i.Fields){let e=i.Result.map(((e,t)=>(0,s.jsx)("tr",{children:i.Fields.map((t=>(0,s.jsx)(Pl,{data:e[t],onInspect:f},t)))},t)));p=(0,s.jsxs)(Rl,{striped:!0,bordered:!0,hover:!0,children:[(0,s.jsx)("thead",{children:(0,s.jsx)("tr",{children:i.Fields.map((e=>(0,s.jsx)("th",{children:e},e)))})}),(0,s.jsx)("tbody",{children:e})]})}else p=(0,s.jsxs)(Rl,{striped:!0,bordered:!0,className:"dataTable",children:[(0,s.jsx)("thead",{children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{children:"Key"}),(0,s.jsx)("th",{children:"Value"})]})}),(0,s.jsx)("tbody",{children:Object.entries(i.Result).map((e=>{let[t,n]=e;return(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{children:t}),(0,s.jsx)("td",{children:n})]},t)}))})]});return(0,s.jsxs)("div",{className:"queryPage",children:[(0,s.jsx)(Vi,{className:"inputForm",onSubmit:t=>{d(e),t.preventDefault()},children:(0,s.jsxs)(Sl,{className:"inputRow",children:[(0,s.jsx)(Ai,{className:"col-9",children:(0,s.jsx)(Vi.Control,{placeholder:"Send Messages here...","aria-label":"Input",as:"textarea",value:e,onChange:e=>n(e.target.value),onKeyUp:t=>{"Enter"!==t.key||t.shiftKey||(t.preventDefault(),d(e))}})}),(0,s.jsx)(Ai,{className:"col-3",children:(0,s.jsx)(Vi.Control,{type:"submit"})})]})}),r?(0,s.jsx)(ts,{variant:"danger",children:r}):null,p,(0,s.jsxs)(dt,{show:!!l,onHide:()=>u(null),children:[(0,s.jsx)(dt.Header,{closeButton:!0,children:(0,s.jsx)(dt.Title,{children:"Inspect Cell"})}),(0,s.jsx)(dt.Body,{children:(0,s.jsx)("p",{className:"inspectData",children:l})})]})]})},Dl=t.forwardRef(((e,t)=>{let{bsPrefix:n,variant:r,animation:o="border",size:a,as:l="div",className:u,...c}=e;n=f(n,"spinner");const d=`${n}-${o}`;return(0,s.jsx)(l,{ref:t,...c,className:i()(u,d,a&&`${d}-${a}`,r&&`text-${r}`)})}));Dl.displayName="Spinner";const Ml=Dl;const Ll=function(){const[e,n]=(0,t.useState)({magin:0,currentSceneIdx:0,sceneUnlockDate:0,variables:{bools:{},strings:{},floats:{}}}),[r,o]=(0,t.useState)(""),i=(0,t.useContext)(xl),a=(0,t.useCallback)(((e,t)=>{n((n=>({...n,[e]:t})))}),[]);return(0,t.useEffect)((()=>{i.session&&i.getData().then((e=>n(e))).catch((e=>{var t,n;return o(null!==(t=null===(n=e.response)||void 0===n?void 0:n.data)&&void 0!==t?t:e.essage)}))}),[i,i.assumedAs,i.session]),i.session?e?(0,s.jsxs)("div",{className:"playerPage",children:[r?(0,s.jsx)(ts,{variant:"danger",children:r}):null,(0,s.jsxs)(Vi,{children:[(0,s.jsx)("h4",{children:"Core Data"}),(0,s.jsx)("hr",{}),(0,s.jsxs)(Vi.Group,{as:Sl,className:"mb-3",children:[(0,s.jsx)(Vi.Label,{column:!0,sm:3,children:"Magin"}),(0,s.jsx)(Ai,{sm:9,children:(0,s.jsx)(Vi.Control,{type:"number",value:e.magin,onChange:e=>a("magin",parseInt(e.target.value))})})]}),(0,s.jsxs)(Vi.Group,{as:Sl,className:"mb-3",children:[(0,s.jsx)(Vi.Label,{column:!0,sm:3,children:"Scene Index"}),(0,s.jsx)(Ai,{sm:9,children:(0,s.jsx)(Vi.Control,{type:"number",value:e.currentSceneIdx,onChange:e=>a("currentSceneIdx",parseInt(e.target.value))})})]}),(0,s.jsxs)(Vi.Group,{as:Sl,className:"mb-3",children:[(0,s.jsx)(Vi.Label,{column:!0,sm:3,children:"Scene Date"}),(0,s.jsx)(Ai,{sm:9,children:(0,s.jsx)(Vi.Control,{type:"input",onChange:e=>a("sceneDate",new Date(e.target.value).getTime()),value:new Date(e.sceneUnlockDate).toLocaleString()})})]}),(0,s.jsx)("br",{}),(0,s.jsx)("h4",{children:"Variables Data"}),(0,s.jsx)("hr",{}),(0,s.jsx)("h5",{children:"Strings"}),Object.entries(e.variables.strings).map((e=>{let[t,n]=e;return(0,s.jsxs)(Vi.Group,{as:Sl,className:"mb-3",children:[(0,s.jsx)(Vi.Label,{column:!0,sm:3,children:t}),(0,s.jsx)(Ai,{sm:9,children:(0,s.jsx)(Vi.Control,{type:"input",value:n,disabled:!0})})]},t)})),(0,s.jsx)("h5",{children:"Floats"}),Object.entries(e.variables.floats).map((e=>{let[t,n]=e;return(0,s.jsxs)(Vi.Group,{as:Sl,className:"mb-3",children:[(0,s.jsx)(Vi.Label,{column:!0,sm:3,children:t}),(0,s.jsx)(Ai,{sm:9,children:(0,s.jsx)(Vi.Control,{type:"number",value:n,disabled:!0})})]},t)})),(0,s.jsx)("h5",{children:"Bools"}),Object.entries(e.variables.bools).map((e=>{let[t,n]=e;return(0,s.jsx)(Vi.Group,{as:Sl,className:"mb-3",children:(0,s.jsx)(Vi.Check,{checked:n,type:"switch",label:t,readOnly:!0})},t)}))]})]}):(0,s.jsx)("div",{className:"playerPage",children:(0,s.jsx)(Ml,{})}):(0,s.jsx)("div",{className:"playerPage",children:"Log in to continue"})};class Ul{async init(){}async send(e,t,n,r){}renderControls(){return{}}}const Fl="0.15.0";let $l,Bl,ql,Hl,Vl,zl,Wl,Gl,Kl,Jl=!1,Yl=null,Zl=null,Xl=null,Ql=null;class eu{constructor(e){this.body=e}get[Symbol.toStringTag](){return"MultipartBody"}}$l||function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{auto:!1};if(Jl)throw new Error(`you must \`import 'groq-sdk/shims/${e.kind}'\` before importing anything else from groq-sdk`);if($l)throw new Error(`can't \`import 'groq-sdk/shims/${e.kind}'\` after \`import 'groq-sdk/shims/${$l}'\``);Jl=t.auto,$l=e.kind,Bl=e.fetch,Yl=e.Request,Zl=e.Response,Xl=e.Headers,ql=e.FormData,Ql=e.Blob,Hl=e.File,Vl=e.ReadableStream,zl=e.getMultipartRequestOptions,Wl=e.getDefaultAgent,Gl=e.fileFromPath,Kl=e.isFsReadStream}(function(){let{manuallyImported:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=e?"You may need to use polyfills":"Add one of these imports before your first `import \u2026 from 'groq-sdk'`:\n- `import 'groq-sdk/shims/node'` (if you're running on Node)\n- `import 'groq-sdk/shims/web'` (otherwise)\n";let n,r,o,i;try{n=fetch,r=Request,o=Response,i=Headers}catch(s){throw new Error(`this environment is missing the following Web Fetch API type: ${s.message}. ${t}`)}return{kind:"web",fetch:n,Request:r,Response:o,Headers:i,FormData:"undefined"!==typeof FormData?FormData:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'FormData' is undefined. ${t}`)}},Blob:"undefined"!==typeof Blob?Blob:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'Blob' is undefined. ${t}`)}},File:"undefined"!==typeof File?File:class{constructor(){throw new Error(`file uploads aren't supported in this environment yet as 'File' is undefined. ${t}`)}},ReadableStream:"undefined"!==typeof ReadableStream?ReadableStream:class{constructor(){throw new Error(`streaming isn't supported in this environment yet as 'ReadableStream' is undefined. ${t}`)}},getMultipartRequestOptions:async(e,t)=>({...t,body:new eu(e)}),getDefaultAgent:e=>{},fileFromPath:()=>{throw new Error("The `fileFromPath` function is only supported in Node. See the README for more details: https://www.github.com/groq/groq-typescript#file-uploads")},isFsReadStream:e=>!1}}(),{auto:!0});class tu extends Error{}class nu extends tu{constructor(e,t,n,r){super(`${nu.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.error=t}static makeMessage(e,t,n){const r=t?.message?"string"===typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,r){if(!e||!r)return new ou({message:n,cause:Vu(t)});const o=t;return 400===e?new su(e,o,n,r):401===e?new au(e,o,n,r):403===e?new lu(e,o,n,r):404===e?new uu(e,o,n,r):409===e?new cu(e,o,n,r):422===e?new du(e,o,n,r):429===e?new fu(e,o,n,r):e>=500?new pu(e,o,n,r):new nu(e,o,n,r)}}class ru extends nu{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(void 0,void 0,e||"Request was aborted.",void 0)}}class ou extends nu{constructor(e){let{message:t,cause:n}=e;super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class iu extends ou{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e??"Request timed out."})}}class su extends nu{}class au extends nu{}class lu extends nu{}class uu extends nu{}class cu extends nu{}class du extends nu{}class fu extends nu{}class pu extends nu{}class hu{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let n=!1;const r=new mu;return new hu((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let o=!1;try{for await(const n of async function*(){if(!e.body)throw t.abort(),new tu("Attempted to iterate over a response with no body");const n=new gu,o=yu(e.body);for await(const e of o)for(const t of n.decode(e)){const e=r.decode(t);e&&(yield e)}for(const e of n.flush()){const t=r.decode(e);t&&(yield t)}}())if(!o)if(n.data.startsWith("[DONE]"))o=!0;else if(null===n.event||"error"===n.event){let e;try{e=JSON.parse(n.data)}catch(Cx){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),Cx}if(e&&e.error)throw new nu(e.error.status_code,e.error,e.error.message,void 0);yield e}o=!0}catch(Cx){if(Cx instanceof Error&&"AbortError"===Cx.name)return;throw Cx}finally{o||t.abort()}}),t)}static fromReadableStream(e,t){let n=!1;return new hu((async function*(){if(n)throw new Error("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const t of async function*(){const t=new gu,n=yu(e);for await(const e of n)for(const n of t.decode(e))yield n;for(const e of t.flush())yield e}())r||t&&(yield JSON.parse(t));r=!0}catch(Cx){if(Cx instanceof Error&&"AbortError"===Cx.name)return;throw Cx}finally{r||t.abort()}}),t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new hu((()=>r(e)),this.controller),new hu((()=>r(t)),this.controller)]}toReadableStream(){const e=this;let t;const n=new TextEncoder;return new Vl({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:r,done:o}=await t.next();if(o)return e.close();const i=n.encode(JSON.stringify(r)+"\n");e.enqueue(i)}catch(r){e.error(r)}},async cancel(){await(t.return?.())}})}}class mu{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e,t){const n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}(e,":");return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}class gu{constructor(){this.buffer=[],this.trailingCR=!1}decode(e){let t=this.decodeText(e);if(this.trailingCR&&(t="\r"+t,this.trailingCR=!1),t.endsWith("\r")&&(this.trailingCR=!0,t=t.slice(0,-1)),!t)return[];const n=gu.NEWLINE_CHARS.has(t[t.length-1]||"");let r=t.split(gu.NEWLINE_REGEXP);return 1!==r.length||n?(this.buffer.length>0&&(r=[this.buffer.join("")+r[0],...r.slice(1)],this.buffer=[]),n||(this.buffer=[r.pop()||""]),r):(this.buffer.push(r[0]),[])}decodeText(e){if(null==e)return"";if("string"===typeof e)return e;if("undefined"!==typeof Buffer){if(e instanceof Buffer)return e.toString();if(e instanceof Uint8Array)return Buffer.from(e).toString();throw new tu(`Unexpected: received non-Uint8Array (${e.constructor.name}) stream chunk in an environment with a global "Buffer" defined, which this library assumes to be Node. Please report this error.`)}if("undefined"!==typeof TextDecoder){if(e instanceof Uint8Array||e instanceof ArrayBuffer)return this.textDecoder??(this.textDecoder=new TextDecoder("utf8")),this.textDecoder.decode(e);throw new tu(`Unexpected: received non-Uint8Array/ArrayBuffer (${e.constructor.name}) in a web platform. Please report this error.`)}throw new tu("Unexpected: neither Buffer nor TextDecoder are available as globals. Please report this error.")}flush(){if(!this.buffer.length&&!this.trailingCR)return[];const e=[this.buffer.join("")];return this.buffer=[],this.trailingCR=!1,e}}function yu(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return e?.done&&t.releaseLock(),e}catch(Cx){throw t.releaseLock(),Cx}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}gu.NEWLINE_CHARS=new Set(["\n","\r","\v","\f","\x1c","\x1d","\x1e","\x85","\u2028","\u2029"]),gu.NEWLINE_REGEXP=/\r\n|[\n\r\x0b\x0c\x1c\x1d\x1e\x85\u2028\u2029]/g;const vu=e=>null!=e&&"object"===typeof e&&"string"===typeof e.url&&"function"===typeof e.blob,bu=e=>null!=e&&"object"===typeof e&&"string"===typeof e.name&&"number"===typeof e.lastModified&&wu(e),wu=e=>null!=e&&"object"===typeof e&&"number"===typeof e.size&&"string"===typeof e.type&&"function"===typeof e.text&&"function"===typeof e.slice&&"function"===typeof e.arrayBuffer,_u=e=>bu(e)||vu(e)||Kl(e);async function xu(e,t,n){if(e=await e,bu(e))return e;if(vu(e)){const r=await e.blob();t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()??"unknown_file");const o=wu(r)?[await r.arrayBuffer()]:[r];return new Hl(o,t,n)}const r=await async function(e){let t=[];if("string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(wu(e))t.push(await e.arrayBuffer());else{if(!Eu(e))throw new Error(`Unexpected data type: ${typeof e}; constructor: ${e?.constructor?.name}; props: ${function(e){const t=Object.getOwnPropertyNames(e);return`[${t.map((e=>`"${e}"`)).join(", ")}]`}(e)}`);for await(const n of e)t.push(n)}return t}(e);if(t||(t=function(e){return Cu(e.name)||Cu(e.filename)||Cu(e.path)?.split(/[\\/]/).pop()}(e)??"unknown_file"),!n?.type){const e=r[0]?.type;"string"===typeof e&&(n={...n,type:e})}return new Hl(r,t,n)}const Cu=e=>"string"===typeof e?e:"undefined"!==typeof Buffer&&e instanceof Buffer?String(e):void 0,Eu=e=>null!=e&&"object"===typeof e&&"function"===typeof e[Symbol.asyncIterator],Su=e=>e&&"object"===typeof e&&e.body&&"MultipartBody"===e[Symbol.toStringTag],ku=async e=>{const t=await Tu(e.body);return zl(t,e)},Tu=async e=>{const t=new ql;return await Promise.all(Object.entries(e||{}).map((e=>{let[n,r]=e;return Ou(t,n,r)}))),t},Ou=async(e,t,n)=>{if(void 0!==n){if(null==n)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)e.append(t,String(n));else if(_u(n)){const r=await xu(n);e.append(t,r)}else if(Array.isArray(n))await Promise.all(n.map((n=>Ou(e,t+"[]",n))));else{if("object"!==typeof n)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`);await Promise.all(Object.entries(n).map((n=>{let[r,o]=n;return Ou(e,`${t}[${r}]`,o)})))}}};async function Au(e){const{response:t}=e;if(e.options.stream)return Ju("response",t.status,t.url,t.headers,t.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(t,e.controller):hu.fromSSEResponse(t,e.controller);if(204===t.status)return null;if(e.options.__binaryResponse)return t;const n=t.headers.get("content-type");if(n?.includes("application/json")||n?.includes("application/vnd.api+json")){const e=await t.json();return Ju("response",t.status,t.url,t.headers,e),e}const r=await t.text();return Ju("response",t.status,t.url,t.headers,r),r}class Iu extends Promise{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Au;super((e=>{e(null)})),this.responsePromise=e,this.parseResponse=t}_thenUnwrap(e){return new Iu(this.responsePromise,(async t=>e(await this.parseResponse(t),t)))}asResponse(){return this.responsePromise.then((e=>e.response))}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(this.parseResponse)),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}class Nu{constructor(e){let{baseURL:t,maxRetries:n=2,timeout:r=6e4,httpAgent:o,fetch:i}=e;this.baseURL=t,this.maxRetries=Hu("maxRetries",n),this.timeout=Hu("timeout",r),this.httpAgent=o,this.fetch=i??Bl}authHeaders(e){return{}}defaultHeaders(e){return{Accept:"application/json","Content-Type":"application/json","User-Agent":this.getUserAgent(),...Uu(),...this.authHeaders(e)}}validateHeaders(e,t){}defaultIdempotencyKey(){return`stainless-node-retry-${Yu()}`}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then((async n=>{const r=n&&wu(n?.body)?new DataView(await n.body.arrayBuffer()):n?.body instanceof DataView?n.body:n?.body instanceof ArrayBuffer?new DataView(n.body):n&&ArrayBuffer.isView(n?.body)?new DataView(n.body.buffer):n?.body;return{method:e,path:t,...n,body:r}})))}getAPIList(e,t,n){return this.requestAPIList(t,{method:"get",path:e,...n})}calculateContentLength(e){if("string"===typeof e){if("undefined"!==typeof Buffer)return Buffer.byteLength(e,"utf8").toString();if("undefined"!==typeof TextEncoder){return(new TextEncoder).encode(e).length.toString()}}else if(ArrayBuffer.isView(e))return e.byteLength.toString();return null}buildRequest(e){let{retryCount:t=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{method:n,path:r,query:o,headers:i={}}=e,s=ArrayBuffer.isView(e.body)||e.__binaryRequest&&"string"===typeof e.body?e.body:Su(e.body)?e.body.body:e.body?JSON.stringify(e.body,null,2):null,a=this.calculateContentLength(s),l=this.buildURL(r,o);"timeout"in e&&Hu("timeout",e.timeout);const u=e.timeout??this.timeout,c=e.httpAgent??this.httpAgent??Wl(l),d=u+1e3;"number"===typeof c?.options?.timeout&&d>(c.options.timeout??0)&&(c.options.timeout=d),this.idempotencyHeader&&"get"!==n&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=e.idempotencyKey);return{req:{method:n,...s&&{body:s},headers:this.buildHeaders({options:e,headers:i,contentLength:a,retryCount:t}),...c&&{agent:c},signal:e.signal??null},url:l,timeout:u}}buildHeaders(e){let{options:t,headers:n,contentLength:r,retryCount:o}=e;const i={};r&&(i["content-length"]=r);const s=this.defaultHeaders(t);return Ku(i,s),Ku(i,n),Su(t.body)&&"node"!==$l&&delete i["content-type"],void 0===Zu(s,"x-stainless-retry-count")&&void 0===Zu(n,"x-stainless-retry-count")&&(i["x-stainless-retry-count"]=String(o)),this.validateHeaders(i,n),i}async prepareOptions(e){}async prepareRequest(e,t){let{url:n,options:r}=t}parseHeaders(e){return e?Symbol.iterator in e?Object.fromEntries(Array.from(e).map((e=>[...e]))):{...e}:{}}makeStatusError(e,t,n,r){return nu.generate(e,t,n,r)}request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new Iu(this.makeRequest(e,t))}async makeRequest(e,t){const n=await e,r=n.maxRetries??this.maxRetries;null==t&&(t=r),await this.prepareOptions(n);const{req:o,url:i,timeout:s}=this.buildRequest(n,{retryCount:r-t});if(await this.prepareRequest(o,{url:i,options:n}),Ju("request",i,n,o.headers),n.signal?.aborted)throw new ru;const a=new AbortController,l=await this.fetchWithTimeout(i,o,s,a).catch(Vu);if(l instanceof Error){if(n.signal?.aborted)throw new ru;if(t)return this.retryRequest(n,t);if("AbortError"===l.name)throw new iu;throw new ou({cause:l})}const u=Pu(l.headers);if(!l.ok){if(t&&this.shouldRetry(l)){return Ju(`response (error; ${`retrying, ${t} attempts remaining`})`,l.status,i,u),this.retryRequest(n,t,u)}const e=await l.text().catch((e=>Vu(e).message)),r=Fu(e),o=r?void 0:e;Ju(`response (error; ${t?"(error; no more retries left)":"(error; not retryable)"})`,l.status,i,u,o);throw this.makeStatusError(l.status,r,o,u)}return{response:l,options:n,controller:a}}requestAPIList(e,t){const n=this.makeRequest(t,null);return new Ru(this,n,e)}buildURL(e,t){const n=Bu(e)?new URL(e):new URL(this.baseURL+(this.baseURL.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),r=this.defaultQuery();return Wu(r)||(t={...r,...t}),"object"===typeof t&&t&&!Array.isArray(t)&&(n.search=this.stringifyQuery(t)),n.toString()}stringifyQuery(e){return Object.entries(e).filter((e=>{let[t,n]=e;return"undefined"!==typeof n})).map((e=>{let[t,n]=e;if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)return`${encodeURIComponent(t)}=${encodeURIComponent(n)}`;if(null===n)return`${encodeURIComponent(t)}=`;throw new tu(`Cannot stringify type ${typeof n}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)})).join("&")}async fetchWithTimeout(e,t,n,r){const{signal:o,...i}=t||{};o&&o.addEventListener("abort",(()=>r.abort()));const s=setTimeout((()=>r.abort()),n),a={signal:r.signal,...i};return a.method&&(a.method=a.method.toUpperCase()),this.fetch.call(void 0,e,a).finally((()=>{clearTimeout(s)}))}shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,n){let r;const o=n?.["retry-after-ms"];if(o){const e=parseFloat(o);Number.isNaN(e)||(r=e)}const i=n?.["retry-after"];if(i&&!r){const e=parseFloat(i);r=Number.isNaN(e)?Date.parse(i)-Date.now():1e3*e}if(!(r&&0<=r&&r<6e4)){const n=e.maxRetries??this.maxRetries;r=this.calculateDefaultRetryTimeoutMillis(t,n)}return await qu(r),this.makeRequest(e,t-1)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}getUserAgent(){return`${this.constructor.name}/JS ${Fl}`}}new WeakMap,Symbol.asyncIterator;class Ru extends Iu{constructor(e,t,n){super(t,(async t=>new n(e,t.response,await Au(t),t.options)))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}const Pu=e=>new Proxy(Object.fromEntries(e.entries()),{get(e,t){const n=t.toString();return e[n.toLowerCase()]||e[n]}}),ju=()=>{if("undefined"!==typeof Deno&&null!=Deno.build)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fl,"X-Stainless-OS":Mu(Deno.build.os),"X-Stainless-Arch":Du(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"===typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!==typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":process.version};if("[object process]"===Object.prototype.toString.call("undefined"!==typeof process?process:0))return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fl,"X-Stainless-OS":Mu(process.platform),"X-Stainless-Arch":Du(process.arch),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":process.version};const e=function(){if("undefined"===typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e){return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}}return null}();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Fl,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const Du=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",Mu=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let Lu;const Uu=()=>Lu??(Lu=ju()),Fu=e=>{try{return JSON.parse(e)}catch(t){return}},$u=/^[a-z][a-z0-9+.-]*:/i,Bu=e=>$u.test(e),qu=e=>new Promise((t=>setTimeout(t,e))),Hu=(e,t)=>{if("number"!==typeof t||!Number.isInteger(t))throw new tu(`${e} must be an integer`);if(t<0)throw new tu(`${e} must be a positive integer`);return t},Vu=e=>{if(e instanceof Error)return e;if("object"===typeof e&&null!==e)try{return new Error(JSON.stringify(e))}catch{}return new Error(e)},zu=e=>"undefined"!==typeof process?{NODE_ENV:"production",PUBLIC_URL:"/mw-express-client-build",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}?.[e]?.trim()??void 0:"undefined"!==typeof Deno?Deno.env?.get?.(e)?.trim():void 0;function Wu(e){if(!e)return!0;for(const t in e)return!1;return!0}function Gu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ku(e,t){for(const n in t){if(!Gu(t,n))continue;const r=n.toLowerCase();if(!r)continue;const o=t[n];null===o?delete e[r]:void 0!==o&&(e[r]=o)}}function Ju(e){if("undefined"!==typeof process&&"true"==={NODE_ENV:"production",PUBLIC_URL:"/mw-express-client-build",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}?.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];console.log(`Groq:DEBUG:${e}`,...n)}}const Yu=()=>"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(e=>{const t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),Zu=(e,t)=>{const n=t.toLowerCase();if((e=>"function"===typeof e?.get)(e)){const r=t[0]?.toUpperCase()+t.substring(1).replace(/([^\w])(\w)/g,((e,t,n)=>t+n.toUpperCase()));for(const o of[t,n,t.toUpperCase(),r]){const t=e.get(o);if(t)return t}}for(const[r,o]of Object.entries(e))if(r.toLowerCase()===n)return Array.isArray(o)?(o.length<=1||console.warn(`Received ${o.length} entries for the ${t} header, using the first entry.`),o[0]):o};class Xu{constructor(e){this._client=e}}class Qu extends Xu{}class ec extends Xu{create(e,t){return this._client.post("/openai/v1/chat/completions",{body:e,...t,stream:e.stream??!1})}}class tc extends Xu{constructor(){super(...arguments),this.completions=new ec(this._client)}}tc.Completions=ec;class nc extends Xu{create(e,t){return this._client.post("/openai/v1/embeddings",{body:e,...t})}}class rc extends Xu{create(e,t){return this._client.post("/openai/v1/audio/transcriptions",ku({body:e,...t}))}}class oc extends Xu{create(e,t){return this._client.post("/openai/v1/audio/translations",ku({body:e,...t}))}}class ic extends Xu{constructor(){super(...arguments),this.transcriptions=new rc(this._client),this.translations=new oc(this._client)}}ic.Transcriptions=rc,ic.Translations=oc;class sc extends Xu{retrieve(e,t){return this._client.get(`/openai/v1/models/${e}`,t)}list(e){return this._client.get("/openai/v1/models",e)}delete(e,t){return this._client.delete(`/openai/v1/models/${e}`,t)}}class ac extends Xu{create(e,t){return this._client.post("/openai/v1/batches",{body:e,...t})}retrieve(e,t){return this._client.get(`/openai/v1/batches/${e}`,t)}list(e){return this._client.get("/openai/v1/batches",e)}}class lc extends Xu{create(e,t){return this._client.post("/openai/v1/files",ku({body:e,...t}))}list(e){return this._client.get("/openai/v1/files",e)}delete(e,t){return this._client.delete(`/openai/v1/files/${e}`,t)}content(e,t){return this._client.get(`/openai/v1/files/${e}/content`,t)}info(e,t){return this._client.get(`/openai/v1/files/${e}`,t)}}var uc;class cc extends Nu{constructor(){let{baseURL:e=zu("GROQ_BASE_URL"),apiKey:t=zu("GROQ_API_KEY"),...n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(void 0===t)throw new tu("The GROQ_API_KEY environment variable is missing or empty; either provide it, or instantiate the Groq client with an apiKey option, like new Groq({ apiKey: 'My API Key' }).");const r={apiKey:t,...n,baseURL:e||"https://api.groq.com"};if(!r.dangerouslyAllowBrowser&&"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof navigator)throw new tu("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew Groq({ apiKey, dangerouslyAllowBrowser: true })");super({baseURL:r.baseURL,timeout:r.timeout??6e4,httpAgent:r.httpAgent,maxRetries:r.maxRetries,fetch:r.fetch}),this.completions=new Qu(this),this.chat=new tc(this),this.embeddings=new nc(this),this.audio=new ic(this),this.models=new sc(this),this.batches=new ac(this),this.files=new lc(this),this._options=r,this.apiKey=t}defaultQuery(){return this._options.defaultQuery}defaultHeaders(e){return{...super.defaultHeaders(e),...this._options.defaultHeaders}}authHeaders(e){return{Authorization:`Bearer ${this.apiKey}`}}}uc=cc,cc.Groq=uc,cc.DEFAULT_TIMEOUT=6e4,cc.GroqError=tu,cc.APIError=nu,cc.APIConnectionError=ou,cc.APIConnectionTimeoutError=iu,cc.APIUserAbortError=ru,cc.NotFoundError=uu,cc.ConflictError=cu,cc.RateLimitError=fu,cc.BadRequestError=su,cc.AuthenticationError=au,cc.InternalServerError=pu,cc.PermissionDeniedError=lu,cc.UnprocessableEntityError=du,cc.toFile=xu,cc.fileFromPath=Gl,cc.Completions=Qu,cc.Chat=tc,cc.Embeddings=nc,cc.Audio=ic,cc.Models=sc,cc.Batches=ac,cc.Files=lc;const dc=cc;function fc(e,t){if(!e)return t;const n=parseInt(e);return isNaN(n)?t:n}class pc{constructor(){this.api=void 0,this.lastToken="",this.api=new dc({apiKey:"",dangerouslyAllowBrowser:!0})}async init(){}async send(e,t,n,r){try{this.lastToken!==e.Token&&(this.lastToken=e.Token,this.api=new dc({apiKey:e.Token,dangerouslyAllowBrowser:!0})),t=[...t];for(const e in t)t[e].meta&&delete t[e].meta;const a=Date.now(),l=await this.api.chat.completions.create({messages:t,model:e.Model,temperature:e.Temperature||1,max_completion_tokens:fc(e["Max Tokens"],512),top_p:1,stream:!0,stop:`${r}: `});let u="";for await(const e of l){var o,i,s;u+=(null===(o=e.choices[0])||void 0===o||null===(i=o.delta)||void 0===i?void 0:i.content)||"";const t=null===(s=e.x_groq)||void 0===s?void 0:s.usage;n({role:"assistant",content:u,meta:t?{completionTokens:t.total_tokens-t.prompt_tokens,contextTokens:t.prompt_tokens,delay:(Date.now()-a)/1e3}:void 0})}}catch(Cx){throw console.log("error",Cx),console.log(Cx instanceof dc.APIError),Cx instanceof dc.APIError?new Error(`${Cx.error.error.code}: ${Cx.error.error.message}`):Cx}}renderControls(){return{Token:{type:"text",default:""},Model:{type:"select",default:"mistral-saba-24b",options:["mistral-saba-24b","gemma2-9b-it","llama-3.1-8b-instant","llama-3.3-70b-versatile"]},"Max Tokens":{type:"number",default:512,min:0,max:4096},Temperature:{type:"range",default:1,min:0,max:2,step:.1}}}}var hc,mc;!function(e){e.assertEqual=e=>{},e.assertIs=function(e){},e.assertNever=function(e){throw new Error},e.arrayToEnum=e=>{const t={};for(const n of e)t[n]=n;return t},e.getValidEnumValues=t=>{const n=e.objectKeys(t).filter((e=>"number"!==typeof t[t[e]])),r={};for(const e of n)r[e]=t[e];return e.objectValues(r)},e.objectValues=t=>e.objectKeys(t).map((function(e){return t[e]})),e.objectKeys="function"===typeof Object.keys?e=>Object.keys(e):e=>{const t=[];for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t},e.find=(e,t)=>{for(const n of e)if(t(n))return n},e.isInteger="function"===typeof Number.isInteger?e=>Number.isInteger(e):e=>"number"===typeof e&&Number.isFinite(e)&&Math.floor(e)===e,e.joinValues=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" | ";return e.map((e=>"string"===typeof e?`'${e}'`:e)).join(t)},e.jsonStringifyReplacer=(e,t)=>"bigint"===typeof t?t.toString():t}(hc||(hc={})),function(e){e.mergeShapes=(e,t)=>({...e,...t})}(mc||(mc={}));const gc=hc.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),yc=e=>{switch(typeof e){case"undefined":return gc.undefined;case"string":return gc.string;case"number":return Number.isNaN(e)?gc.nan:gc.number;case"boolean":return gc.boolean;case"function":return gc.function;case"bigint":return gc.bigint;case"symbol":return gc.symbol;case"object":return Array.isArray(e)?gc.array:null===e?gc.null:e.then&&"function"===typeof e.then&&e.catch&&"function"===typeof e.catch?gc.promise:"undefined"!==typeof Map&&e instanceof Map?gc.map:"undefined"!==typeof Set&&e instanceof Set?gc.set:"undefined"!==typeof Date&&e instanceof Date?gc.date:gc.object;default:return gc.unknown}},vc=hc.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class bc extends Error{get errors(){return this.issues}constructor(e){var t;super(),t=this,this.issues=[],this.addIssue=e=>{this.issues=[...this.issues,e]},this.addIssues=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];t.issues=[...t.issues,...e]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const t=e||function(e){return e.message},n={_errors:[]},r=e=>{for(const o of e.issues)if("invalid_union"===o.code)o.unionErrors.map(r);else if("invalid_return_type"===o.code)r(o.returnTypeError);else if("invalid_arguments"===o.code)r(o.argumentsError);else if(0===o.path.length)n._errors.push(t(o));else{let e=n,r=0;for(;r<o.path.length;){const n=o.path[r];r===o.path.length-1?(e[n]=e[n]||{_errors:[]},e[n]._errors.push(t(o))):e[n]=e[n]||{_errors:[]},e=e[n],r++}}};return r(this),n}static assert(e){if(!(e instanceof bc))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,hc.jsonStringifyReplacer,2)}get isEmpty(){return 0===this.issues.length}flatten(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e=>e.message;const t={},n=[];for(const r of this.issues)r.path.length>0?(t[r.path[0]]=t[r.path[0]]||[],t[r.path[0]].push(e(r))):n.push(e(r));return{formErrors:n,fieldErrors:t}}get formErrors(){return this.flatten()}}bc.create=e=>new bc(e);const wc=(e,t)=>{let n;switch(e.code){case vc.invalid_type:n=e.received===gc.undefined?"Required":`Expected ${e.expected}, received ${e.received}`;break;case vc.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,hc.jsonStringifyReplacer)}`;break;case vc.unrecognized_keys:n=`Unrecognized key(s) in object: ${hc.joinValues(e.keys,", ")}`;break;case vc.invalid_union:n="Invalid input";break;case vc.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${hc.joinValues(e.options)}`;break;case vc.invalid_enum_value:n=`Invalid enum value. Expected ${hc.joinValues(e.options)}, received '${e.received}'`;break;case vc.invalid_arguments:n="Invalid function arguments";break;case vc.invalid_return_type:n="Invalid function return type";break;case vc.invalid_date:n="Invalid date";break;case vc.invalid_string:"object"===typeof e.validation?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,"number"===typeof e.validation.position&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:hc.assertNever(e.validation):n="regex"!==e.validation?`Invalid ${e.validation}`:"Invalid";break;case vc.too_small:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:"date"===e.type?`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:"Invalid input";break;case vc.too_big:n="array"===e.type?`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:"string"===e.type?`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:"number"===e.type?`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"bigint"===e.type?`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:"date"===e.type?`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:"Invalid input";break;case vc.custom:n="Invalid input";break;case vc.invalid_intersection_types:n="Intersection results could not be merged";break;case vc.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case vc.not_finite:n="Number must be finite";break;default:n=t.defaultError,hc.assertNever(e)}return{message:n}};let _c=wc;function xc(){return _c}const Cc=e=>{const{data:t,path:n,errorMaps:r,issueData:o}=e,i=[...n,...o.path||[]],s={...o,path:i};if(void 0!==o.message)return{...o,path:i,message:o.message};let a="";const l=r.filter((e=>!!e)).slice().reverse();for(const u of l)a=u(s,{data:t,defaultError:a}).message;return{...o,path:i,message:a}};function Ec(e,t){const n=xc(),r=Cc({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===wc?void 0:wc].filter((e=>!!e))});e.common.issues.push(r)}class Sc{constructor(){this.value="valid"}dirty(){"valid"===this.value&&(this.value="dirty")}abort(){"aborted"!==this.value&&(this.value="aborted")}static mergeArray(e,t){const n=[];for(const r of t){if("aborted"===r.status)return kc;"dirty"===r.status&&e.dirty(),n.push(r.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,t){const n=[];for(const r of t){const e=await r.key,t=await r.value;n.push({key:e,value:t})}return Sc.mergeObjectSync(e,n)}static mergeObjectSync(e,t){const n={};for(const r of t){const{key:t,value:o}=r;if("aborted"===t.status)return kc;if("aborted"===o.status)return kc;"dirty"===t.status&&e.dirty(),"dirty"===o.status&&e.dirty(),"__proto__"===t.value||"undefined"===typeof o.value&&!r.alwaysSet||(n[t.value]=o.value)}return{status:e.value,value:n}}}const kc=Object.freeze({status:"aborted"}),Tc=e=>({status:"dirty",value:e}),Oc=e=>({status:"valid",value:e}),Ac=e=>"aborted"===e.status,Ic=e=>"dirty"===e.status,Nc=e=>"valid"===e.status,Rc=e=>"undefined"!==typeof Promise&&e instanceof Promise;var Pc;!function(e){e.errToObj=e=>"string"===typeof e?{message:e}:e||{},e.toString=e=>"string"===typeof e?e:e?.message}(Pc||(Pc={}));class jc{constructor(e,t,n,r){this._cachedPath=[],this.parent=e,this.data=t,this._path=n,this._key=r}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Dc=(e,t)=>{if(Nc(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const t=new bc(e.common.issues);return this._error=t,this._error}}};function Mc(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:o}=e;if(t&&(n||r))throw new Error('Can\'t use "invalid_type_error" or "required_error" in conjunction with custom error map.');if(t)return{errorMap:t,description:o};return{errorMap:(t,o)=>{const{message:i}=e;return"invalid_enum_value"===t.code?{message:i??o.defaultError}:"undefined"===typeof o.data?{message:i??r??o.defaultError}:"invalid_type"!==t.code?{message:o.defaultError}:{message:i??n??o.defaultError}},description:o}}class Lc{get description(){return this._def.description}_getType(e){return yc(e.data)}_getOrReturnCtx(e,t){return t||{common:e.parent.common,data:e.data,parsedType:yc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Sc,ctx:{common:e.parent.common,data:e.data,parsedType:yc(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const t=this._parse(e);if(Rc(t))throw new Error("Synchronous parse encountered promise.");return t}_parseAsync(e){const t=this._parse(e);return Promise.resolve(t)}parse(e,t){const n=this.safeParse(e,t);if(n.success)return n.data;throw n.error}safeParse(e,t){const n={common:{issues:[],async:t?.async??!1,contextualErrorMap:t?.errorMap},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yc(e)},r=this._parseSync({data:e,path:n.path,parent:n});return Dc(n,r)}"~validate"(e){const t={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yc(e)};if(!this["~standard"].async)try{const n=this._parseSync({data:e,path:[],parent:t});return Nc(n)?{value:n.value}:{issues:t.common.issues}}catch(n){n?.message?.toLowerCase()?.includes("encountered")&&(this["~standard"].async=!0),t.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:t}).then((e=>Nc(e)?{value:e.value}:{issues:t.common.issues}))}async parseAsync(e,t){const n=await this.safeParseAsync(e,t);if(n.success)return n.data;throw n.error}async safeParseAsync(e,t){const n={common:{issues:[],contextualErrorMap:t?.errorMap,async:!0},path:t?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:yc(e)},r=this._parse({data:e,path:n.path,parent:n}),o=await(Rc(r)?r:Promise.resolve(r));return Dc(n,o)}refine(e,t){const n=e=>"string"===typeof t||"undefined"===typeof t?{message:t}:"function"===typeof t?t(e):t;return this._refinement(((t,r)=>{const o=e(t),i=()=>r.addIssue({code:vc.custom,...n(t)});return"undefined"!==typeof Promise&&o instanceof Promise?o.then((e=>!!e||(i(),!1))):!!o||(i(),!1)}))}refinement(e,t){return this._refinement(((n,r)=>!!e(n)||(r.addIssue("function"===typeof t?t(n,r):t),!1)))}_refinement(e){return new jd({schema:this,typeName:Hd.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:e=>this["~validate"](e)}}optional(){return Dd.create(this,this._def)}nullable(){return Md.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return vd.create(this)}promise(){return Pd.create(this,this._def)}or(e){return _d.create([this,e],this._def)}and(e){return Cd.create(this,e,this._def)}transform(e){return new jd({...Mc(this._def),schema:this,typeName:Hd.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const t="function"===typeof e?e:()=>e;return new Ld({...Mc(this._def),innerType:this,defaultValue:t,typeName:Hd.ZodDefault})}brand(){return new $d({typeName:Hd.ZodBranded,type:this,...Mc(this._def)})}catch(e){const t="function"===typeof e?e:()=>e;return new Ud({...Mc(this._def),innerType:this,catchValue:t,typeName:Hd.ZodCatch})}describe(e){return new(0,this.constructor)({...this._def,description:e})}pipe(e){return Bd.create(this,e)}readonly(){return qd.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Uc=/^c[^\s-]{8,}$/i,Fc=/^[0-9a-z]+$/,$c=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Bc=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,qc=/^[a-z0-9_-]{21}$/i,Hc=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Vc=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,zc=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i;let Wc;const Gc=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Kc=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Jc=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,Yc=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Zc=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Xc=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Qc="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ed=new RegExp(`^${Qc}$`);function td(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:null==e.precision&&(t=`${t}(\\.\\d+)?`);return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${e.precision?"+":"?"}`}function nd(e){let t=`${Qc}T${td(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function rd(e,t){if(!Hc.test(e))return!1;try{const[n]=e.split("."),r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),o=JSON.parse(atob(r));return"object"===typeof o&&null!==o&&((!("typ"in o)||"JWT"===o?.typ)&&(!!o.alg&&(!t||o.alg===t)))}catch{return!1}}function od(e,t){return!("v4"!==t&&t||!Kc.test(e))||!("v6"!==t&&t||!Yc.test(e))}class id extends Lc{_parse(e){this._def.coerce&&(e.data=String(e.data));if(this._getType(e)!==gc.string){const t=this._getOrReturnCtx(e);return Ec(t,{code:vc.invalid_type,expected:gc.string,received:t.parsedType}),kc}const t=new Sc;let n;for(const i of this._def.checks)if("min"===i.kind)e.data.length<i.value&&(n=this._getOrReturnCtx(e,n),Ec(n,{code:vc.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("max"===i.kind)e.data.length>i.value&&(n=this._getOrReturnCtx(e,n),Ec(n,{code:vc.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!1,message:i.message}),t.dirty());else if("length"===i.kind){const r=e.data.length>i.value,o=e.data.length<i.value;(r||o)&&(n=this._getOrReturnCtx(e,n),r?Ec(n,{code:vc.too_big,maximum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}):o&&Ec(n,{code:vc.too_small,minimum:i.value,type:"string",inclusive:!0,exact:!0,message:i.message}),t.dirty())}else if("email"===i.kind)zc.test(e.data)||(n=this._getOrReturnCtx(e,n),Ec(n,{validation:"email",code:vc.invalid_string,message:i.message}),t.dirty());else if("emoji"===i.kind)Wc||(Wc=new RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),Wc.test(e.data)||(n=this._getOrReturnCtx(e,n),Ec(n,{validation:"emoji",code:vc.invalid_string,message:i.message}),t.dirty());else if("uuid"===i.kind)Bc.test(e.data)||(n=this._getOrReturnCtx(e,n),Ec(n,{validation:"uuid",code:vc.invalid_string,message:i.message}),t.dirty());else if("nanoid"===i.kind)qc.test(e.data)||(n=this._getOrReturnCtx(e,n),Ec(n,{validation:"nanoid",code:vc.invalid_string,message:i.message}),t.dirty());else if("cuid"===i.kind)Uc.test(e.data)||(n=this._getOrReturnCtx(e,n),Ec(n,{validation:"cuid",code:vc.invalid_string,message:i.message}),t.dirty());else if("cuid2"===i.kind)Fc.test(e.data)||(n=this._getOrReturnCtx(e,n),Ec(n,{validation:"cuid2",code:vc.invalid_string,message:i.message}),t.dirty());else if("ulid"===i.kind)$c.test(e.data)||(n=this._getOrReturnCtx(e,n),Ec(n,{validation:"ulid",code:vc.invalid_string,message:i.message}),t.dirty());else if("url"===i.kind)try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),Ec(n,{validation:"url",code:vc.invalid_string,message:i.message}),t.dirty()}else if("regex"===i.kind){i.regex.lastIndex=0;i.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),Ec(n,{validation:"regex",code:vc.invalid_string,message:i.message}),t.dirty())}else if("trim"===i.kind)e.data=e.data.trim();else if("includes"===i.kind)e.data.includes(i.value,i.position)||(n=this._getOrReturnCtx(e,n),Ec(n,{code:vc.invalid_string,validation:{includes:i.value,position:i.position},message:i.message}),t.dirty());else if("toLowerCase"===i.kind)e.data=e.data.toLowerCase();else if("toUpperCase"===i.kind)e.data=e.data.toUpperCase();else if("startsWith"===i.kind)e.data.startsWith(i.value)||(n=this._getOrReturnCtx(e,n),Ec(n,{code:vc.invalid_string,validation:{startsWith:i.value},message:i.message}),t.dirty());else if("endsWith"===i.kind)e.data.endsWith(i.value)||(n=this._getOrReturnCtx(e,n),Ec(n,{code:vc.invalid_string,validation:{endsWith:i.value},message:i.message}),t.dirty());else if("datetime"===i.kind){nd(i).test(e.data)||(n=this._getOrReturnCtx(e,n),Ec(n,{code:vc.invalid_string,validation:"datetime",message:i.message}),t.dirty())}else if("date"===i.kind){ed.test(e.data)||(n=this._getOrReturnCtx(e,n),Ec(n,{code:vc.invalid_string,validation:"date",message:i.message}),t.dirty())}else if("time"===i.kind){new RegExp(`^${td(i)}$`).test(e.data)||(n=this._getOrReturnCtx(e,n),Ec(n,{code:vc.invalid_string,validation:"time",message:i.message}),t.dirty())}else"duration"===i.kind?Vc.test(e.data)||(n=this._getOrReturnCtx(e,n),Ec(n,{validation:"duration",code:vc.invalid_string,message:i.message}),t.dirty()):"ip"===i.kind?(r=e.data,("v4"!==(o=i.version)&&o||!Gc.test(r))&&("v6"!==o&&o||!Jc.test(r))&&(n=this._getOrReturnCtx(e,n),Ec(n,{validation:"ip",code:vc.invalid_string,message:i.message}),t.dirty())):"jwt"===i.kind?rd(e.data,i.alg)||(n=this._getOrReturnCtx(e,n),Ec(n,{validation:"jwt",code:vc.invalid_string,message:i.message}),t.dirty()):"cidr"===i.kind?od(e.data,i.version)||(n=this._getOrReturnCtx(e,n),Ec(n,{validation:"cidr",code:vc.invalid_string,message:i.message}),t.dirty()):"base64"===i.kind?Zc.test(e.data)||(n=this._getOrReturnCtx(e,n),Ec(n,{validation:"base64",code:vc.invalid_string,message:i.message}),t.dirty()):"base64url"===i.kind?Xc.test(e.data)||(n=this._getOrReturnCtx(e,n),Ec(n,{validation:"base64url",code:vc.invalid_string,message:i.message}),t.dirty()):hc.assertNever(i);var r,o;return{status:t.value,value:e.data}}_regex(e,t,n){return this.refinement((t=>e.test(t)),{validation:t,code:vc.invalid_string,...Pc.errToObj(n)})}_addCheck(e){return new id({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Pc.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Pc.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Pc.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Pc.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Pc.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Pc.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Pc.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Pc.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Pc.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Pc.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Pc.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Pc.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Pc.errToObj(e)})}datetime(e){return"string"===typeof e?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:"undefined"===typeof e?.precision?null:e?.precision,offset:e?.offset??!1,local:e?.local??!1,...Pc.errToObj(e?.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return"string"===typeof e?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:"undefined"===typeof e?.precision?null:e?.precision,...Pc.errToObj(e?.message)})}duration(e){return this._addCheck({kind:"duration",...Pc.errToObj(e)})}regex(e,t){return this._addCheck({kind:"regex",regex:e,...Pc.errToObj(t)})}includes(e,t){return this._addCheck({kind:"includes",value:e,position:t?.position,...Pc.errToObj(t?.message)})}startsWith(e,t){return this._addCheck({kind:"startsWith",value:e,...Pc.errToObj(t)})}endsWith(e,t){return this._addCheck({kind:"endsWith",value:e,...Pc.errToObj(t)})}min(e,t){return this._addCheck({kind:"min",value:e,...Pc.errToObj(t)})}max(e,t){return this._addCheck({kind:"max",value:e,...Pc.errToObj(t)})}length(e,t){return this._addCheck({kind:"length",value:e,...Pc.errToObj(t)})}nonempty(e){return this.min(1,Pc.errToObj(e))}trim(){return new id({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new id({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new id({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find((e=>"datetime"===e.kind))}get isDate(){return!!this._def.checks.find((e=>"date"===e.kind))}get isTime(){return!!this._def.checks.find((e=>"time"===e.kind))}get isDuration(){return!!this._def.checks.find((e=>"duration"===e.kind))}get isEmail(){return!!this._def.checks.find((e=>"email"===e.kind))}get isURL(){return!!this._def.checks.find((e=>"url"===e.kind))}get isEmoji(){return!!this._def.checks.find((e=>"emoji"===e.kind))}get isUUID(){return!!this._def.checks.find((e=>"uuid"===e.kind))}get isNANOID(){return!!this._def.checks.find((e=>"nanoid"===e.kind))}get isCUID(){return!!this._def.checks.find((e=>"cuid"===e.kind))}get isCUID2(){return!!this._def.checks.find((e=>"cuid2"===e.kind))}get isULID(){return!!this._def.checks.find((e=>"ulid"===e.kind))}get isIP(){return!!this._def.checks.find((e=>"ip"===e.kind))}get isCIDR(){return!!this._def.checks.find((e=>"cidr"===e.kind))}get isBase64(){return!!this._def.checks.find((e=>"base64"===e.kind))}get isBase64url(){return!!this._def.checks.find((e=>"base64url"===e.kind))}get minLength(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxLength(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}function sd(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,o=n>r?n:r;return Number.parseInt(e.toFixed(o).replace(".",""))%Number.parseInt(t.toFixed(o).replace(".",""))/10**o}id.create=e=>new id({checks:[],typeName:Hd.ZodString,coerce:e?.coerce??!1,...Mc(e)});class ad extends Lc{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){this._def.coerce&&(e.data=Number(e.data));if(this._getType(e)!==gc.number){const t=this._getOrReturnCtx(e);return Ec(t,{code:vc.invalid_type,expected:gc.number,received:t.parsedType}),kc}let t;const n=new Sc;for(const r of this._def.checks)if("int"===r.kind)hc.isInteger(e.data)||(t=this._getOrReturnCtx(e,t),Ec(t,{code:vc.invalid_type,expected:"integer",received:"float",message:r.message}),n.dirty());else if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Ec(t,{code:vc.too_small,minimum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Ec(t,{code:vc.too_big,maximum:r.value,type:"number",inclusive:r.inclusive,exact:!1,message:r.message}),n.dirty())}else"multipleOf"===r.kind?0!==sd(e.data,r.value)&&(t=this._getOrReturnCtx(e,t),Ec(t,{code:vc.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):"finite"===r.kind?Number.isFinite(e.data)||(t=this._getOrReturnCtx(e,t),Ec(t,{code:vc.not_finite,message:r.message}),n.dirty()):hc.assertNever(r);return{status:n.value,value:e.data}}gte(e,t){return this.setLimit("min",e,!0,Pc.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Pc.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Pc.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Pc.toString(t))}setLimit(e,t,n,r){return new ad({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Pc.toString(r)}]})}_addCheck(e){return new ad({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Pc.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Pc.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Pc.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Pc.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Pc.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Pc.toString(t)})}finite(e){return this._addCheck({kind:"finite",message:Pc.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Pc.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Pc.toString(e)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}get isInt(){return!!this._def.checks.find((e=>"int"===e.kind||"multipleOf"===e.kind&&hc.isInteger(e.value)))}get isFinite(){let e=null,t=null;for(const n of this._def.checks){if("finite"===n.kind||"int"===n.kind||"multipleOf"===n.kind)return!0;"min"===n.kind?(null===t||n.value>t)&&(t=n.value):"max"===n.kind&&(null===e||n.value<e)&&(e=n.value)}return Number.isFinite(t)&&Number.isFinite(e)}}ad.create=e=>new ad({checks:[],typeName:Hd.ZodNumber,coerce:e?.coerce||!1,...Mc(e)});class ld extends Lc{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==gc.bigint)return this._getInvalidInput(e);let t;const n=new Sc;for(const r of this._def.checks)if("min"===r.kind){(r.inclusive?e.data<r.value:e.data<=r.value)&&(t=this._getOrReturnCtx(e,t),Ec(t,{code:vc.too_small,type:"bigint",minimum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else if("max"===r.kind){(r.inclusive?e.data>r.value:e.data>=r.value)&&(t=this._getOrReturnCtx(e,t),Ec(t,{code:vc.too_big,type:"bigint",maximum:r.value,inclusive:r.inclusive,message:r.message}),n.dirty())}else"multipleOf"===r.kind?e.data%r.value!==BigInt(0)&&(t=this._getOrReturnCtx(e,t),Ec(t,{code:vc.not_multiple_of,multipleOf:r.value,message:r.message}),n.dirty()):hc.assertNever(r);return{status:n.value,value:e.data}}_getInvalidInput(e){const t=this._getOrReturnCtx(e);return Ec(t,{code:vc.invalid_type,expected:gc.bigint,received:t.parsedType}),kc}gte(e,t){return this.setLimit("min",e,!0,Pc.toString(t))}gt(e,t){return this.setLimit("min",e,!1,Pc.toString(t))}lte(e,t){return this.setLimit("max",e,!0,Pc.toString(t))}lt(e,t){return this.setLimit("max",e,!1,Pc.toString(t))}setLimit(e,t,n,r){return new ld({...this._def,checks:[...this._def.checks,{kind:e,value:t,inclusive:n,message:Pc.toString(r)}]})}_addCheck(e){return new ld({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Pc.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Pc.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Pc.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Pc.toString(e)})}multipleOf(e,t){return this._addCheck({kind:"multipleOf",value:e,message:Pc.toString(t)})}get minValue(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return e}get maxValue(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return e}}ld.create=e=>new ld({checks:[],typeName:Hd.ZodBigInt,coerce:e?.coerce??!1,...Mc(e)});class ud extends Lc{_parse(e){this._def.coerce&&(e.data=Boolean(e.data));if(this._getType(e)!==gc.boolean){const t=this._getOrReturnCtx(e);return Ec(t,{code:vc.invalid_type,expected:gc.boolean,received:t.parsedType}),kc}return Oc(e.data)}}ud.create=e=>new ud({typeName:Hd.ZodBoolean,coerce:e?.coerce||!1,...Mc(e)});class cd extends Lc{_parse(e){this._def.coerce&&(e.data=new Date(e.data));if(this._getType(e)!==gc.date){const t=this._getOrReturnCtx(e);return Ec(t,{code:vc.invalid_type,expected:gc.date,received:t.parsedType}),kc}if(Number.isNaN(e.data.getTime())){return Ec(this._getOrReturnCtx(e),{code:vc.invalid_date}),kc}const t=new Sc;let n;for(const r of this._def.checks)"min"===r.kind?e.data.getTime()<r.value&&(n=this._getOrReturnCtx(e,n),Ec(n,{code:vc.too_small,message:r.message,inclusive:!0,exact:!1,minimum:r.value,type:"date"}),t.dirty()):"max"===r.kind?e.data.getTime()>r.value&&(n=this._getOrReturnCtx(e,n),Ec(n,{code:vc.too_big,message:r.message,inclusive:!0,exact:!1,maximum:r.value,type:"date"}),t.dirty()):hc.assertNever(r);return{status:t.value,value:new Date(e.data.getTime())}}_addCheck(e){return new cd({...this._def,checks:[...this._def.checks,e]})}min(e,t){return this._addCheck({kind:"min",value:e.getTime(),message:Pc.toString(t)})}max(e,t){return this._addCheck({kind:"max",value:e.getTime(),message:Pc.toString(t)})}get minDate(){let e=null;for(const t of this._def.checks)"min"===t.kind&&(null===e||t.value>e)&&(e=t.value);return null!=e?new Date(e):null}get maxDate(){let e=null;for(const t of this._def.checks)"max"===t.kind&&(null===e||t.value<e)&&(e=t.value);return null!=e?new Date(e):null}}cd.create=e=>new cd({checks:[],coerce:e?.coerce||!1,typeName:Hd.ZodDate,...Mc(e)});class dd extends Lc{_parse(e){if(this._getType(e)!==gc.symbol){const t=this._getOrReturnCtx(e);return Ec(t,{code:vc.invalid_type,expected:gc.symbol,received:t.parsedType}),kc}return Oc(e.data)}}dd.create=e=>new dd({typeName:Hd.ZodSymbol,...Mc(e)});class fd extends Lc{_parse(e){if(this._getType(e)!==gc.undefined){const t=this._getOrReturnCtx(e);return Ec(t,{code:vc.invalid_type,expected:gc.undefined,received:t.parsedType}),kc}return Oc(e.data)}}fd.create=e=>new fd({typeName:Hd.ZodUndefined,...Mc(e)});class pd extends Lc{_parse(e){if(this._getType(e)!==gc.null){const t=this._getOrReturnCtx(e);return Ec(t,{code:vc.invalid_type,expected:gc.null,received:t.parsedType}),kc}return Oc(e.data)}}pd.create=e=>new pd({typeName:Hd.ZodNull,...Mc(e)});class hd extends Lc{constructor(){super(...arguments),this._any=!0}_parse(e){return Oc(e.data)}}hd.create=e=>new hd({typeName:Hd.ZodAny,...Mc(e)});class md extends Lc{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Oc(e.data)}}md.create=e=>new md({typeName:Hd.ZodUnknown,...Mc(e)});class gd extends Lc{_parse(e){const t=this._getOrReturnCtx(e);return Ec(t,{code:vc.invalid_type,expected:gc.never,received:t.parsedType}),kc}}gd.create=e=>new gd({typeName:Hd.ZodNever,...Mc(e)});class yd extends Lc{_parse(e){if(this._getType(e)!==gc.undefined){const t=this._getOrReturnCtx(e);return Ec(t,{code:vc.invalid_type,expected:gc.void,received:t.parsedType}),kc}return Oc(e.data)}}yd.create=e=>new yd({typeName:Hd.ZodVoid,...Mc(e)});class vd extends Lc{_parse(e){const{ctx:t,status:n}=this._processInputParams(e),r=this._def;if(t.parsedType!==gc.array)return Ec(t,{code:vc.invalid_type,expected:gc.array,received:t.parsedType}),kc;if(null!==r.exactLength){const e=t.data.length>r.exactLength.value,o=t.data.length<r.exactLength.value;(e||o)&&(Ec(t,{code:e?vc.too_big:vc.too_small,minimum:o?r.exactLength.value:void 0,maximum:e?r.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:r.exactLength.message}),n.dirty())}if(null!==r.minLength&&t.data.length<r.minLength.value&&(Ec(t,{code:vc.too_small,minimum:r.minLength.value,type:"array",inclusive:!0,exact:!1,message:r.minLength.message}),n.dirty()),null!==r.maxLength&&t.data.length>r.maxLength.value&&(Ec(t,{code:vc.too_big,maximum:r.maxLength.value,type:"array",inclusive:!0,exact:!1,message:r.maxLength.message}),n.dirty()),t.common.async)return Promise.all([...t.data].map(((e,n)=>r.type._parseAsync(new jc(t,e,t.path,n))))).then((e=>Sc.mergeArray(n,e)));const o=[...t.data].map(((e,n)=>r.type._parseSync(new jc(t,e,t.path,n))));return Sc.mergeArray(n,o)}get element(){return this._def.type}min(e,t){return new vd({...this._def,minLength:{value:e,message:Pc.toString(t)}})}max(e,t){return new vd({...this._def,maxLength:{value:e,message:Pc.toString(t)}})}length(e,t){return new vd({...this._def,exactLength:{value:e,message:Pc.toString(t)}})}nonempty(e){return this.min(1,e)}}function bd(e){if(e instanceof wd){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=Dd.create(bd(r))}return new wd({...e._def,shape:()=>t})}return e instanceof vd?new vd({...e._def,type:bd(e.element)}):e instanceof Dd?Dd.create(bd(e.unwrap())):e instanceof Md?Md.create(bd(e.unwrap())):e instanceof Ed?Ed.create(e.items.map((e=>bd(e)))):e}vd.create=(e,t)=>new vd({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Hd.ZodArray,...Mc(t)});class wd extends Lc{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(null!==this._cached)return this._cached;const e=this._def.shape(),t=hc.objectKeys(e);return this._cached={shape:e,keys:t},this._cached}_parse(e){if(this._getType(e)!==gc.object){const t=this._getOrReturnCtx(e);return Ec(t,{code:vc.invalid_type,expected:gc.object,received:t.parsedType}),kc}const{status:t,ctx:n}=this._processInputParams(e),{shape:r,keys:o}=this._getCached(),i=[];if(!(this._def.catchall instanceof gd&&"strip"===this._def.unknownKeys))for(const a in n.data)o.includes(a)||i.push(a);const s=[];for(const a of o){const e=r[a],t=n.data[a];s.push({key:{status:"valid",value:a},value:e._parse(new jc(n,t,n.path,a)),alwaysSet:a in n.data})}if(this._def.catchall instanceof gd){const e=this._def.unknownKeys;if("passthrough"===e)for(const t of i)s.push({key:{status:"valid",value:t},value:{status:"valid",value:n.data[t]}});else if("strict"===e)i.length>0&&(Ec(n,{code:vc.unrecognized_keys,keys:i}),t.dirty());else if("strip"!==e)throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const e=this._def.catchall;for(const t of i){const r=n.data[t];s.push({key:{status:"valid",value:t},value:e._parse(new jc(n,r,n.path,t)),alwaysSet:t in n.data})}}return n.common.async?Promise.resolve().then((async()=>{const e=[];for(const t of s){const n=await t.key,r=await t.value;e.push({key:n,value:r,alwaysSet:t.alwaysSet})}return e})).then((e=>Sc.mergeObjectSync(t,e))):Sc.mergeObjectSync(t,s)}get shape(){return this._def.shape()}strict(e){return Pc.errToObj,new wd({...this._def,unknownKeys:"strict",...void 0!==e?{errorMap:(t,n)=>{const r=this._def.errorMap?.(t,n).message??n.defaultError;return"unrecognized_keys"===t.code?{message:Pc.errToObj(e).message??r}:{message:r}}}:{}})}strip(){return new wd({...this._def,unknownKeys:"strip"})}passthrough(){return new wd({...this._def,unknownKeys:"passthrough"})}extend(e){return new wd({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new wd({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:Hd.ZodObject})}setKey(e,t){return this.augment({[e]:t})}catchall(e){return new wd({...this._def,catchall:e})}pick(e){const t={};for(const n of hc.objectKeys(e))e[n]&&this.shape[n]&&(t[n]=this.shape[n]);return new wd({...this._def,shape:()=>t})}omit(e){const t={};for(const n of hc.objectKeys(this.shape))e[n]||(t[n]=this.shape[n]);return new wd({...this._def,shape:()=>t})}deepPartial(){return bd(this)}partial(e){const t={};for(const n of hc.objectKeys(this.shape)){const r=this.shape[n];e&&!e[n]?t[n]=r:t[n]=r.optional()}return new wd({...this._def,shape:()=>t})}required(e){const t={};for(const n of hc.objectKeys(this.shape))if(e&&!e[n])t[n]=this.shape[n];else{let e=this.shape[n];for(;e instanceof Dd;)e=e._def.innerType;t[n]=e}return new wd({...this._def,shape:()=>t})}keyof(){return Id(hc.objectKeys(this.shape))}}wd.create=(e,t)=>new wd({shape:()=>e,unknownKeys:"strip",catchall:gd.create(),typeName:Hd.ZodObject,...Mc(t)}),wd.strictCreate=(e,t)=>new wd({shape:()=>e,unknownKeys:"strict",catchall:gd.create(),typeName:Hd.ZodObject,...Mc(t)}),wd.lazycreate=(e,t)=>new wd({shape:e,unknownKeys:"strip",catchall:gd.create(),typeName:Hd.ZodObject,...Mc(t)});class _d extends Lc{_parse(e){const{ctx:t}=this._processInputParams(e),n=this._def.options;if(t.common.async)return Promise.all(n.map((async e=>{const n={...t,common:{...t.common,issues:[]},parent:null};return{result:await e._parseAsync({data:t.data,path:t.path,parent:n}),ctx:n}}))).then((function(e){for(const t of e)if("valid"===t.result.status)return t.result;for(const r of e)if("dirty"===r.result.status)return t.common.issues.push(...r.ctx.common.issues),r.result;const n=e.map((e=>new bc(e.ctx.common.issues)));return Ec(t,{code:vc.invalid_union,unionErrors:n}),kc}));{let e;const r=[];for(const i of n){const n={...t,common:{...t.common,issues:[]},parent:null},o=i._parseSync({data:t.data,path:t.path,parent:n});if("valid"===o.status)return o;"dirty"!==o.status||e||(e={result:o,ctx:n}),n.common.issues.length&&r.push(n.common.issues)}if(e)return t.common.issues.push(...e.ctx.common.issues),e.result;const o=r.map((e=>new bc(e)));return Ec(t,{code:vc.invalid_union,unionErrors:o}),kc}}get options(){return this._def.options}}_d.create=(e,t)=>new _d({options:e,typeName:Hd.ZodUnion,...Mc(t)});function xd(e,t){const n=yc(e),r=yc(t);if(e===t)return{valid:!0,data:e};if(n===gc.object&&r===gc.object){const n=hc.objectKeys(t),r=hc.objectKeys(e).filter((e=>-1!==n.indexOf(e))),o={...e,...t};for(const i of r){const n=xd(e[i],t[i]);if(!n.valid)return{valid:!1};o[i]=n.data}return{valid:!0,data:o}}if(n===gc.array&&r===gc.array){if(e.length!==t.length)return{valid:!1};const n=[];for(let r=0;r<e.length;r++){const o=xd(e[r],t[r]);if(!o.valid)return{valid:!1};n.push(o.data)}return{valid:!0,data:n}}return n===gc.date&&r===gc.date&&+e===+t?{valid:!0,data:e}:{valid:!1}}class Cd extends Lc{_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=(e,r)=>{if(Ac(e)||Ac(r))return kc;const o=xd(e.value,r.value);return o.valid?((Ic(e)||Ic(r))&&t.dirty(),{status:t.value,value:o.data}):(Ec(n,{code:vc.invalid_intersection_types}),kc)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then((e=>{let[t,n]=e;return r(t,n)})):r(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}Cd.create=(e,t,n)=>new Cd({left:e,right:t,typeName:Hd.ZodIntersection,...Mc(n)});class Ed extends Lc{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==gc.array)return Ec(n,{code:vc.invalid_type,expected:gc.array,received:n.parsedType}),kc;if(n.data.length<this._def.items.length)return Ec(n,{code:vc.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),kc;!this._def.rest&&n.data.length>this._def.items.length&&(Ec(n,{code:vc.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),t.dirty());const r=[...n.data].map(((e,t)=>{const r=this._def.items[t]||this._def.rest;return r?r._parse(new jc(n,e,n.path,t)):null})).filter((e=>!!e));return n.common.async?Promise.all(r).then((e=>Sc.mergeArray(t,e))):Sc.mergeArray(t,r)}get items(){return this._def.items}rest(e){return new Ed({...this._def,rest:e})}}Ed.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ed({items:e,typeName:Hd.ZodTuple,rest:null,...Mc(t)})};class Sd extends Lc{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==gc.object)return Ec(n,{code:vc.invalid_type,expected:gc.object,received:n.parsedType}),kc;const r=[],o=this._def.keyType,i=this._def.valueType;for(const s in n.data)r.push({key:o._parse(new jc(n,s,n.path,s)),value:i._parse(new jc(n,n.data[s],n.path,s)),alwaysSet:s in n.data});return n.common.async?Sc.mergeObjectAsync(t,r):Sc.mergeObjectSync(t,r)}get element(){return this._def.valueType}static create(e,t,n){return new Sd(t instanceof Lc?{keyType:e,valueType:t,typeName:Hd.ZodRecord,...Mc(n)}:{keyType:id.create(),valueType:e,typeName:Hd.ZodRecord,...Mc(t)})}}class kd extends Lc{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==gc.map)return Ec(n,{code:vc.invalid_type,expected:gc.map,received:n.parsedType}),kc;const r=this._def.keyType,o=this._def.valueType,i=[...n.data.entries()].map(((e,t)=>{let[i,s]=e;return{key:r._parse(new jc(n,i,n.path,[t,"key"])),value:o._parse(new jc(n,s,n.path,[t,"value"]))}}));if(n.common.async){const e=new Map;return Promise.resolve().then((async()=>{for(const n of i){const r=await n.key,o=await n.value;if("aborted"===r.status||"aborted"===o.status)return kc;"dirty"!==r.status&&"dirty"!==o.status||t.dirty(),e.set(r.value,o.value)}return{status:t.value,value:e}}))}{const e=new Map;for(const n of i){const r=n.key,o=n.value;if("aborted"===r.status||"aborted"===o.status)return kc;"dirty"!==r.status&&"dirty"!==o.status||t.dirty(),e.set(r.value,o.value)}return{status:t.value,value:e}}}}kd.create=(e,t,n)=>new kd({valueType:t,keyType:e,typeName:Hd.ZodMap,...Mc(n)});class Td extends Lc{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.parsedType!==gc.set)return Ec(n,{code:vc.invalid_type,expected:gc.set,received:n.parsedType}),kc;const r=this._def;null!==r.minSize&&n.data.size<r.minSize.value&&(Ec(n,{code:vc.too_small,minimum:r.minSize.value,type:"set",inclusive:!0,exact:!1,message:r.minSize.message}),t.dirty()),null!==r.maxSize&&n.data.size>r.maxSize.value&&(Ec(n,{code:vc.too_big,maximum:r.maxSize.value,type:"set",inclusive:!0,exact:!1,message:r.maxSize.message}),t.dirty());const o=this._def.valueType;function i(e){const n=new Set;for(const r of e){if("aborted"===r.status)return kc;"dirty"===r.status&&t.dirty(),n.add(r.value)}return{status:t.value,value:n}}const s=[...n.data.values()].map(((e,t)=>o._parse(new jc(n,e,n.path,t))));return n.common.async?Promise.all(s).then((e=>i(e))):i(s)}min(e,t){return new Td({...this._def,minSize:{value:e,message:Pc.toString(t)}})}max(e,t){return new Td({...this._def,maxSize:{value:e,message:Pc.toString(t)}})}size(e,t){return this.min(e,t).max(e,t)}nonempty(e){return this.min(1,e)}}Td.create=(e,t)=>new Td({valueType:e,minSize:null,maxSize:null,typeName:Hd.ZodSet,...Mc(t)});class Od extends Lc{get schema(){return this._def.getter()}_parse(e){const{ctx:t}=this._processInputParams(e);return this._def.getter()._parse({data:t.data,path:t.path,parent:t})}}Od.create=(e,t)=>new Od({getter:e,typeName:Hd.ZodLazy,...Mc(t)});class Ad extends Lc{_parse(e){if(e.data!==this._def.value){const t=this._getOrReturnCtx(e);return Ec(t,{received:t.data,code:vc.invalid_literal,expected:this._def.value}),kc}return{status:"valid",value:e.data}}get value(){return this._def.value}}function Id(e,t){return new Nd({values:e,typeName:Hd.ZodEnum,...Mc(t)})}Ad.create=(e,t)=>new Ad({value:e,typeName:Hd.ZodLiteral,...Mc(t)});class Nd extends Lc{_parse(e){if("string"!==typeof e.data){const t=this._getOrReturnCtx(e),n=this._def.values;return Ec(t,{expected:hc.joinValues(n),received:t.parsedType,code:vc.invalid_type}),kc}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const t=this._getOrReturnCtx(e),n=this._def.values;return Ec(t,{received:t.data,code:vc.invalid_enum_value,options:n}),kc}return Oc(e.data)}get options(){return this._def.values}get enum(){const e={};for(const t of this._def.values)e[t]=t;return e}get Values(){const e={};for(const t of this._def.values)e[t]=t;return e}get Enum(){const e={};for(const t of this._def.values)e[t]=t;return e}extract(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return Nd.create(e,{...this._def,...t})}exclude(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._def;return Nd.create(this.options.filter((t=>!e.includes(t))),{...this._def,...t})}}Nd.create=Id;class Rd extends Lc{_parse(e){const t=hc.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==gc.string&&n.parsedType!==gc.number){const e=hc.objectValues(t);return Ec(n,{expected:hc.joinValues(e),received:n.parsedType,code:vc.invalid_type}),kc}if(this._cache||(this._cache=new Set(hc.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const e=hc.objectValues(t);return Ec(n,{received:n.data,code:vc.invalid_enum_value,options:e}),kc}return Oc(e.data)}get enum(){return this._def.values}}Rd.create=(e,t)=>new Rd({values:e,typeName:Hd.ZodNativeEnum,...Mc(t)});class Pd extends Lc{unwrap(){return this._def.type}_parse(e){const{ctx:t}=this._processInputParams(e);if(t.parsedType!==gc.promise&&!1===t.common.async)return Ec(t,{code:vc.invalid_type,expected:gc.promise,received:t.parsedType}),kc;const n=t.parsedType===gc.promise?t.data:Promise.resolve(t.data);return Oc(n.then((e=>this._def.type.parseAsync(e,{path:t.path,errorMap:t.common.contextualErrorMap}))))}}Pd.create=(e,t)=>new Pd({type:e,typeName:Hd.ZodPromise,...Mc(t)});class jd extends Lc{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Hd.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:t,ctx:n}=this._processInputParams(e),r=this._def.effect||null,o={addIssue:e=>{Ec(n,e),e.fatal?t.abort():t.dirty()},get path(){return n.path}};if(o.addIssue=o.addIssue.bind(o),"preprocess"===r.type){const e=r.transform(n.data,o);if(n.common.async)return Promise.resolve(e).then((async e=>{if("aborted"===t.value)return kc;const r=await this._def.schema._parseAsync({data:e,path:n.path,parent:n});return"aborted"===r.status?kc:"dirty"===r.status||"dirty"===t.value?Tc(r.value):r}));{if("aborted"===t.value)return kc;const r=this._def.schema._parseSync({data:e,path:n.path,parent:n});return"aborted"===r.status?kc:"dirty"===r.status||"dirty"===t.value?Tc(r.value):r}}if("refinement"===r.type){const e=e=>{const t=r.refinement(e,o);if(n.common.async)return Promise.resolve(t);if(t instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return e};if(!1===n.common.async){const r=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===r.status?kc:("dirty"===r.status&&t.dirty(),e(r.value),{status:t.value,value:r.value})}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((n=>"aborted"===n.status?kc:("dirty"===n.status&&t.dirty(),e(n.value).then((()=>({status:t.value,value:n.value}))))))}if("transform"===r.type){if(!1===n.common.async){const e=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Nc(e))return kc;const i=r.transform(e.value,o);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:t.value,value:i}}return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then((e=>Nc(e)?Promise.resolve(r.transform(e.value,o)).then((e=>({status:t.value,value:e}))):kc))}hc.assertNever(r)}}jd.create=(e,t,n)=>new jd({schema:e,typeName:Hd.ZodEffects,effect:t,...Mc(n)}),jd.createWithPreprocess=(e,t,n)=>new jd({schema:t,effect:{type:"preprocess",transform:e},typeName:Hd.ZodEffects,...Mc(n)});class Dd extends Lc{_parse(e){return this._getType(e)===gc.undefined?Oc(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Dd.create=(e,t)=>new Dd({innerType:e,typeName:Hd.ZodOptional,...Mc(t)});class Md extends Lc{_parse(e){return this._getType(e)===gc.null?Oc(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Md.create=(e,t)=>new Md({innerType:e,typeName:Hd.ZodNullable,...Mc(t)});class Ld extends Lc{_parse(e){const{ctx:t}=this._processInputParams(e);let n=t.data;return t.parsedType===gc.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:t.path,parent:t})}removeDefault(){return this._def.innerType}}Ld.create=(e,t)=>new Ld({innerType:e,typeName:Hd.ZodDefault,defaultValue:"function"===typeof t.default?t.default:()=>t.default,...Mc(t)});class Ud extends Lc{_parse(e){const{ctx:t}=this._processInputParams(e),n={...t,common:{...t.common,issues:[]}},r=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return Rc(r)?r.then((e=>({status:"valid",value:"valid"===e.status?e.value:this._def.catchValue({get error(){return new bc(n.common.issues)},input:n.data})}))):{status:"valid",value:"valid"===r.status?r.value:this._def.catchValue({get error(){return new bc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}Ud.create=(e,t)=>new Ud({innerType:e,typeName:Hd.ZodCatch,catchValue:"function"===typeof t.catch?t.catch:()=>t.catch,...Mc(t)});class Fd extends Lc{_parse(e){if(this._getType(e)!==gc.nan){const t=this._getOrReturnCtx(e);return Ec(t,{code:vc.invalid_type,expected:gc.nan,received:t.parsedType}),kc}return{status:"valid",value:e.data}}}Fd.create=e=>new Fd({typeName:Hd.ZodNaN,...Mc(e)});Symbol("zod_brand");class $d extends Lc{_parse(e){const{ctx:t}=this._processInputParams(e),n=t.data;return this._def.type._parse({data:n,path:t.path,parent:t})}unwrap(){return this._def.type}}class Bd extends Lc{_parse(e){const{status:t,ctx:n}=this._processInputParams(e);if(n.common.async){return(async()=>{const e=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?kc:"dirty"===e.status?(t.dirty(),Tc(e.value)):this._def.out._parseAsync({data:e.value,path:n.path,parent:n})})()}{const e=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return"aborted"===e.status?kc:"dirty"===e.status?(t.dirty(),{status:"dirty",value:e.value}):this._def.out._parseSync({data:e.value,path:n.path,parent:n})}}static create(e,t){return new Bd({in:e,out:t,typeName:Hd.ZodPipeline})}}class qd extends Lc{_parse(e){const t=this._def.innerType._parse(e),n=e=>(Nc(e)&&(e.value=Object.freeze(e.value)),e);return Rc(t)?t.then((e=>n(e))):n(t)}unwrap(){return this._def.innerType}}qd.create=(e,t)=>new qd({innerType:e,typeName:Hd.ZodReadonly,...Mc(t)});wd.lazycreate;var Hd;!function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"}(Hd||(Hd={}));const Vd=id.create,zd=ad.create,Wd=(Fd.create,ld.create,ud.create),Gd=(cd.create,dd.create,fd.create,pd.create,hd.create,md.create),Kd=(gd.create,yd.create,vd.create),Jd=wd.create,Yd=(wd.strictCreate,_d.create),Zd=(Cd.create,Ed.create,Sd.create),Xd=(kd.create,Td.create,Od.create),Qd=(Ad.create,Nd.create),ef=(Rd.create,Pd.create,jd.create,Dd.create,Md.create,jd.createWithPreprocess,Bd.create,e=>id.create({...e,coerce:!0}));let tf,nf;function rf(e,t,n){var r,o,i;if(!(null===(r=e.httpOptions)||void 0===r?void 0:r.baseUrl)){const r={geminiUrl:tf,vertexUrl:nf};return e.vertexai?null!==(o=r.vertexUrl)&&void 0!==o?o:t:null!==(i=r.geminiUrl)&&void 0!==i?i:n}return e.httpOptions.baseUrl}class of{}function sf(e,t){return e.replace(/\{([^}]+)\}/g,((e,n)=>{if(Object.prototype.hasOwnProperty.call(t,n)){const e=t[n];return void 0!==e&&null!==e?String(e):""}throw new Error(`Key '${n}' not found in valueMap.`)}))}function af(e,t,n){for(let i=0;i<t.length-1;i++){const r=t[i];if(r.endsWith("[]")){const o=r.slice(0,-2);if(!(o in e)){if(!Array.isArray(n))throw new Error(`Value must be a list given an array path ${r}`);e[o]=Array.from({length:n.length},(()=>({})))}if(Array.isArray(e[o])){const r=e[o];if(Array.isArray(n))for(let e=0;e<r.length;e++){af(r[e],t.slice(i+1),n[e])}else for(const e of r)af(e,t.slice(i+1),n)}return}if(r.endsWith("[0]")){const o=r.slice(0,-3);o in e||(e[o]=[{}]);return void af(e[o][0],t.slice(i+1),n)}e[r]&&"object"===typeof e[r]||(e[r]={}),e=e[r]}const r=t[t.length-1],o=e[r];if(void 0!==o){if(!n||"object"===typeof n&&0===Object.keys(n).length)return;if(n===o)return;if("object"!==typeof o||"object"!==typeof n||null===o||null===n)throw new Error(`Cannot set value for an existing key. Key: ${r}`);Object.assign(o,n)}else e[r]=n}function lf(e,t){try{if(1===t.length&&"_self"===t[0])return e;for(let n=0;n<t.length;n++){if("object"!==typeof e||null===e)return;const r=t[n];if(r.endsWith("[]")){const o=r.slice(0,-2);if(o in e){const r=e[o];if(!Array.isArray(r))return;return r.map((e=>lf(e,t.slice(n+1))))}return}e=e[r]}return e}catch(n){if(n instanceof TypeError)return;throw n}}var uf,cf,df,ff,pf,hf,mf,gf,yf,vf,bf,wf,_f,xf,Cf,Ef,Sf,kf,Tf,Of,Af,If,Nf,Rf,Pf,jf,Df,Mf,Lf,Uf,Ff,$f,Bf,qf,Hf,Vf,zf,Wf,Gf;!function(e){e.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",e.OUTCOME_OK="OUTCOME_OK",e.OUTCOME_FAILED="OUTCOME_FAILED",e.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"}(uf||(uf={})),function(e){e.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",e.PYTHON="PYTHON"}(cf||(cf={})),function(e){e.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",e.STRING="STRING",e.NUMBER="NUMBER",e.INTEGER="INTEGER",e.BOOLEAN="BOOLEAN",e.ARRAY="ARRAY",e.OBJECT="OBJECT",e.NULL="NULL"}(df||(df={})),function(e){e.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",e.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",e.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",e.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",e.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",e.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY"}(ff||(ff={})),function(e){e.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",e.SEVERITY="SEVERITY",e.PROBABILITY="PROBABILITY"}(pf||(pf={})),function(e){e.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE",e.OFF="OFF"}(hf||(hf={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(mf||(mf={})),function(e){e.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",e.NO_AUTH="NO_AUTH",e.API_KEY_AUTH="API_KEY_AUTH",e.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",e.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",e.OAUTH="OAUTH",e.OIDC_AUTH="OIDC_AUTH"}(gf||(gf={})),function(e){e.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",e.STOP="STOP",e.MAX_TOKENS="MAX_TOKENS",e.SAFETY="SAFETY",e.RECITATION="RECITATION",e.LANGUAGE="LANGUAGE",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT",e.SPII="SPII",e.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",e.IMAGE_SAFETY="IMAGE_SAFETY",e.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL"}(yf||(yf={})),function(e){e.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",e.NEGLIGIBLE="NEGLIGIBLE",e.LOW="LOW",e.MEDIUM="MEDIUM",e.HIGH="HIGH"}(vf||(vf={})),function(e){e.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",e.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",e.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",e.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",e.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"}(bf||(bf={})),function(e){e.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",e.SAFETY="SAFETY",e.OTHER="OTHER",e.BLOCKLIST="BLOCKLIST",e.PROHIBITED_CONTENT="PROHIBITED_CONTENT"}(wf||(wf={})),function(e){e.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",e.ON_DEMAND="ON_DEMAND",e.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"}(_f||(_f={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.AUDIO="AUDIO"}(xf||(xf={})),function(e){e.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",e.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",e.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",e.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"}(Cf||(Cf={})),function(e){e.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",e.JOB_STATE_QUEUED="JOB_STATE_QUEUED",e.JOB_STATE_PENDING="JOB_STATE_PENDING",e.JOB_STATE_RUNNING="JOB_STATE_RUNNING",e.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",e.JOB_STATE_FAILED="JOB_STATE_FAILED",e.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",e.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",e.JOB_STATE_PAUSED="JOB_STATE_PAUSED",e.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",e.JOB_STATE_UPDATING="JOB_STATE_UPDATING",e.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"}(Ef||(Ef={})),function(e){e.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",e.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",e.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",e.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",e.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",e.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",e.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"}(Sf||(Sf={})),function(e){e.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",e.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",e.BALANCED="BALANCED",e.PRIORITIZE_COST="PRIORITIZE_COST"}(kf||(kf={})),function(e){e.UNSPECIFIED="UNSPECIFIED",e.BLOCKING="BLOCKING",e.NON_BLOCKING="NON_BLOCKING"}(Tf||(Tf={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.MODE_DYNAMIC="MODE_DYNAMIC"}(Of||(Of={})),function(e){e.MODE_UNSPECIFIED="MODE_UNSPECIFIED",e.AUTO="AUTO",e.ANY="ANY",e.NONE="NONE"}(Af||(Af={})),function(e){e.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",e.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",e.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR"}(If||(If={})),function(e){e.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",e.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",e.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",e.BLOCK_NONE="BLOCK_NONE"}(Nf||(Nf={})),function(e){e.DONT_ALLOW="DONT_ALLOW",e.ALLOW_ADULT="ALLOW_ADULT",e.ALLOW_ALL="ALLOW_ALL"}(Rf||(Rf={})),function(e){e.auto="auto",e.en="en",e.ja="ja",e.ko="ko",e.hi="hi"}(Pf||(Pf={})),function(e){e.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",e.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",e.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",e.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",e.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"}(jf||(jf={})),function(e){e.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",e.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",e.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",e.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"}(Df||(Df={})),function(e){e.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",e.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",e.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",e.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"}(Mf||(Mf={})),function(e){e.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",e.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",e.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",e.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",e.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",e.EDIT_MODE_STYLE="EDIT_MODE_STYLE",e.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",e.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"}(Lf||(Lf={})),function(e){e.STATE_UNSPECIFIED="STATE_UNSPECIFIED",e.PROCESSING="PROCESSING",e.ACTIVE="ACTIVE",e.FAILED="FAILED"}(Uf||(Uf={})),function(e){e.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",e.UPLOADED="UPLOADED",e.GENERATED="GENERATED"}(Ff||(Ff={})),function(e){e.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",e.TEXT="TEXT",e.IMAGE="IMAGE",e.VIDEO="VIDEO",e.AUDIO="AUDIO",e.DOCUMENT="DOCUMENT"}($f||($f={})),function(e){e.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",e.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",e.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"}(Bf||(Bf={})),function(e){e.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",e.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",e.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"}(qf||(qf={})),function(e){e.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",e.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",e.NO_INTERRUPTION="NO_INTERRUPTION"}(Hf||(Hf={})),function(e){e.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",e.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",e.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"}(Vf||(Vf={})),function(e){e.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",e.SILENT="SILENT",e.WHEN_IDLE="WHEN_IDLE",e.INTERRUPT="INTERRUPT"}(zf||(zf={})),function(e){e.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",e.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",e.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",e.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",e.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",e.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",e.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",e.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",e.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",e.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",e.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",e.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",e.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"}(Wf||(Wf={})),function(e){e.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",e.PLAY="PLAY",e.PAUSE="PAUSE",e.STOP="STOP",e.RESET_CONTEXT="RESET_CONTEXT"}(Gf||(Gf={}));class Kf{get text(){var e,t,n,r,o,i,s,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let l="",u=!1;const c=[];for(const d of null!==(a=null===(s=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===s?void 0:s.parts)&&void 0!==a?a:[]){for(const[e,t]of Object.entries(d))"text"===e||"thought"===e||null===t&&void 0===t||c.push(e);if("string"===typeof d.text){if("boolean"===typeof d.thought&&d.thought)continue;u=!0,l+=d.text}}return c.length>0&&console.warn(`there are non-text parts ${c} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),u?l:void 0}get data(){var e,t,n,r,o,i,s,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let l="";const u=[];for(const c of null!==(a=null===(s=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===s?void 0:s.parts)&&void 0!==a?a:[]){for(const[e,t]of Object.entries(c))"inlineData"===e||null===t&&void 0===t||u.push(e);c.inlineData&&"string"===typeof c.inlineData.data&&(l+=atob(c.inlineData.data))}return u.length>0&&console.warn(`there are non-data parts ${u} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),l.length>0?btoa(l):void 0}get functionCalls(){var e,t,n,r,o,i,s,a;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const l=null===(a=null===(s=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===s?void 0:s.parts)||void 0===a?void 0:a.filter((e=>e.functionCall)).map((e=>e.functionCall)).filter((e=>void 0!==e));return 0!==(null===l||void 0===l?void 0:l.length)?l:void 0}get executableCode(){var e,t,n,r,o,i,s,a,l;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const u=null===(a=null===(s=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===s?void 0:s.parts)||void 0===a?void 0:a.filter((e=>e.executableCode)).map((e=>e.executableCode)).filter((e=>void 0!==e));return 0!==(null===u||void 0===u?void 0:u.length)?null===(l=null===u||void 0===u?void 0:u[0])||void 0===l?void 0:l.code:void 0}get codeExecutionResult(){var e,t,n,r,o,i,s,a,l;if(0===(null===(r=null===(n=null===(t=null===(e=this.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content)||void 0===n?void 0:n.parts)||void 0===r?void 0:r.length))return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const u=null===(a=null===(s=null===(i=null===(o=this.candidates)||void 0===o?void 0:o[0])||void 0===i?void 0:i.content)||void 0===s?void 0:s.parts)||void 0===a?void 0:a.filter((e=>e.codeExecutionResult)).map((e=>e.codeExecutionResult)).filter((e=>void 0!==e));return 0!==(null===u||void 0===u?void 0:u.length)?null===(l=null===u||void 0===u?void 0:u[0])||void 0===l?void 0:l.output:void 0}}class Jf{}class Yf{}class Zf{}class Xf{}class Qf{}class ep{}class tp{}class np{}class rp{}class op{}class ip{}class sp{}class ap{constructor(e){const t={};for(const n of e.headers.entries())t[n[0]]=n[1];this.headers=t,this.responseInternal=e}json(){return this.responseInternal.json()}}class lp{}class up{}class cp{get text(){var e,t,n;let r="",o=!1;const i=[];for(const s of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(s))"text"!==e&&"thought"!==e&&null!==t&&i.push(e);if("string"===typeof s.text){if("boolean"===typeof s.thought&&s.thought)continue;o=!0,r+=s.text}}return i.length>0&&console.warn(`there are non-text parts ${i} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),o?r:void 0}get data(){var e,t,n;let r="";const o=[];for(const i of null!==(n=null===(t=null===(e=this.serverContent)||void 0===e?void 0:e.modelTurn)||void 0===t?void 0:t.parts)&&void 0!==n?n:[]){for(const[e,t]of Object.entries(i))"inlineData"!==e&&null!==t&&o.push(e);i.inlineData&&"string"===typeof i.inlineData.data&&(r+=atob(i.inlineData.data))}return o.length>0&&console.warn(`there are non-data parts ${o} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),r.length>0?btoa(r):void 0}}class dp{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}function fp(e,t){if(!t||"string"!==typeof t)throw new Error("model is required and must be a string");if(e.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const e=t.split("/",2);return`publishers/${e[0]}/models/${e[1]}`}return`publishers/google/models/${t}`}return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function pp(e,t){const n=fp(e,t);return n?n.startsWith("publishers/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}`:n.startsWith("models/")&&e.isVertexAI()?`projects/${e.getProject()}/locations/${e.getLocation()}/publishers/google/${n}`:n:""}function hp(e,t){return Array.isArray(t)?t.map((t=>mp(e,t))):[mp(e,t)]}function mp(e,t){if("object"===typeof t&&null!==t)return t;throw new Error("Could not parse input as Blob. Unsupported blob type: "+typeof t)}function gp(e,t){if(null===t||void 0===t)throw new Error("PartUnion is required");if("object"===typeof t)return t;if("string"===typeof t)return{text:t};throw new Error("Unsupported part type: "+typeof t)}function yp(e,t){if(null===t||void 0===t||Array.isArray(t)&&0===t.length)throw new Error("PartListUnion is required");return Array.isArray(t)?t.map((e=>gp(0,e))):[gp(0,t)]}function vp(e){return null!==e&&void 0!==e&&"object"===typeof e&&"parts"in e&&Array.isArray(e.parts)}function bp(e){return null!==e&&void 0!==e&&"object"===typeof e&&"functionCall"in e}function wp(e){return null!==e&&void 0!==e&&"object"===typeof e&&"functionResponse"in e}function _p(e,t){if(null===t||void 0===t)throw new Error("ContentUnion is required");return vp(t)?t:{role:"user",parts:yp(0,t)}}function xp(e,t){if(!t)return[];if(e.isVertexAI()&&Array.isArray(t))return t.flatMap((e=>{const t=_p(0,e);return t.parts&&t.parts.length>0&&void 0!==t.parts[0].text?[t.parts[0].text]:[]}));if(e.isVertexAI()){const e=_p(0,t);return e.parts&&e.parts.length>0&&void 0!==e.parts[0].text?[e.parts[0].text]:[]}return Array.isArray(t)?t.map((e=>_p(0,e))):[_p(0,t)]}function Cp(e,t){if(null===t||void 0===t||Array.isArray(t)&&0===t.length)throw new Error("contents are required");if(!Array.isArray(t)){if(bp(t)||wp(t))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[_p(0,t)]}const n=[],r=[],o=vp(t[0]);for(const i of t){const e=vp(i);if(e!=o)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(e)n.push(i);else{if(bp(i)||wp(i))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");r.push(i)}}return o||n.push({role:"user",parts:yp(0,r)}),n}const Ep=new Set(["type","format","title","description","default","items","minItems","maxItems","enum","properties","required","minProperties","maxProperties","minimum","maximum","minLength","maxLength","pattern","anyOf","propertyOrdering"]),Sp=Qd(["string","number","integer","object","array","boolean","null"]),kp=Yd([Sp,Kd(Sp)]);function Tp(e){const t={},n=["items"],r=["anyOf"],o=["properties"];if(e.type&&e.anyOf)throw new Error("type and anyOf cannot be both populated.");const i=e.anyOf;null!=i&&2==i.length&&("null"===i[0].type?(t.nullable=!0,e=i[1]):"null"===i[1].type&&(t.nullable=!0,e=i[0])),e.type instanceof Array&&function(e,t){e.includes("null")&&(t.nullable=!0);const n=e.filter((e=>"null"!==e));if(1===n.length)t.type=Object.values(df).includes(n[0].toUpperCase())?n[0].toUpperCase():df.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const e of n)t.anyOf.push({type:Object.values(df).includes(e.toUpperCase())?e.toUpperCase():df.TYPE_UNSPECIFIED})}}(e.type,t);for(const[s,a]of Object.entries(e))if(null!=a)if("type"==s){if("null"===a)throw new Error("type: null can not be the only possible type for the field.");if(a instanceof Array)continue;t.type=Object.values(df).includes(a.toUpperCase())?a.toUpperCase():df.TYPE_UNSPECIFIED}else if(n.includes(s))t[s]=Tp(a);else if(r.includes(s)){const e=[];for(const n of a)"null"!=n.type?e.push(Tp(n)):t.nullable=!0;t[s]=e}else if(o.includes(s)){const e={};for(const[t,n]of Object.entries(a))e[t]=Tp(n);t[s]=e}else{if("additionalProperties"===s)continue;t[s]=a}return t}function Op(e,t){if(Object.keys(t).includes("$schema")){delete t.$schema;const e=function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=Xd((()=>{const n=Jd({type:kp.optional(),format:Vd().optional(),title:Vd().optional(),description:Vd().optional(),default:Gd().optional(),items:t.optional(),minItems:ef().optional(),maxItems:ef().optional(),enum:Kd(Gd()).optional(),properties:Zd(Vd(),t).optional(),required:Kd(Vd()).optional(),minProperties:ef().optional(),maxProperties:ef().optional(),propertyOrdering:Kd(Vd()).optional(),minimum:zd().optional(),maximum:zd().optional(),minLength:ef().optional(),maxLength:ef().optional(),pattern:Vd().optional(),anyOf:Kd(t).optional(),additionalProperties:Wd().optional()});return e?n.strict():n}));return t}().parse(t);return Tp(e)}return Tp(t)}function Ap(e,t){if("object"===typeof t)return t;if("string"===typeof t)return{voiceConfig:{prebuiltVoiceConfig:{voiceName:t}}};throw new Error("Unsupported speechConfig type: "+typeof t)}function Ip(e,t){if("multiSpeakerVoiceConfig"in t)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return t}function Np(e,t){if(t.functionDeclarations)for(const n of t.functionDeclarations)n.parameters&&(n.parameters=Op(0,n.parameters)),n.response&&(n.response=Op(0,n.response));return t}function Rp(e,t){if(void 0===t||null===t)throw new Error("tools is required");if(!Array.isArray(t))throw new Error("tools is required and must be an array of Tools");const n=[];for(const r of t)n.push(r);return n}function Pp(e,t){if("string"!==typeof t)throw new Error("name must be a string");return function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;const o=!t.startsWith(`${n}/`)&&t.split("/").length===r;return e.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${e.getProject()}/${t}`:t.startsWith(`${n}/`)?`projects/${e.getProject()}/locations/${e.getLocation()}/${t}`:o?`projects/${e.getProject()}/locations/${e.getLocation()}/${n}/${t}`:t:o?`${n}/${t}`:t}(e,t,"cachedContents")}function jp(e,t){switch(t){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return t}}function Dp(e,t){if("string"!==typeof t)throw new Error("fromImageBytes must be a string");return t}function Mp(e,t){var n;let r;if(function(e){return null!==e&&void 0!==e&&"object"===typeof e&&"name"in e}(t)&&(r=t.name),(!function(e){return null!==e&&void 0!==e&&"object"===typeof e&&"uri"in e}(t)||(r=t.uri,void 0!==r))&&(!function(e){return null!==e&&void 0!==e&&"object"===typeof e&&"video"in e}(t)||(r=null===(n=t.video)||void 0===n?void 0:n.uri,void 0!==r))){if("string"===typeof t&&(r=t),void 0===r)throw new Error("Could not extract file name from the provided input.");if(r.startsWith("https://")){const e=r.split("files/")[1].match(/[a-z0-9]+/);if(null===e)throw new Error(`Could not extract file name from URI ${r}`);r=e[0]}else r.startsWith("files/")&&(r=r.split("files/")[1]);return r}}function Lp(e,t){let n;return n=e.isVertexAI()?t?"publishers/google/models":"models":t?"models":"tunedModels",n}function Up(e,t){for(const o of["models","tunedModels","publisherModels"])if(r=o,null!==(n=t)&&"object"===typeof n&&r in n)return t[o];var n,r;return[]}function Fp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e,r={name:n.name,description:n.description,parameters:Tp(qp(n.inputSchema))};t.behavior&&(r.behavior=t.behavior);return{functionDeclarations:[r]}}function $p(e){const t=[];for(const n of e)t.push(qp(n));return t}function Bp(e){const t={};for(const[n,r]of Object.entries(e)){const e=r;t[n]=qp(e)}return t}function qp(e){const t=new Set(["items"]),n=new Set(["anyOf"]),r=new Set(["properties"]),o={};for(const[i,s]of Object.entries(e))if(t.has(i))o[i]=qp(s);else if(n.has(i))o[i]=$p(s);else if(r.has(i))o[i]=Bp(s);else if("type"===i){const e=s.toUpperCase();o[i]=Object.values(df).includes(e)?e:df.TYPE_UNSPECIFIED}else Ep.has(i)&&(o[i]=s);return o}function Hp(e,t){const n={},r=lf(t,["videoMetadata"]);null!=r&&af(n,["videoMetadata"],function(e,t){const n={},r=lf(t,["fps"]);null!=r&&af(n,["fps"],r);const o=lf(t,["endOffset"]);null!=o&&af(n,["endOffset"],o);const i=lf(t,["startOffset"]);return null!=i&&af(n,["startOffset"],i),n}(0,r));const o=lf(t,["thought"]);null!=o&&af(n,["thought"],o);const i=lf(t,["inlineData"]);null!=i&&af(n,["inlineData"],function(e,t){const n={};if(void 0!==lf(t,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=lf(t,["data"]);null!=r&&af(n,["data"],r);const o=lf(t,["mimeType"]);return null!=o&&af(n,["mimeType"],o),n}(0,i));const s=lf(t,["fileData"]);null!=s&&af(n,["fileData"],function(e,t){const n={};if(void 0!==lf(t,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=lf(t,["fileUri"]);null!=r&&af(n,["fileUri"],r);const o=lf(t,["mimeType"]);return null!=o&&af(n,["mimeType"],o),n}(0,s));const a=lf(t,["thoughtSignature"]);null!=a&&af(n,["thoughtSignature"],a);const l=lf(t,["codeExecutionResult"]);null!=l&&af(n,["codeExecutionResult"],l);const u=lf(t,["executableCode"]);null!=u&&af(n,["executableCode"],u);const c=lf(t,["functionCall"]);null!=c&&af(n,["functionCall"],c);const d=lf(t,["functionResponse"]);null!=d&&af(n,["functionResponse"],d);const f=lf(t,["text"]);return null!=f&&af(n,["text"],f),n}function Vp(e,t){const n={},r=lf(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Hp(0,e)))),af(n,["parts"],e)}const o=lf(t,["role"]);return null!=o&&af(n,["role"],o),n}function zp(e,t){const n={},r=lf(t,["timeRangeFilter"]);return null!=r&&af(n,["timeRangeFilter"],function(e,t){const n={},r=lf(t,["startTime"]);null!=r&&af(n,["startTime"],r);const o=lf(t,["endTime"]);return null!=o&&af(n,["endTime"],o),n}(0,r)),n}function Wp(e,t){const n={},r=lf(t,["dynamicRetrievalConfig"]);return null!=r&&af(n,["dynamicRetrievalConfig"],function(e,t){const n={},r=lf(t,["mode"]);null!=r&&af(n,["mode"],r);const o=lf(t,["dynamicThreshold"]);return null!=o&&af(n,["dynamicThreshold"],o),n}(0,r)),n}function Gp(e,t){const n={},r=lf(t,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=lf(t,["behavior"]);null!=r&&af(n,["behavior"],r);const o=lf(t,["description"]);null!=o&&af(n,["description"],o);const i=lf(t,["name"]);null!=i&&af(n,["name"],i);const s=lf(t,["parameters"]);null!=s&&af(n,["parameters"],s);const a=lf(t,["response"]);return null!=a&&af(n,["response"],a),n}(0,e)))),af(n,["functionDeclarations"],e)}if(void 0!==lf(t,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const o=lf(t,["googleSearch"]);null!=o&&af(n,["googleSearch"],zp(0,o));const i=lf(t,["googleSearchRetrieval"]);if(null!=i&&af(n,["googleSearchRetrieval"],Wp(0,i)),void 0!==lf(t,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==lf(t,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=lf(t,["urlContext"])&&af(n,["urlContext"],{});const s=lf(t,["codeExecution"]);return null!=s&&af(n,["codeExecution"],s),n}function Kp(e,t){const n={},r=lf(t,["latLng"]);null!=r&&af(n,["latLng"],function(e,t){const n={},r=lf(t,["latitude"]);null!=r&&af(n,["latitude"],r);const o=lf(t,["longitude"]);return null!=o&&af(n,["longitude"],o),n}(0,r));const o=lf(t,["languageCode"]);return null!=o&&af(n,["languageCode"],o),n}function Jp(e,t){const n={},r=lf(t,["functionCallingConfig"]);null!=r&&af(n,["functionCallingConfig"],function(e,t){const n={},r=lf(t,["mode"]);null!=r&&af(n,["mode"],r);const o=lf(t,["allowedFunctionNames"]);return null!=o&&af(n,["allowedFunctionNames"],o),n}(0,r));const o=lf(t,["retrievalConfig"]);return null!=o&&af(n,["retrievalConfig"],Kp(0,o)),n}function Yp(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["model"],pp(e,r));const o=lf(t,["config"]);return null!=o&&af(n,["config"],function(e,t,n){const r=lf(t,["ttl"]);void 0!==n&&null!=r&&af(n,["ttl"],r);const o=lf(t,["expireTime"]);void 0!==n&&null!=o&&af(n,["expireTime"],o);const i=lf(t,["displayName"]);void 0!==n&&null!=i&&af(n,["displayName"],i);const s=lf(t,["contents"]);if(void 0!==n&&null!=s){let e=Cp(0,s);Array.isArray(e)&&(e=e.map((e=>Vp(0,e)))),af(n,["contents"],e)}const a=lf(t,["systemInstruction"]);void 0!==n&&null!=a&&af(n,["systemInstruction"],Vp(0,_p(0,a)));const l=lf(t,["tools"]);if(void 0!==n&&null!=l){let e=l;Array.isArray(e)&&(e=e.map((e=>Gp(0,e)))),af(n,["tools"],e)}const u=lf(t,["toolConfig"]);if(void 0!==n&&null!=u&&af(n,["toolConfig"],Jp(0,u)),void 0!==lf(t,["kmsKeyName"]))throw new Error("kmsKeyName parameter is not supported in Gemini API.");return{}}(0,o,n)),n}function Zp(e,t){const n={},r=lf(t,["name"]);null!=r&&af(n,["_url","name"],Pp(e,r));const o=lf(t,["config"]);return null!=o&&af(n,["config"],function(e,t,n){const r=lf(t,["ttl"]);void 0!==n&&null!=r&&af(n,["ttl"],r);const o=lf(t,["expireTime"]);return void 0!==n&&null!=o&&af(n,["expireTime"],o),{}}(0,o,n)),n}function Xp(e,t){const n={},r=lf(t,["config"]);return null!=r&&af(n,["config"],function(e,t,n){const r=lf(t,["pageSize"]);void 0!==n&&null!=r&&af(n,["_query","pageSize"],r);const o=lf(t,["pageToken"]);return void 0!==n&&null!=o&&af(n,["_query","pageToken"],o),{}}(0,r,n)),n}function Qp(e,t){const n={},r=lf(t,["videoMetadata"]);null!=r&&af(n,["videoMetadata"],function(e,t){const n={},r=lf(t,["fps"]);null!=r&&af(n,["fps"],r);const o=lf(t,["endOffset"]);null!=o&&af(n,["endOffset"],o);const i=lf(t,["startOffset"]);return null!=i&&af(n,["startOffset"],i),n}(0,r));const o=lf(t,["thought"]);null!=o&&af(n,["thought"],o);const i=lf(t,["inlineData"]);null!=i&&af(n,["inlineData"],function(e,t){const n={},r=lf(t,["displayName"]);null!=r&&af(n,["displayName"],r);const o=lf(t,["data"]);null!=o&&af(n,["data"],o);const i=lf(t,["mimeType"]);return null!=i&&af(n,["mimeType"],i),n}(0,i));const s=lf(t,["fileData"]);null!=s&&af(n,["fileData"],function(e,t){const n={},r=lf(t,["displayName"]);null!=r&&af(n,["displayName"],r);const o=lf(t,["fileUri"]);null!=o&&af(n,["fileUri"],o);const i=lf(t,["mimeType"]);return null!=i&&af(n,["mimeType"],i),n}(0,s));const a=lf(t,["thoughtSignature"]);null!=a&&af(n,["thoughtSignature"],a);const l=lf(t,["codeExecutionResult"]);null!=l&&af(n,["codeExecutionResult"],l);const u=lf(t,["executableCode"]);null!=u&&af(n,["executableCode"],u);const c=lf(t,["functionCall"]);null!=c&&af(n,["functionCall"],c);const d=lf(t,["functionResponse"]);null!=d&&af(n,["functionResponse"],d);const f=lf(t,["text"]);return null!=f&&af(n,["text"],f),n}function eh(e,t){const n={},r=lf(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Qp(0,e)))),af(n,["parts"],e)}const o=lf(t,["role"]);return null!=o&&af(n,["role"],o),n}function th(e,t){const n={},r=lf(t,["timeRangeFilter"]);return null!=r&&af(n,["timeRangeFilter"],function(e,t){const n={},r=lf(t,["startTime"]);null!=r&&af(n,["startTime"],r);const o=lf(t,["endTime"]);return null!=o&&af(n,["endTime"],o),n}(0,r)),n}function nh(e,t){const n={},r=lf(t,["dynamicRetrievalConfig"]);return null!=r&&af(n,["dynamicRetrievalConfig"],function(e,t){const n={},r=lf(t,["mode"]);null!=r&&af(n,["mode"],r);const o=lf(t,["dynamicThreshold"]);return null!=o&&af(n,["dynamicThreshold"],o),n}(0,r)),n}function rh(e,t){const n={},r=lf(t,["apiKeyConfig"]);null!=r&&af(n,["apiKeyConfig"],function(e,t){const n={},r=lf(t,["apiKeyString"]);return null!=r&&af(n,["apiKeyString"],r),n}(0,r));const o=lf(t,["authType"]);null!=o&&af(n,["authType"],o);const i=lf(t,["googleServiceAccountConfig"]);null!=i&&af(n,["googleServiceAccountConfig"],i);const s=lf(t,["httpBasicAuthConfig"]);null!=s&&af(n,["httpBasicAuthConfig"],s);const a=lf(t,["oauthConfig"]);null!=a&&af(n,["oauthConfig"],a);const l=lf(t,["oidcConfig"]);return null!=l&&af(n,["oidcConfig"],l),n}function oh(e,t){const n={},r=lf(t,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={};if(void 0!==lf(t,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const r=lf(t,["description"]);null!=r&&af(n,["description"],r);const o=lf(t,["name"]);null!=o&&af(n,["name"],o);const i=lf(t,["parameters"]);null!=i&&af(n,["parameters"],i);const s=lf(t,["response"]);return null!=s&&af(n,["response"],s),n}(0,e)))),af(n,["functionDeclarations"],e)}const o=lf(t,["retrieval"]);null!=o&&af(n,["retrieval"],o);const i=lf(t,["googleSearch"]);null!=i&&af(n,["googleSearch"],th(0,i));const s=lf(t,["googleSearchRetrieval"]);null!=s&&af(n,["googleSearchRetrieval"],nh(0,s));null!=lf(t,["enterpriseWebSearch"])&&af(n,["enterpriseWebSearch"],{});const a=lf(t,["googleMaps"]);null!=a&&af(n,["googleMaps"],function(e,t){const n={},r=lf(t,["authConfig"]);return null!=r&&af(n,["authConfig"],rh(0,r)),n}(0,a));null!=lf(t,["urlContext"])&&af(n,["urlContext"],{});const l=lf(t,["codeExecution"]);return null!=l&&af(n,["codeExecution"],l),n}function ih(e,t){const n={},r=lf(t,["latLng"]);null!=r&&af(n,["latLng"],function(e,t){const n={},r=lf(t,["latitude"]);null!=r&&af(n,["latitude"],r);const o=lf(t,["longitude"]);return null!=o&&af(n,["longitude"],o),n}(0,r));const o=lf(t,["languageCode"]);return null!=o&&af(n,["languageCode"],o),n}function sh(e,t){const n={},r=lf(t,["functionCallingConfig"]);null!=r&&af(n,["functionCallingConfig"],function(e,t){const n={},r=lf(t,["mode"]);null!=r&&af(n,["mode"],r);const o=lf(t,["allowedFunctionNames"]);return null!=o&&af(n,["allowedFunctionNames"],o),n}(0,r));const o=lf(t,["retrievalConfig"]);return null!=o&&af(n,["retrievalConfig"],ih(0,o)),n}function ah(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["model"],pp(e,r));const o=lf(t,["config"]);return null!=o&&af(n,["config"],function(e,t,n){const r=lf(t,["ttl"]);void 0!==n&&null!=r&&af(n,["ttl"],r);const o=lf(t,["expireTime"]);void 0!==n&&null!=o&&af(n,["expireTime"],o);const i=lf(t,["displayName"]);void 0!==n&&null!=i&&af(n,["displayName"],i);const s=lf(t,["contents"]);if(void 0!==n&&null!=s){let e=Cp(0,s);Array.isArray(e)&&(e=e.map((e=>eh(0,e)))),af(n,["contents"],e)}const a=lf(t,["systemInstruction"]);void 0!==n&&null!=a&&af(n,["systemInstruction"],eh(0,_p(0,a)));const l=lf(t,["tools"]);if(void 0!==n&&null!=l){let e=l;Array.isArray(e)&&(e=e.map((e=>oh(0,e)))),af(n,["tools"],e)}const u=lf(t,["toolConfig"]);void 0!==n&&null!=u&&af(n,["toolConfig"],sh(0,u));const c=lf(t,["kmsKeyName"]);return void 0!==n&&null!=c&&af(n,["encryption_spec","kmsKeyName"],c),{}}(0,o,n)),n}function lh(e,t){const n={},r=lf(t,["name"]);null!=r&&af(n,["_url","name"],Pp(e,r));const o=lf(t,["config"]);return null!=o&&af(n,["config"],function(e,t,n){const r=lf(t,["ttl"]);void 0!==n&&null!=r&&af(n,["ttl"],r);const o=lf(t,["expireTime"]);return void 0!==n&&null!=o&&af(n,["expireTime"],o),{}}(0,o,n)),n}function uh(e,t){const n={},r=lf(t,["config"]);return null!=r&&af(n,["config"],function(e,t,n){const r=lf(t,["pageSize"]);void 0!==n&&null!=r&&af(n,["_query","pageSize"],r);const o=lf(t,["pageToken"]);return void 0!==n&&null!=o&&af(n,["_query","pageToken"],o),{}}(0,r,n)),n}function ch(e,t){const n={},r=lf(t,["name"]);null!=r&&af(n,["name"],r);const o=lf(t,["displayName"]);null!=o&&af(n,["displayName"],o);const i=lf(t,["model"]);null!=i&&af(n,["model"],i);const s=lf(t,["createTime"]);null!=s&&af(n,["createTime"],s);const a=lf(t,["updateTime"]);null!=a&&af(n,["updateTime"],a);const l=lf(t,["expireTime"]);null!=l&&af(n,["expireTime"],l);const u=lf(t,["usageMetadata"]);return null!=u&&af(n,["usageMetadata"],u),n}function dh(e,t){const n={},r=lf(t,["name"]);null!=r&&af(n,["name"],r);const o=lf(t,["displayName"]);null!=o&&af(n,["displayName"],o);const i=lf(t,["model"]);null!=i&&af(n,["model"],i);const s=lf(t,["createTime"]);null!=s&&af(n,["createTime"],s);const a=lf(t,["updateTime"]);null!=a&&af(n,["updateTime"],a);const l=lf(t,["expireTime"]);null!=l&&af(n,["expireTime"],l);const u=lf(t,["usageMetadata"]);return null!=u&&af(n,["usageMetadata"],u),n}var fh;!function(e){e.PAGED_ITEM_BATCH_JOBS="batchJobs",e.PAGED_ITEM_MODELS="models",e.PAGED_ITEM_TUNING_JOBS="tuningJobs",e.PAGED_ITEM_FILES="files",e.PAGED_ITEM_CACHED_CONTENTS="cachedContents"}(fh||(fh={}));class ph{constructor(e,t,n,r){this.pageInternal=[],this.paramsInternal={},this.requestInternal=t,this.init(e,n,r)}init(e,t,n){var r,o;this.nameInternal=e,this.pageInternal=t[this.nameInternal]||[],this.idxInternal=0;let i={config:{}};i=n?"object"===typeof n?Object.assign({},n):n:{config:{}},i.config&&(i.config.pageToken=t.nextPageToken),this.paramsInternal=i,this.pageInternalSize=null!==(o=null===(r=i.config)||void 0===r?void 0:r.pageSize)&&void 0!==o?o:this.pageInternal.length}initNextPage(e){this.init(this.nameInternal,e,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(e){return this.pageInternal[e]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength){if(!this.hasNextPage())return{value:void 0,done:!0};await this.nextPage()}const e=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:e,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const e=await this.requestInternal(this.params);return this.initNextPage(e),this.page}hasNextPage(){var e;return void 0!==(null===(e=this.params.config)||void 0===e?void 0:e.pageToken)}}class hh extends of{constructor(e){var t;super(),t=this,this.apiClient=e,this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ph(fh.PAGED_ITEM_CACHED_CONTENTS,(e=>t.listInternal(e)),await t.listInternal(e),e)}}async create(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=ah(this.apiClient,e);return s=sf("cachedContents",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>dh(this.apiClient,e)))}{const t=Yp(this.apiClient,e);return s=sf("cachedContents",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>ch(this.apiClient,e)))}}async get(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=lf(t,["name"]);null!=r&&af(n,["_url","name"],Pp(e,r));const o=lf(t,["config"]);return null!=o&&af(n,["config"],o),n}(this.apiClient,e);return s=sf("{name}",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>dh(this.apiClient,e)))}{const t=function(e,t){const n={},r=lf(t,["name"]);null!=r&&af(n,["_url","name"],Pp(e,r));const o=lf(t,["config"]);return null!=o&&af(n,["config"],o),n}(this.apiClient,e);return s=sf("{name}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>ch(this.apiClient,e)))}}async delete(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=lf(t,["name"]);null!=r&&af(n,["_url","name"],Pp(e,r));const o=lf(t,["config"]);return null!=o&&af(n,["config"],o),n}(this.apiClient,e);return s=sf("{name}",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((()=>{const e={},t=new op;return Object.assign(t,e),t}))}{const t=function(e,t){const n={},r=lf(t,["name"]);null!=r&&af(n,["_url","name"],Pp(e,r));const o=lf(t,["config"]);return null!=o&&af(n,["config"],o),n}(this.apiClient,e);return s=sf("{name}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((()=>{const e={},t=new op;return Object.assign(t,e),t}))}}async update(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=lh(this.apiClient,e);return s=sf("{name}",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>dh(this.apiClient,e)))}{const t=Zp(this.apiClient,e);return s=sf("{name}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>ch(this.apiClient,e)))}}async listInternal(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=uh(this.apiClient,e);return s=sf("cachedContents",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>{const t=function(e,t){const n={},r=lf(t,["nextPageToken"]);null!=r&&af(n,["nextPageToken"],r);const o=lf(t,["cachedContents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map((e=>dh(0,e)))),af(n,["cachedContents"],e)}return n}(this.apiClient,e),n=new ip;return Object.assign(n,t),n}))}{const t=Xp(this.apiClient,e);return s=sf("cachedContents",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>{const t=function(e,t){const n={},r=lf(t,["nextPageToken"]);null!=r&&af(n,["nextPageToken"],r);const o=lf(t,["cachedContents"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map((e=>ch(0,e)))),af(n,["cachedContents"],e)}return n}(this.apiClient,e),n=new ip;return Object.assign(n,t),n}))}}}function mh(e){var t="function"===typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"===typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function gh(e){return this instanceof gh?(this.v=e,this):new gh(e)}function yh(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(e,t||[]),i=[];return r=Object.create(("function"===typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",(function(e){return function(t){return Promise.resolve(t).then(e,u)}})),r[Symbol.asyncIterator]=function(){return this},r;function s(e,t){o[e]&&(r[e]=function(t){return new Promise((function(n,r){i.push([e,t,n,r])>1||a(e,t)}))},t&&(r[e]=t(r[e])))}function a(e,t){try{(n=o[e](t)).value instanceof gh?Promise.resolve(n.value.v).then(l,u):c(i[0][2],n)}catch(Cx){c(i[0][3],Cx)}var n}function l(e){a("next",e)}function u(e){a("throw",e)}function c(e,t){e(t),i.shift(),i.length&&a(i[0][0],i[0][1])}}function vh(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e=mh(e),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,o){(function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)})(r,o,(t=e[n](t)).done,t.value)}))}}}function bh(e){var t;if(void 0==e.candidates||0===e.candidates.length)return!1;const n=null===(t=e.candidates[0])||void 0===t?void 0:t.content;return void 0!==n&&wh(n)}function wh(e){if(void 0===e.parts||0===e.parts.length)return!1;for(const t of e.parts){if(void 0===t||0===Object.keys(t).length)return!1;if(!t.thought&&void 0!==t.text&&""===t.text)return!1}return!0}function _h(e){if(void 0===e||0===e.length)return[];const t=[],n=e.length;let r=0;for(;r<n;)if("user"===e[r].role)t.push(e[r]),r++;else{const o=[];let i=!0;for(;r<n&&"model"===e[r].role;)o.push(e[r]),i&&!wh(e[r])&&(i=!1),r++;i?t.push(...o):t.pop()}return t}"function"===typeof SuppressedError&&SuppressedError;class xh{constructor(e,t){this.modelsModule=e,this.apiClient=t}create(e){return new Ch(this.apiClient,this.modelsModule,e.model,e.config,structuredClone(e.history))}}class Ch{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];this.apiClient=e,this.modelsModule=t,this.model=n,this.config=r,this.history=o,this.sendPromise=Promise.resolve(),function(e){if(0!==e.length)for(const t of e)if("user"!==t.role&&"model"!==t.role)throw new Error(`Role must be user or model, but got ${t.role}.`)}(o)}async sendMessage(e){var t;await this.sendPromise;const n=_p(this.apiClient,e.message),r=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});return this.sendPromise=(async()=>{var e,t,o;const i=await r,s=null===(t=null===(e=i.candidates)||void 0===e?void 0:e[0])||void 0===t?void 0:t.content,a=i.automaticFunctionCallingHistory,l=this.getHistory(!0).length;let u=[];null!=a&&(u=null!==(o=a.slice(l))&&void 0!==o?o:[]);const c=s?[s]:[];this.recordHistory(n,c,u)})(),await this.sendPromise.catch((()=>{this.sendPromise=Promise.resolve()})),r}async sendMessageStream(e){var t;await this.sendPromise;const n=_p(this.apiClient,e.message),r=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(n),config:null!==(t=e.config)&&void 0!==t?t:this.config});this.sendPromise=r.then((()=>{})).catch((()=>{}));const o=await r;return this.processStreamResponse(o,n)}getHistory(){const e=arguments.length>0&&void 0!==arguments[0]&&arguments[0]?_h(this.history):this.history;return structuredClone(e)}processStreamResponse(e,t){var n,r;return yh(this,arguments,(function*(){var o,i,s,a;const l=[];try{for(var u,c=!0,d=vh(e);!(o=(u=yield gh(d.next())).done);c=!0){a=u.value,c=!1;const e=a;if(bh(e)){const t=null===(r=null===(n=e.candidates)||void 0===n?void 0:n[0])||void 0===r?void 0:r.content;void 0!==t&&l.push(t)}yield yield gh(e)}}catch(f){i={error:f}}finally{try{c||o||!(s=d.return)||(yield gh(s.call(d)))}finally{if(i)throw i.error}}this.recordHistory(t,l)}))}recordHistory(e,t,n){let r=[];t.length>0&&t.every((e=>void 0!==e.role))?r=t:r.push({role:"model",parts:[]}),n&&n.length>0?this.history.push(..._h(n)):this.history.push(e),this.history.push(...r)}}function Eh(e,t){const n={},r=lf(t,["config"]);return null!=r&&af(n,["config"],function(e,t,n){const r=lf(t,["pageSize"]);void 0!==n&&null!=r&&af(n,["_query","pageSize"],r);const o=lf(t,["pageToken"]);return void 0!==n&&null!=o&&af(n,["_query","pageToken"],o),{}}(0,r,n)),n}function Sh(e,t){const n={},r=lf(t,["name"]);null!=r&&af(n,["name"],r);const o=lf(t,["displayName"]);null!=o&&af(n,["displayName"],o);const i=lf(t,["mimeType"]);null!=i&&af(n,["mimeType"],i);const s=lf(t,["sizeBytes"]);null!=s&&af(n,["sizeBytes"],s);const a=lf(t,["createTime"]);null!=a&&af(n,["createTime"],a);const l=lf(t,["expirationTime"]);null!=l&&af(n,["expirationTime"],l);const u=lf(t,["updateTime"]);null!=u&&af(n,["updateTime"],u);const c=lf(t,["sha256Hash"]);null!=c&&af(n,["sha256Hash"],c);const d=lf(t,["uri"]);null!=d&&af(n,["uri"],d);const f=lf(t,["downloadUri"]);null!=f&&af(n,["downloadUri"],f);const p=lf(t,["state"]);null!=p&&af(n,["state"],p);const h=lf(t,["source"]);null!=h&&af(n,["source"],h);const m=lf(t,["videoMetadata"]);null!=m&&af(n,["videoMetadata"],m);const g=lf(t,["error"]);return null!=g&&af(n,["error"],function(e,t){const n={},r=lf(t,["details"]);null!=r&&af(n,["details"],r);const o=lf(t,["message"]);null!=o&&af(n,["message"],o);const i=lf(t,["code"]);return null!=i&&af(n,["code"],i),n}(0,g)),n}function kh(e,t){const n={},r=lf(t,["name"]);null!=r&&af(n,["name"],r);const o=lf(t,["displayName"]);null!=o&&af(n,["displayName"],o);const i=lf(t,["mimeType"]);null!=i&&af(n,["mimeType"],i);const s=lf(t,["sizeBytes"]);null!=s&&af(n,["sizeBytes"],s);const a=lf(t,["createTime"]);null!=a&&af(n,["createTime"],a);const l=lf(t,["expirationTime"]);null!=l&&af(n,["expirationTime"],l);const u=lf(t,["updateTime"]);null!=u&&af(n,["updateTime"],u);const c=lf(t,["sha256Hash"]);null!=c&&af(n,["sha256Hash"],c);const d=lf(t,["uri"]);null!=d&&af(n,["uri"],d);const f=lf(t,["downloadUri"]);null!=f&&af(n,["downloadUri"],f);const p=lf(t,["state"]);null!=p&&af(n,["state"],p);const h=lf(t,["source"]);null!=h&&af(n,["source"],h);const m=lf(t,["videoMetadata"]);null!=m&&af(n,["videoMetadata"],m);const g=lf(t,["error"]);return null!=g&&af(n,["error"],function(e,t){const n={},r=lf(t,["details"]);null!=r&&af(n,["details"],r);const o=lf(t,["message"]);null!=o&&af(n,["message"],o);const i=lf(t,["code"]);return null!=i&&af(n,["code"],i),n}(0,g)),n}class Th extends of{constructor(e){var t;super(),t=this,this.apiClient=e,this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ph(fh.PAGED_ITEM_FILES,(e=>t.listInternal(e)),await t.listInternal(e),e)}}async upload(e){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(e.file,e.config).then((e=>kh(this.apiClient,e)))}async download(e){await this.apiClient.downloadFile(e)}async listInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=Eh(this.apiClient,e);return o=sf("files",s._url),i=s._query,delete s.config,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((e=>{const t=function(e,t){const n={},r=lf(t,["nextPageToken"]);null!=r&&af(n,["nextPageToken"],r);const o=lf(t,["files"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map((e=>kh(0,e)))),af(n,["files"],e)}return n}(this.apiClient,e),n=new sp;return Object.assign(n,t),n}))}}async createInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=function(e,t){const n={},r=lf(t,["file"]);null!=r&&af(n,["file"],Sh(0,r));const o=lf(t,["config"]);return null!=o&&af(n,["config"],o),n}(this.apiClient,e);return o=sf("upload/v1beta/files",s._url),i=s._query,delete s.config,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((()=>{const e={},t=new lp;return Object.assign(t,e),t}))}}async get(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=function(e,t){const n={},r=lf(t,["name"]);null!=r&&af(n,["_url","file"],Mp(0,r));const o=lf(t,["config"]);return null!=o&&af(n,["config"],o),n}(this.apiClient,e);return o=sf("files/{file}",s._url),i=s._query,delete s.config,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((e=>kh(this.apiClient,e)))}}async delete(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=function(e,t){const n={},r=lf(t,["name"]);null!=r&&af(n,["_url","file"],Mp(0,r));const o=lf(t,["config"]);return null!=o&&af(n,["config"],o),n}(this.apiClient,e);return o=sf("files/{file}",s._url),i=s._query,delete s.config,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((()=>{const e={},t=new up;return Object.assign(t,e),t}))}}}function Oh(e,t){const n={},r=lf(t,["prebuiltVoiceConfig"]);return null!=r&&af(n,["prebuiltVoiceConfig"],function(e,t){const n={},r=lf(t,["voiceName"]);return null!=r&&af(n,["voiceName"],r),n}(0,r)),n}function Ah(e,t){const n={},r=lf(t,["prebuiltVoiceConfig"]);return null!=r&&af(n,["prebuiltVoiceConfig"],function(e,t){const n={},r=lf(t,["voiceName"]);return null!=r&&af(n,["voiceName"],r),n}(0,r)),n}function Ih(e,t){const n={},r=lf(t,["speakerVoiceConfigs"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=lf(t,["speaker"]);null!=r&&af(n,["speaker"],r);const o=lf(t,["voiceConfig"]);return null!=o&&af(n,["voiceConfig"],Oh(0,o)),n}(0,e)))),af(n,["speakerVoiceConfigs"],e)}return n}function Nh(e,t){const n={},r=lf(t,["videoMetadata"]);null!=r&&af(n,["videoMetadata"],function(e,t){const n={},r=lf(t,["fps"]);null!=r&&af(n,["fps"],r);const o=lf(t,["endOffset"]);null!=o&&af(n,["endOffset"],o);const i=lf(t,["startOffset"]);return null!=i&&af(n,["startOffset"],i),n}(0,r));const o=lf(t,["thought"]);null!=o&&af(n,["thought"],o);const i=lf(t,["inlineData"]);null!=i&&af(n,["inlineData"],function(e,t){const n={};if(void 0!==lf(t,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=lf(t,["data"]);null!=r&&af(n,["data"],r);const o=lf(t,["mimeType"]);return null!=o&&af(n,["mimeType"],o),n}(0,i));const s=lf(t,["fileData"]);null!=s&&af(n,["fileData"],function(e,t){const n={};if(void 0!==lf(t,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=lf(t,["fileUri"]);null!=r&&af(n,["fileUri"],r);const o=lf(t,["mimeType"]);return null!=o&&af(n,["mimeType"],o),n}(0,s));const a=lf(t,["thoughtSignature"]);null!=a&&af(n,["thoughtSignature"],a);const l=lf(t,["codeExecutionResult"]);null!=l&&af(n,["codeExecutionResult"],l);const u=lf(t,["executableCode"]);null!=u&&af(n,["executableCode"],u);const c=lf(t,["functionCall"]);null!=c&&af(n,["functionCall"],c);const d=lf(t,["functionResponse"]);null!=d&&af(n,["functionResponse"],d);const f=lf(t,["text"]);return null!=f&&af(n,["text"],f),n}function Rh(e,t){const n={},r=lf(t,["videoMetadata"]);null!=r&&af(n,["videoMetadata"],function(e,t){const n={},r=lf(t,["fps"]);null!=r&&af(n,["fps"],r);const o=lf(t,["endOffset"]);null!=o&&af(n,["endOffset"],o);const i=lf(t,["startOffset"]);return null!=i&&af(n,["startOffset"],i),n}(0,r));const o=lf(t,["thought"]);null!=o&&af(n,["thought"],o);const i=lf(t,["inlineData"]);null!=i&&af(n,["inlineData"],function(e,t){const n={},r=lf(t,["displayName"]);null!=r&&af(n,["displayName"],r);const o=lf(t,["data"]);null!=o&&af(n,["data"],o);const i=lf(t,["mimeType"]);return null!=i&&af(n,["mimeType"],i),n}(0,i));const s=lf(t,["fileData"]);null!=s&&af(n,["fileData"],function(e,t){const n={},r=lf(t,["displayName"]);null!=r&&af(n,["displayName"],r);const o=lf(t,["fileUri"]);null!=o&&af(n,["fileUri"],o);const i=lf(t,["mimeType"]);return null!=i&&af(n,["mimeType"],i),n}(0,s));const a=lf(t,["thoughtSignature"]);null!=a&&af(n,["thoughtSignature"],a);const l=lf(t,["codeExecutionResult"]);null!=l&&af(n,["codeExecutionResult"],l);const u=lf(t,["executableCode"]);null!=u&&af(n,["executableCode"],u);const c=lf(t,["functionCall"]);null!=c&&af(n,["functionCall"],c);const d=lf(t,["functionResponse"]);null!=d&&af(n,["functionResponse"],d);const f=lf(t,["text"]);return null!=f&&af(n,["text"],f),n}function Ph(e,t){const n={},r=lf(t,["timeRangeFilter"]);return null!=r&&af(n,["timeRangeFilter"],function(e,t){const n={},r=lf(t,["startTime"]);null!=r&&af(n,["startTime"],r);const o=lf(t,["endTime"]);return null!=o&&af(n,["endTime"],o),n}(0,r)),n}function jh(e,t){const n={},r=lf(t,["timeRangeFilter"]);return null!=r&&af(n,["timeRangeFilter"],function(e,t){const n={},r=lf(t,["startTime"]);null!=r&&af(n,["startTime"],r);const o=lf(t,["endTime"]);return null!=o&&af(n,["endTime"],o),n}(0,r)),n}function Dh(e,t){const n={},r=lf(t,["dynamicRetrievalConfig"]);return null!=r&&af(n,["dynamicRetrievalConfig"],function(e,t){const n={},r=lf(t,["mode"]);null!=r&&af(n,["mode"],r);const o=lf(t,["dynamicThreshold"]);return null!=o&&af(n,["dynamicThreshold"],o),n}(0,r)),n}function Mh(e,t){const n={},r=lf(t,["dynamicRetrievalConfig"]);return null!=r&&af(n,["dynamicRetrievalConfig"],function(e,t){const n={},r=lf(t,["mode"]);null!=r&&af(n,["mode"],r);const o=lf(t,["dynamicThreshold"]);return null!=o&&af(n,["dynamicThreshold"],o),n}(0,r)),n}function Lh(e,t){const n={},r=lf(t,["apiKeyConfig"]);null!=r&&af(n,["apiKeyConfig"],function(e,t){const n={},r=lf(t,["apiKeyString"]);return null!=r&&af(n,["apiKeyString"],r),n}(0,r));const o=lf(t,["authType"]);null!=o&&af(n,["authType"],o);const i=lf(t,["googleServiceAccountConfig"]);null!=i&&af(n,["googleServiceAccountConfig"],i);const s=lf(t,["httpBasicAuthConfig"]);null!=s&&af(n,["httpBasicAuthConfig"],s);const a=lf(t,["oauthConfig"]);null!=a&&af(n,["oauthConfig"],a);const l=lf(t,["oidcConfig"]);return null!=l&&af(n,["oidcConfig"],l),n}function Uh(e,t){const n={},r=lf(t,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=lf(t,["behavior"]);null!=r&&af(n,["behavior"],r);const o=lf(t,["description"]);null!=o&&af(n,["description"],o);const i=lf(t,["name"]);null!=i&&af(n,["name"],i);const s=lf(t,["parameters"]);null!=s&&af(n,["parameters"],s);const a=lf(t,["response"]);return null!=a&&af(n,["response"],a),n}(0,e)))),af(n,["functionDeclarations"],e)}if(void 0!==lf(t,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const o=lf(t,["googleSearch"]);null!=o&&af(n,["googleSearch"],Ph(0,o));const i=lf(t,["googleSearchRetrieval"]);if(null!=i&&af(n,["googleSearchRetrieval"],Dh(0,i)),void 0!==lf(t,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==lf(t,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=lf(t,["urlContext"])&&af(n,["urlContext"],{});const s=lf(t,["codeExecution"]);return null!=s&&af(n,["codeExecution"],s),n}function Fh(e,t){const n={},r=lf(t,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={};if(void 0!==lf(t,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const r=lf(t,["description"]);null!=r&&af(n,["description"],r);const o=lf(t,["name"]);null!=o&&af(n,["name"],o);const i=lf(t,["parameters"]);null!=i&&af(n,["parameters"],i);const s=lf(t,["response"]);return null!=s&&af(n,["response"],s),n}(0,e)))),af(n,["functionDeclarations"],e)}const o=lf(t,["retrieval"]);null!=o&&af(n,["retrieval"],o);const i=lf(t,["googleSearch"]);null!=i&&af(n,["googleSearch"],jh(0,i));const s=lf(t,["googleSearchRetrieval"]);null!=s&&af(n,["googleSearchRetrieval"],Mh(0,s));null!=lf(t,["enterpriseWebSearch"])&&af(n,["enterpriseWebSearch"],{});const a=lf(t,["googleMaps"]);null!=a&&af(n,["googleMaps"],function(e,t){const n={},r=lf(t,["authConfig"]);return null!=r&&af(n,["authConfig"],Lh(0,r)),n}(0,a));null!=lf(t,["urlContext"])&&af(n,["urlContext"],{});const l=lf(t,["codeExecution"]);return null!=l&&af(n,["codeExecution"],l),n}function $h(e,t){const n={},r=lf(t,["automaticActivityDetection"]);null!=r&&af(n,["automaticActivityDetection"],function(e,t){const n={},r=lf(t,["disabled"]);null!=r&&af(n,["disabled"],r);const o=lf(t,["startOfSpeechSensitivity"]);null!=o&&af(n,["startOfSpeechSensitivity"],o);const i=lf(t,["endOfSpeechSensitivity"]);null!=i&&af(n,["endOfSpeechSensitivity"],i);const s=lf(t,["prefixPaddingMs"]);null!=s&&af(n,["prefixPaddingMs"],s);const a=lf(t,["silenceDurationMs"]);return null!=a&&af(n,["silenceDurationMs"],a),n}(0,r));const o=lf(t,["activityHandling"]);null!=o&&af(n,["activityHandling"],o);const i=lf(t,["turnCoverage"]);return null!=i&&af(n,["turnCoverage"],i),n}function Bh(e,t){const n={},r=lf(t,["automaticActivityDetection"]);null!=r&&af(n,["automaticActivityDetection"],function(e,t){const n={},r=lf(t,["disabled"]);null!=r&&af(n,["disabled"],r);const o=lf(t,["startOfSpeechSensitivity"]);null!=o&&af(n,["startOfSpeechSensitivity"],o);const i=lf(t,["endOfSpeechSensitivity"]);null!=i&&af(n,["endOfSpeechSensitivity"],i);const s=lf(t,["prefixPaddingMs"]);null!=s&&af(n,["prefixPaddingMs"],s);const a=lf(t,["silenceDurationMs"]);return null!=a&&af(n,["silenceDurationMs"],a),n}(0,r));const o=lf(t,["activityHandling"]);null!=o&&af(n,["activityHandling"],o);const i=lf(t,["turnCoverage"]);return null!=i&&af(n,["turnCoverage"],i),n}function qh(e,t){const n={},r=lf(t,["triggerTokens"]);null!=r&&af(n,["triggerTokens"],r);const o=lf(t,["slidingWindow"]);return null!=o&&af(n,["slidingWindow"],function(e,t){const n={},r=lf(t,["targetTokens"]);return null!=r&&af(n,["targetTokens"],r),n}(0,o)),n}function Hh(e,t){const n={},r=lf(t,["triggerTokens"]);null!=r&&af(n,["triggerTokens"],r);const o=lf(t,["slidingWindow"]);return null!=o&&af(n,["slidingWindow"],function(e,t){const n={},r=lf(t,["targetTokens"]);return null!=r&&af(n,["targetTokens"],r),n}(0,o)),n}function Vh(e,t,n){const r=lf(t,["generationConfig"]);void 0!==n&&null!=r&&af(n,["setup","generationConfig"],r);const o=lf(t,["responseModalities"]);void 0!==n&&null!=o&&af(n,["setup","generationConfig","responseModalities"],o);const i=lf(t,["temperature"]);void 0!==n&&null!=i&&af(n,["setup","generationConfig","temperature"],i);const s=lf(t,["topP"]);void 0!==n&&null!=s&&af(n,["setup","generationConfig","topP"],s);const a=lf(t,["topK"]);void 0!==n&&null!=a&&af(n,["setup","generationConfig","topK"],a);const l=lf(t,["maxOutputTokens"]);void 0!==n&&null!=l&&af(n,["setup","generationConfig","maxOutputTokens"],l);const u=lf(t,["mediaResolution"]);void 0!==n&&null!=u&&af(n,["setup","generationConfig","mediaResolution"],u);const c=lf(t,["seed"]);void 0!==n&&null!=c&&af(n,["setup","generationConfig","seed"],c);const d=lf(t,["speechConfig"]);void 0!==n&&null!=d&&af(n,["setup","generationConfig","speechConfig"],function(e,t){const n={},r=lf(t,["voiceConfig"]);null!=r&&af(n,["voiceConfig"],Oh(0,r));const o=lf(t,["multiSpeakerVoiceConfig"]);null!=o&&af(n,["multiSpeakerVoiceConfig"],Ih(0,o));const i=lf(t,["languageCode"]);return null!=i&&af(n,["languageCode"],i),n}(0,Ip(0,d)));const f=lf(t,["enableAffectiveDialog"]);void 0!==n&&null!=f&&af(n,["setup","generationConfig","enableAffectiveDialog"],f);const p=lf(t,["systemInstruction"]);void 0!==n&&null!=p&&af(n,["setup","systemInstruction"],function(e,t){const n={},r=lf(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Nh(0,e)))),af(n,["parts"],e)}const o=lf(t,["role"]);return null!=o&&af(n,["role"],o),n}(0,_p(0,p)));const h=lf(t,["tools"]);if(void 0!==n&&null!=h){let e=Rp(0,h);Array.isArray(e)&&(e=e.map((e=>Uh(0,Np(0,e))))),af(n,["setup","tools"],e)}const m=lf(t,["sessionResumption"]);void 0!==n&&null!=m&&af(n,["setup","sessionResumption"],function(e,t){const n={},r=lf(t,["handle"]);if(null!=r&&af(n,["handle"],r),void 0!==lf(t,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return n}(0,m));const g=lf(t,["inputAudioTranscription"]);void 0!==n&&null!=g&&af(n,["setup","inputAudioTranscription"],{});const y=lf(t,["outputAudioTranscription"]);void 0!==n&&null!=y&&af(n,["setup","outputAudioTranscription"],{});const v=lf(t,["realtimeInputConfig"]);void 0!==n&&null!=v&&af(n,["setup","realtimeInputConfig"],$h(0,v));const b=lf(t,["contextWindowCompression"]);void 0!==n&&null!=b&&af(n,["setup","contextWindowCompression"],qh(0,b));const w=lf(t,["proactivity"]);return void 0!==n&&null!=w&&af(n,["setup","proactivity"],function(e,t){const n={},r=lf(t,["proactiveAudio"]);return null!=r&&af(n,["proactiveAudio"],r),n}(0,w)),{}}function zh(e,t,n){const r=lf(t,["generationConfig"]);void 0!==n&&null!=r&&af(n,["setup","generationConfig"],r);const o=lf(t,["responseModalities"]);void 0!==n&&null!=o&&af(n,["setup","generationConfig","responseModalities"],o);const i=lf(t,["temperature"]);void 0!==n&&null!=i&&af(n,["setup","generationConfig","temperature"],i);const s=lf(t,["topP"]);void 0!==n&&null!=s&&af(n,["setup","generationConfig","topP"],s);const a=lf(t,["topK"]);void 0!==n&&null!=a&&af(n,["setup","generationConfig","topK"],a);const l=lf(t,["maxOutputTokens"]);void 0!==n&&null!=l&&af(n,["setup","generationConfig","maxOutputTokens"],l);const u=lf(t,["mediaResolution"]);void 0!==n&&null!=u&&af(n,["setup","generationConfig","mediaResolution"],u);const c=lf(t,["seed"]);void 0!==n&&null!=c&&af(n,["setup","generationConfig","seed"],c);const d=lf(t,["speechConfig"]);void 0!==n&&null!=d&&af(n,["setup","generationConfig","speechConfig"],function(e,t){const n={},r=lf(t,["voiceConfig"]);if(null!=r&&af(n,["voiceConfig"],Ah(0,r)),void 0!==lf(t,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=lf(t,["languageCode"]);return null!=o&&af(n,["languageCode"],o),n}(0,Ip(0,d)));const f=lf(t,["enableAffectiveDialog"]);void 0!==n&&null!=f&&af(n,["setup","generationConfig","enableAffectiveDialog"],f);const p=lf(t,["systemInstruction"]);void 0!==n&&null!=p&&af(n,["setup","systemInstruction"],function(e,t){const n={},r=lf(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Rh(0,e)))),af(n,["parts"],e)}const o=lf(t,["role"]);return null!=o&&af(n,["role"],o),n}(0,_p(0,p)));const h=lf(t,["tools"]);if(void 0!==n&&null!=h){let e=Rp(0,h);Array.isArray(e)&&(e=e.map((e=>Fh(0,Np(0,e))))),af(n,["setup","tools"],e)}const m=lf(t,["sessionResumption"]);void 0!==n&&null!=m&&af(n,["setup","sessionResumption"],function(e,t){const n={},r=lf(t,["handle"]);null!=r&&af(n,["handle"],r);const o=lf(t,["transparent"]);return null!=o&&af(n,["transparent"],o),n}(0,m));const g=lf(t,["inputAudioTranscription"]);void 0!==n&&null!=g&&af(n,["setup","inputAudioTranscription"],{});const y=lf(t,["outputAudioTranscription"]);void 0!==n&&null!=y&&af(n,["setup","outputAudioTranscription"],{});const v=lf(t,["realtimeInputConfig"]);void 0!==n&&null!=v&&af(n,["setup","realtimeInputConfig"],Bh(0,v));const b=lf(t,["contextWindowCompression"]);void 0!==n&&null!=b&&af(n,["setup","contextWindowCompression"],Hh(0,b));const w=lf(t,["proactivity"]);return void 0!==n&&null!=w&&af(n,["setup","proactivity"],function(e,t){const n={},r=lf(t,["proactiveAudio"]);return null!=r&&af(n,["proactiveAudio"],r),n}(0,w)),{}}function Wh(e,t){const n={},r=lf(t,["media"]);null!=r&&af(n,["mediaChunks"],hp(e,r));const o=lf(t,["audio"]);null!=o&&af(n,["audio"],function(e,t){const n=mp(0,t);if(n.mimeType&&n.mimeType.startsWith("audio/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}(0,o));const i=lf(t,["audioStreamEnd"]);null!=i&&af(n,["audioStreamEnd"],i);const s=lf(t,["video"]);null!=s&&af(n,["video"],function(e,t){const n=mp(0,t);if(n.mimeType&&n.mimeType.startsWith("image/"))return n;throw new Error(`Unsupported mime type: ${n.mimeType}`)}(0,s));const a=lf(t,["text"]);null!=a&&af(n,["text"],a);null!=lf(t,["activityStart"])&&af(n,["activityStart"],{});return null!=lf(t,["activityEnd"])&&af(n,["activityEnd"],{}),n}function Gh(e,t){const n={},r=lf(t,["media"]);if(null!=r&&af(n,["mediaChunks"],hp(e,r)),void 0!==lf(t,["audio"]))throw new Error("audio parameter is not supported in Vertex AI.");const o=lf(t,["audioStreamEnd"]);if(null!=o&&af(n,["audioStreamEnd"],o),void 0!==lf(t,["video"]))throw new Error("video parameter is not supported in Vertex AI.");if(void 0!==lf(t,["text"]))throw new Error("text parameter is not supported in Vertex AI.");null!=lf(t,["activityStart"])&&af(n,["activityStart"],{});return null!=lf(t,["activityEnd"])&&af(n,["activityEnd"],{}),n}function Kh(e,t){const n={},r=lf(t,["text"]);null!=r&&af(n,["text"],r);const o=lf(t,["weight"]);return null!=o&&af(n,["weight"],o),n}function Jh(e,t){const n={},r=lf(t,["temperature"]);null!=r&&af(n,["temperature"],r);const o=lf(t,["topK"]);null!=o&&af(n,["topK"],o);const i=lf(t,["seed"]);null!=i&&af(n,["seed"],i);const s=lf(t,["guidance"]);null!=s&&af(n,["guidance"],s);const a=lf(t,["bpm"]);null!=a&&af(n,["bpm"],a);const l=lf(t,["density"]);null!=l&&af(n,["density"],l);const u=lf(t,["brightness"]);null!=u&&af(n,["brightness"],u);const c=lf(t,["scale"]);null!=c&&af(n,["scale"],c);const d=lf(t,["muteBass"]);null!=d&&af(n,["muteBass"],d);const f=lf(t,["muteDrums"]);null!=f&&af(n,["muteDrums"],f);const p=lf(t,["onlyBassAndDrums"]);return null!=p&&af(n,["onlyBassAndDrums"],p),n}function Yh(e,t){const n={},r=lf(t,["model"]);return null!=r&&af(n,["model"],r),n}function Zh(e,t){const n={},r=lf(t,["weightedPrompts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Kh(0,e)))),af(n,["weightedPrompts"],e)}return n}function Xh(e,t){const n={},r=lf(t,["setup"]);null!=r&&af(n,["setup"],Yh(0,r));const o=lf(t,["clientContent"]);null!=o&&af(n,["clientContent"],Zh(0,o));const i=lf(t,["musicGenerationConfig"]);null!=i&&af(n,["musicGenerationConfig"],Jh(0,i));const s=lf(t,["playbackControl"]);return null!=s&&af(n,["playbackControl"],s),n}function Qh(e,t){const n={},r=lf(t,["videoMetadata"]);null!=r&&af(n,["videoMetadata"],function(e,t){const n={},r=lf(t,["fps"]);null!=r&&af(n,["fps"],r);const o=lf(t,["endOffset"]);null!=o&&af(n,["endOffset"],o);const i=lf(t,["startOffset"]);return null!=i&&af(n,["startOffset"],i),n}(0,r));const o=lf(t,["thought"]);null!=o&&af(n,["thought"],o);const i=lf(t,["inlineData"]);null!=i&&af(n,["inlineData"],function(e,t){const n={},r=lf(t,["data"]);null!=r&&af(n,["data"],r);const o=lf(t,["mimeType"]);return null!=o&&af(n,["mimeType"],o),n}(0,i));const s=lf(t,["fileData"]);null!=s&&af(n,["fileData"],function(e,t){const n={},r=lf(t,["fileUri"]);null!=r&&af(n,["fileUri"],r);const o=lf(t,["mimeType"]);return null!=o&&af(n,["mimeType"],o),n}(0,s));const a=lf(t,["thoughtSignature"]);null!=a&&af(n,["thoughtSignature"],a);const l=lf(t,["codeExecutionResult"]);null!=l&&af(n,["codeExecutionResult"],l);const u=lf(t,["executableCode"]);null!=u&&af(n,["executableCode"],u);const c=lf(t,["functionCall"]);null!=c&&af(n,["functionCall"],c);const d=lf(t,["functionResponse"]);null!=d&&af(n,["functionResponse"],d);const f=lf(t,["text"]);return null!=f&&af(n,["text"],f),n}function em(e,t){const n={},r=lf(t,["videoMetadata"]);null!=r&&af(n,["videoMetadata"],function(e,t){const n={},r=lf(t,["fps"]);null!=r&&af(n,["fps"],r);const o=lf(t,["endOffset"]);null!=o&&af(n,["endOffset"],o);const i=lf(t,["startOffset"]);return null!=i&&af(n,["startOffset"],i),n}(0,r));const o=lf(t,["thought"]);null!=o&&af(n,["thought"],o);const i=lf(t,["inlineData"]);null!=i&&af(n,["inlineData"],function(e,t){const n={},r=lf(t,["displayName"]);null!=r&&af(n,["displayName"],r);const o=lf(t,["data"]);null!=o&&af(n,["data"],o);const i=lf(t,["mimeType"]);return null!=i&&af(n,["mimeType"],i),n}(0,i));const s=lf(t,["fileData"]);null!=s&&af(n,["fileData"],function(e,t){const n={},r=lf(t,["displayName"]);null!=r&&af(n,["displayName"],r);const o=lf(t,["fileUri"]);null!=o&&af(n,["fileUri"],o);const i=lf(t,["mimeType"]);return null!=i&&af(n,["mimeType"],i),n}(0,s));const a=lf(t,["thoughtSignature"]);null!=a&&af(n,["thoughtSignature"],a);const l=lf(t,["codeExecutionResult"]);null!=l&&af(n,["codeExecutionResult"],l);const u=lf(t,["executableCode"]);null!=u&&af(n,["executableCode"],u);const c=lf(t,["functionCall"]);null!=c&&af(n,["functionCall"],c);const d=lf(t,["functionResponse"]);null!=d&&af(n,["functionResponse"],d);const f=lf(t,["text"]);return null!=f&&af(n,["text"],f),n}function tm(e,t){const n={},r=lf(t,["text"]);null!=r&&af(n,["text"],r);const o=lf(t,["finished"]);return null!=o&&af(n,["finished"],o),n}function nm(e,t){const n={},r=lf(t,["text"]);null!=r&&af(n,["text"],r);const o=lf(t,["finished"]);return null!=o&&af(n,["finished"],o),n}function rm(e,t){const n={},r=lf(t,["urlMetadata"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=lf(t,["retrievedUrl"]);null!=r&&af(n,["retrievedUrl"],r);const o=lf(t,["urlRetrievalStatus"]);return null!=o&&af(n,["urlRetrievalStatus"],o),n}(0,e)))),af(n,["urlMetadata"],e)}return n}function om(e,t){const n={},r=lf(t,["modelTurn"]);null!=r&&af(n,["modelTurn"],function(e,t){const n={},r=lf(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Qh(0,e)))),af(n,["parts"],e)}const o=lf(t,["role"]);return null!=o&&af(n,["role"],o),n}(0,r));const o=lf(t,["turnComplete"]);null!=o&&af(n,["turnComplete"],o);const i=lf(t,["interrupted"]);null!=i&&af(n,["interrupted"],i);const s=lf(t,["groundingMetadata"]);null!=s&&af(n,["groundingMetadata"],s);const a=lf(t,["generationComplete"]);null!=a&&af(n,["generationComplete"],a);const l=lf(t,["inputTranscription"]);null!=l&&af(n,["inputTranscription"],tm(0,l));const u=lf(t,["outputTranscription"]);null!=u&&af(n,["outputTranscription"],tm(0,u));const c=lf(t,["urlContextMetadata"]);return null!=c&&af(n,["urlContextMetadata"],rm(0,c)),n}function im(e,t){const n={},r=lf(t,["modelTurn"]);null!=r&&af(n,["modelTurn"],function(e,t){const n={},r=lf(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>em(0,e)))),af(n,["parts"],e)}const o=lf(t,["role"]);return null!=o&&af(n,["role"],o),n}(0,r));const o=lf(t,["turnComplete"]);null!=o&&af(n,["turnComplete"],o);const i=lf(t,["interrupted"]);null!=i&&af(n,["interrupted"],i);const s=lf(t,["groundingMetadata"]);null!=s&&af(n,["groundingMetadata"],s);const a=lf(t,["generationComplete"]);null!=a&&af(n,["generationComplete"],a);const l=lf(t,["inputTranscription"]);null!=l&&af(n,["inputTranscription"],nm(0,l));const u=lf(t,["outputTranscription"]);return null!=u&&af(n,["outputTranscription"],nm(0,u)),n}function sm(e,t){const n={},r=lf(t,["functionCalls"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=lf(t,["id"]);null!=r&&af(n,["id"],r);const o=lf(t,["args"]);null!=o&&af(n,["args"],o);const i=lf(t,["name"]);return null!=i&&af(n,["name"],i),n}(0,e)))),af(n,["functionCalls"],e)}return n}function am(e,t){const n={},r=lf(t,["functionCalls"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=lf(t,["args"]);null!=r&&af(n,["args"],r);const o=lf(t,["name"]);return null!=o&&af(n,["name"],o),n}(0,e)))),af(n,["functionCalls"],e)}return n}function lm(e,t){const n={},r=lf(t,["modality"]);null!=r&&af(n,["modality"],r);const o=lf(t,["tokenCount"]);return null!=o&&af(n,["tokenCount"],o),n}function um(e,t){const n={},r=lf(t,["modality"]);null!=r&&af(n,["modality"],r);const o=lf(t,["tokenCount"]);return null!=o&&af(n,["tokenCount"],o),n}function cm(e,t){const n={};null!=lf(t,["setupComplete"])&&af(n,["setupComplete"],{});const r=lf(t,["serverContent"]);null!=r&&af(n,["serverContent"],om(0,r));const o=lf(t,["toolCall"]);null!=o&&af(n,["toolCall"],sm(0,o));const i=lf(t,["toolCallCancellation"]);null!=i&&af(n,["toolCallCancellation"],function(e,t){const n={},r=lf(t,["ids"]);return null!=r&&af(n,["ids"],r),n}(0,i));const s=lf(t,["usageMetadata"]);null!=s&&af(n,["usageMetadata"],function(e,t){const n={},r=lf(t,["promptTokenCount"]);null!=r&&af(n,["promptTokenCount"],r);const o=lf(t,["cachedContentTokenCount"]);null!=o&&af(n,["cachedContentTokenCount"],o);const i=lf(t,["responseTokenCount"]);null!=i&&af(n,["responseTokenCount"],i);const s=lf(t,["toolUsePromptTokenCount"]);null!=s&&af(n,["toolUsePromptTokenCount"],s);const a=lf(t,["thoughtsTokenCount"]);null!=a&&af(n,["thoughtsTokenCount"],a);const l=lf(t,["totalTokenCount"]);null!=l&&af(n,["totalTokenCount"],l);const u=lf(t,["promptTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map((e=>lm(0,e)))),af(n,["promptTokensDetails"],e)}const c=lf(t,["cacheTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map((e=>lm(0,e)))),af(n,["cacheTokensDetails"],e)}const d=lf(t,["responseTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map((e=>lm(0,e)))),af(n,["responseTokensDetails"],e)}const f=lf(t,["toolUsePromptTokensDetails"]);if(null!=f){let e=f;Array.isArray(e)&&(e=e.map((e=>lm(0,e)))),af(n,["toolUsePromptTokensDetails"],e)}return n}(0,s));const a=lf(t,["goAway"]);null!=a&&af(n,["goAway"],function(e,t){const n={},r=lf(t,["timeLeft"]);return null!=r&&af(n,["timeLeft"],r),n}(0,a));const l=lf(t,["sessionResumptionUpdate"]);return null!=l&&af(n,["sessionResumptionUpdate"],function(e,t){const n={},r=lf(t,["newHandle"]);null!=r&&af(n,["newHandle"],r);const o=lf(t,["resumable"]);null!=o&&af(n,["resumable"],o);const i=lf(t,["lastConsumedClientMessageIndex"]);return null!=i&&af(n,["lastConsumedClientMessageIndex"],i),n}(0,l)),n}function dm(e,t){const n={};null!=lf(t,["setupComplete"])&&af(n,["setupComplete"],{});const r=lf(t,["serverContent"]);null!=r&&af(n,["serverContent"],im(0,r));const o=lf(t,["toolCall"]);null!=o&&af(n,["toolCall"],am(0,o));const i=lf(t,["toolCallCancellation"]);null!=i&&af(n,["toolCallCancellation"],function(e,t){const n={},r=lf(t,["ids"]);return null!=r&&af(n,["ids"],r),n}(0,i));const s=lf(t,["usageMetadata"]);null!=s&&af(n,["usageMetadata"],function(e,t){const n={},r=lf(t,["promptTokenCount"]);null!=r&&af(n,["promptTokenCount"],r);const o=lf(t,["cachedContentTokenCount"]);null!=o&&af(n,["cachedContentTokenCount"],o);const i=lf(t,["candidatesTokenCount"]);null!=i&&af(n,["responseTokenCount"],i);const s=lf(t,["toolUsePromptTokenCount"]);null!=s&&af(n,["toolUsePromptTokenCount"],s);const a=lf(t,["thoughtsTokenCount"]);null!=a&&af(n,["thoughtsTokenCount"],a);const l=lf(t,["totalTokenCount"]);null!=l&&af(n,["totalTokenCount"],l);const u=lf(t,["promptTokensDetails"]);if(null!=u){let e=u;Array.isArray(e)&&(e=e.map((e=>um(0,e)))),af(n,["promptTokensDetails"],e)}const c=lf(t,["cacheTokensDetails"]);if(null!=c){let e=c;Array.isArray(e)&&(e=e.map((e=>um(0,e)))),af(n,["cacheTokensDetails"],e)}const d=lf(t,["candidatesTokensDetails"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map((e=>um(0,e)))),af(n,["responseTokensDetails"],e)}const f=lf(t,["toolUsePromptTokensDetails"]);if(null!=f){let e=f;Array.isArray(e)&&(e=e.map((e=>um(0,e)))),af(n,["toolUsePromptTokensDetails"],e)}const p=lf(t,["trafficType"]);return null!=p&&af(n,["trafficType"],p),n}(0,s));const a=lf(t,["goAway"]);null!=a&&af(n,["goAway"],function(e,t){const n={},r=lf(t,["timeLeft"]);return null!=r&&af(n,["timeLeft"],r),n}(0,a));const l=lf(t,["sessionResumptionUpdate"]);return null!=l&&af(n,["sessionResumptionUpdate"],function(e,t){const n={},r=lf(t,["newHandle"]);null!=r&&af(n,["newHandle"],r);const o=lf(t,["resumable"]);null!=o&&af(n,["resumable"],o);const i=lf(t,["lastConsumedClientMessageIndex"]);return null!=i&&af(n,["lastConsumedClientMessageIndex"],i),n}(0,l)),n}function fm(e,t){const n={},r=lf(t,["weightedPrompts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=lf(t,["text"]);null!=r&&af(n,["text"],r);const o=lf(t,["weight"]);return null!=o&&af(n,["weight"],o),n}(0,e)))),af(n,["weightedPrompts"],e)}return n}function pm(e,t){const n={},r=lf(t,["clientContent"]);null!=r&&af(n,["clientContent"],fm(0,r));const o=lf(t,["musicGenerationConfig"]);return null!=o&&af(n,["musicGenerationConfig"],function(e,t){const n={},r=lf(t,["temperature"]);null!=r&&af(n,["temperature"],r);const o=lf(t,["topK"]);null!=o&&af(n,["topK"],o);const i=lf(t,["seed"]);null!=i&&af(n,["seed"],i);const s=lf(t,["guidance"]);null!=s&&af(n,["guidance"],s);const a=lf(t,["bpm"]);null!=a&&af(n,["bpm"],a);const l=lf(t,["density"]);null!=l&&af(n,["density"],l);const u=lf(t,["brightness"]);null!=u&&af(n,["brightness"],u);const c=lf(t,["scale"]);null!=c&&af(n,["scale"],c);const d=lf(t,["muteBass"]);null!=d&&af(n,["muteBass"],d);const f=lf(t,["muteDrums"]);null!=f&&af(n,["muteDrums"],f);const p=lf(t,["onlyBassAndDrums"]);return null!=p&&af(n,["onlyBassAndDrums"],p),n}(0,o)),n}function hm(e,t){const n={},r=lf(t,["audioChunks"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=lf(t,["data"]);null!=r&&af(n,["data"],r);const o=lf(t,["mimeType"]);null!=o&&af(n,["mimeType"],o);const i=lf(t,["sourceMetadata"]);return null!=i&&af(n,["sourceMetadata"],pm(0,i)),n}(0,e)))),af(n,["audioChunks"],e)}return n}function mm(e,t){const n={};null!=lf(t,["setupComplete"])&&af(n,["setupComplete"],{});const r=lf(t,["serverContent"]);null!=r&&af(n,["serverContent"],hm(0,r));const o=lf(t,["filteredPrompt"]);return null!=o&&af(n,["filteredPrompt"],function(e,t){const n={},r=lf(t,["text"]);null!=r&&af(n,["text"],r);const o=lf(t,["filteredReason"]);return null!=o&&af(n,["filteredReason"],o),n}(0,o)),n}function gm(e,t){const n={},r=lf(t,["videoMetadata"]);null!=r&&af(n,["videoMetadata"],function(e,t){const n={},r=lf(t,["fps"]);null!=r&&af(n,["fps"],r);const o=lf(t,["endOffset"]);null!=o&&af(n,["endOffset"],o);const i=lf(t,["startOffset"]);return null!=i&&af(n,["startOffset"],i),n}(0,r));const o=lf(t,["thought"]);null!=o&&af(n,["thought"],o);const i=lf(t,["inlineData"]);null!=i&&af(n,["inlineData"],function(e,t){const n={};if(void 0!==lf(t,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=lf(t,["data"]);null!=r&&af(n,["data"],r);const o=lf(t,["mimeType"]);return null!=o&&af(n,["mimeType"],o),n}(0,i));const s=lf(t,["fileData"]);null!=s&&af(n,["fileData"],function(e,t){const n={};if(void 0!==lf(t,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=lf(t,["fileUri"]);null!=r&&af(n,["fileUri"],r);const o=lf(t,["mimeType"]);return null!=o&&af(n,["mimeType"],o),n}(0,s));const a=lf(t,["thoughtSignature"]);null!=a&&af(n,["thoughtSignature"],a);const l=lf(t,["codeExecutionResult"]);null!=l&&af(n,["codeExecutionResult"],l);const u=lf(t,["executableCode"]);null!=u&&af(n,["executableCode"],u);const c=lf(t,["functionCall"]);null!=c&&af(n,["functionCall"],c);const d=lf(t,["functionResponse"]);null!=d&&af(n,["functionResponse"],d);const f=lf(t,["text"]);return null!=f&&af(n,["text"],f),n}function ym(e,t){const n={},r=lf(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>gm(0,e)))),af(n,["parts"],e)}const o=lf(t,["role"]);return null!=o&&af(n,["role"],o),n}function vm(e,t){const n={},r=lf(t,["timeRangeFilter"]);return null!=r&&af(n,["timeRangeFilter"],function(e,t){const n={},r=lf(t,["startTime"]);null!=r&&af(n,["startTime"],r);const o=lf(t,["endTime"]);return null!=o&&af(n,["endTime"],o),n}(0,r)),n}function bm(e,t){const n={},r=lf(t,["dynamicRetrievalConfig"]);return null!=r&&af(n,["dynamicRetrievalConfig"],function(e,t){const n={},r=lf(t,["mode"]);null!=r&&af(n,["mode"],r);const o=lf(t,["dynamicThreshold"]);return null!=o&&af(n,["dynamicThreshold"],o),n}(0,r)),n}function wm(e,t){const n={},r=lf(t,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=lf(t,["behavior"]);null!=r&&af(n,["behavior"],r);const o=lf(t,["description"]);null!=o&&af(n,["description"],o);const i=lf(t,["name"]);null!=i&&af(n,["name"],i);const s=lf(t,["parameters"]);null!=s&&af(n,["parameters"],s);const a=lf(t,["response"]);return null!=a&&af(n,["response"],a),n}(0,e)))),af(n,["functionDeclarations"],e)}if(void 0!==lf(t,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const o=lf(t,["googleSearch"]);null!=o&&af(n,["googleSearch"],vm(0,o));const i=lf(t,["googleSearchRetrieval"]);if(null!=i&&af(n,["googleSearchRetrieval"],bm(0,i)),void 0!==lf(t,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==lf(t,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=lf(t,["urlContext"])&&af(n,["urlContext"],{});const s=lf(t,["codeExecution"]);return null!=s&&af(n,["codeExecution"],s),n}function _m(e,t){const n={},r=lf(t,["latLng"]);null!=r&&af(n,["latLng"],function(e,t){const n={},r=lf(t,["latitude"]);null!=r&&af(n,["latitude"],r);const o=lf(t,["longitude"]);return null!=o&&af(n,["longitude"],o),n}(0,r));const o=lf(t,["languageCode"]);return null!=o&&af(n,["languageCode"],o),n}function xm(e,t){const n={},r=lf(t,["functionCallingConfig"]);null!=r&&af(n,["functionCallingConfig"],function(e,t){const n={},r=lf(t,["mode"]);null!=r&&af(n,["mode"],r);const o=lf(t,["allowedFunctionNames"]);return null!=o&&af(n,["allowedFunctionNames"],o),n}(0,r));const o=lf(t,["retrievalConfig"]);return null!=o&&af(n,["retrievalConfig"],_m(0,o)),n}function Cm(e,t){const n={},r=lf(t,["prebuiltVoiceConfig"]);return null!=r&&af(n,["prebuiltVoiceConfig"],function(e,t){const n={},r=lf(t,["voiceName"]);return null!=r&&af(n,["voiceName"],r),n}(0,r)),n}function Em(e,t){const n={},r=lf(t,["speakerVoiceConfigs"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=lf(t,["speaker"]);null!=r&&af(n,["speaker"],r);const o=lf(t,["voiceConfig"]);return null!=o&&af(n,["voiceConfig"],Cm(0,o)),n}(0,e)))),af(n,["speakerVoiceConfigs"],e)}return n}function Sm(e,t,n){const r={},o=lf(t,["systemInstruction"]);void 0!==n&&null!=o&&af(n,["systemInstruction"],ym(0,_p(0,o)));const i=lf(t,["temperature"]);null!=i&&af(r,["temperature"],i);const s=lf(t,["topP"]);null!=s&&af(r,["topP"],s);const a=lf(t,["topK"]);null!=a&&af(r,["topK"],a);const l=lf(t,["candidateCount"]);null!=l&&af(r,["candidateCount"],l);const u=lf(t,["maxOutputTokens"]);null!=u&&af(r,["maxOutputTokens"],u);const c=lf(t,["stopSequences"]);null!=c&&af(r,["stopSequences"],c);const d=lf(t,["responseLogprobs"]);null!=d&&af(r,["responseLogprobs"],d);const f=lf(t,["logprobs"]);null!=f&&af(r,["logprobs"],f);const p=lf(t,["presencePenalty"]);null!=p&&af(r,["presencePenalty"],p);const h=lf(t,["frequencyPenalty"]);null!=h&&af(r,["frequencyPenalty"],h);const m=lf(t,["seed"]);null!=m&&af(r,["seed"],m);const g=lf(t,["responseMimeType"]);null!=g&&af(r,["responseMimeType"],g);const y=lf(t,["responseSchema"]);if(null!=y&&af(r,["responseSchema"],function(e,t){const n={},r=lf(t,["anyOf"]);null!=r&&af(n,["anyOf"],r);const o=lf(t,["default"]);null!=o&&af(n,["default"],o);const i=lf(t,["description"]);null!=i&&af(n,["description"],i);const s=lf(t,["enum"]);null!=s&&af(n,["enum"],s);const a=lf(t,["example"]);null!=a&&af(n,["example"],a);const l=lf(t,["format"]);null!=l&&af(n,["format"],l);const u=lf(t,["items"]);null!=u&&af(n,["items"],u);const c=lf(t,["maxItems"]);null!=c&&af(n,["maxItems"],c);const d=lf(t,["maxLength"]);null!=d&&af(n,["maxLength"],d);const f=lf(t,["maxProperties"]);null!=f&&af(n,["maxProperties"],f);const p=lf(t,["maximum"]);null!=p&&af(n,["maximum"],p);const h=lf(t,["minItems"]);null!=h&&af(n,["minItems"],h);const m=lf(t,["minLength"]);null!=m&&af(n,["minLength"],m);const g=lf(t,["minProperties"]);null!=g&&af(n,["minProperties"],g);const y=lf(t,["minimum"]);null!=y&&af(n,["minimum"],y);const v=lf(t,["nullable"]);null!=v&&af(n,["nullable"],v);const b=lf(t,["pattern"]);null!=b&&af(n,["pattern"],b);const w=lf(t,["properties"]);null!=w&&af(n,["properties"],w);const _=lf(t,["propertyOrdering"]);null!=_&&af(n,["propertyOrdering"],_);const x=lf(t,["required"]);null!=x&&af(n,["required"],x);const C=lf(t,["title"]);null!=C&&af(n,["title"],C);const E=lf(t,["type"]);return null!=E&&af(n,["type"],E),n}(0,Op(0,y))),void 0!==lf(t,["routingConfig"]))throw new Error("routingConfig parameter is not supported in Gemini API.");if(void 0!==lf(t,["modelSelectionConfig"]))throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const v=lf(t,["safetySettings"]);if(void 0!==n&&null!=v){let e=v;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={};if(void 0!==lf(t,["method"]))throw new Error("method parameter is not supported in Gemini API.");const r=lf(t,["category"]);null!=r&&af(n,["category"],r);const o=lf(t,["threshold"]);return null!=o&&af(n,["threshold"],o),n}(0,e)))),af(n,["safetySettings"],e)}const b=lf(t,["tools"]);if(void 0!==n&&null!=b){let e=Rp(0,b);Array.isArray(e)&&(e=e.map((e=>wm(0,Np(0,e))))),af(n,["tools"],e)}const w=lf(t,["toolConfig"]);if(void 0!==n&&null!=w&&af(n,["toolConfig"],xm(0,w)),void 0!==lf(t,["labels"]))throw new Error("labels parameter is not supported in Gemini API.");const _=lf(t,["cachedContent"]);void 0!==n&&null!=_&&af(n,["cachedContent"],Pp(e,_));const x=lf(t,["responseModalities"]);null!=x&&af(r,["responseModalities"],x);const C=lf(t,["mediaResolution"]);null!=C&&af(r,["mediaResolution"],C);const E=lf(t,["speechConfig"]);if(null!=E&&af(r,["speechConfig"],function(e,t){const n={},r=lf(t,["voiceConfig"]);null!=r&&af(n,["voiceConfig"],Cm(0,r));const o=lf(t,["multiSpeakerVoiceConfig"]);null!=o&&af(n,["multiSpeakerVoiceConfig"],Em(0,o));const i=lf(t,["languageCode"]);return null!=i&&af(n,["languageCode"],i),n}(0,Ap(0,E))),void 0!==lf(t,["audioTimestamp"]))throw new Error("audioTimestamp parameter is not supported in Gemini API.");const S=lf(t,["thinkingConfig"]);return null!=S&&af(r,["thinkingConfig"],function(e,t){const n={},r=lf(t,["includeThoughts"]);null!=r&&af(n,["includeThoughts"],r);const o=lf(t,["thinkingBudget"]);return null!=o&&af(n,["thinkingBudget"],o),n}(0,S)),r}function km(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["_url","model"],fp(e,r));const o=lf(t,["contents"]);if(null!=o){let e=Cp(0,o);Array.isArray(e)&&(e=e.map((e=>ym(0,e)))),af(n,["contents"],e)}const i=lf(t,["config"]);return null!=i&&af(n,["generationConfig"],Sm(e,i,n)),n}function Tm(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["_url","model"],fp(e,r));const o=lf(t,["contents"]);null!=o&&af(n,["requests[]","content"],xp(e,o));const i=lf(t,["config"]);null!=i&&af(n,["config"],function(e,t,n){const r=lf(t,["taskType"]);void 0!==n&&null!=r&&af(n,["requests[]","taskType"],r);const o=lf(t,["title"]);void 0!==n&&null!=o&&af(n,["requests[]","title"],o);const i=lf(t,["outputDimensionality"]);if(void 0!==n&&null!=i&&af(n,["requests[]","outputDimensionality"],i),void 0!==lf(t,["mimeType"]))throw new Error("mimeType parameter is not supported in Gemini API.");if(void 0!==lf(t,["autoTruncate"]))throw new Error("autoTruncate parameter is not supported in Gemini API.");return{}}(0,i,n));const s=lf(t,["model"]);return void 0!==s&&af(n,["requests[]","model"],fp(e,s)),n}function Om(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["_url","model"],fp(e,r));const o=lf(t,["prompt"]);null!=o&&af(n,["instances[0]","prompt"],o);const i=lf(t,["config"]);return null!=i&&af(n,["config"],function(e,t,n){if(void 0!==lf(t,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==lf(t,["negativePrompt"]))throw new Error("negativePrompt parameter is not supported in Gemini API.");const r=lf(t,["numberOfImages"]);void 0!==n&&null!=r&&af(n,["parameters","sampleCount"],r);const o=lf(t,["aspectRatio"]);void 0!==n&&null!=o&&af(n,["parameters","aspectRatio"],o);const i=lf(t,["guidanceScale"]);if(void 0!==n&&null!=i&&af(n,["parameters","guidanceScale"],i),void 0!==lf(t,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const s=lf(t,["safetyFilterLevel"]);void 0!==n&&null!=s&&af(n,["parameters","safetySetting"],s);const a=lf(t,["personGeneration"]);void 0!==n&&null!=a&&af(n,["parameters","personGeneration"],a);const l=lf(t,["includeSafetyAttributes"]);void 0!==n&&null!=l&&af(n,["parameters","includeSafetyAttributes"],l);const u=lf(t,["includeRaiReason"]);void 0!==n&&null!=u&&af(n,["parameters","includeRaiReason"],u);const c=lf(t,["language"]);void 0!==n&&null!=c&&af(n,["parameters","language"],c);const d=lf(t,["outputMimeType"]);void 0!==n&&null!=d&&af(n,["parameters","outputOptions","mimeType"],d);const f=lf(t,["outputCompressionQuality"]);if(void 0!==n&&null!=f&&af(n,["parameters","outputOptions","compressionQuality"],f),void 0!==lf(t,["addWatermark"]))throw new Error("addWatermark parameter is not supported in Gemini API.");if(void 0!==lf(t,["enhancePrompt"]))throw new Error("enhancePrompt parameter is not supported in Gemini API.");return{}}(0,i,n)),n}function Am(e,t){const n={},r=lf(t,["config"]);return null!=r&&af(n,["config"],function(e,t,n){const r=lf(t,["pageSize"]);void 0!==n&&null!=r&&af(n,["_query","pageSize"],r);const o=lf(t,["pageToken"]);void 0!==n&&null!=o&&af(n,["_query","pageToken"],o);const i=lf(t,["filter"]);void 0!==n&&null!=i&&af(n,["_query","filter"],i);const s=lf(t,["queryBase"]);return void 0!==n&&null!=s&&af(n,["_url","models_url"],Lp(e,s)),{}}(e,r,n)),n}function Im(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["_url","name"],fp(e,r));const o=lf(t,["config"]);return null!=o&&af(n,["config"],function(e,t,n){const r=lf(t,["displayName"]);void 0!==n&&null!=r&&af(n,["displayName"],r);const o=lf(t,["description"]);void 0!==n&&null!=o&&af(n,["description"],o);const i=lf(t,["defaultCheckpointId"]);return void 0!==n&&null!=i&&af(n,["defaultCheckpointId"],i),{}}(0,o,n)),n}function Nm(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["_url","model"],fp(e,r));const o=lf(t,["contents"]);if(null!=o){let e=Cp(0,o);Array.isArray(e)&&(e=e.map((e=>ym(0,e)))),af(n,["contents"],e)}const i=lf(t,["config"]);return null!=i&&af(n,["config"],function(e,t){if(void 0!==lf(t,["systemInstruction"]))throw new Error("systemInstruction parameter is not supported in Gemini API.");if(void 0!==lf(t,["tools"]))throw new Error("tools parameter is not supported in Gemini API.");if(void 0!==lf(t,["generationConfig"]))throw new Error("generationConfig parameter is not supported in Gemini API.");return{}}(0,i)),n}function Rm(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["_url","model"],fp(e,r));const o=lf(t,["prompt"]);null!=o&&af(n,["instances[0]","prompt"],o);const i=lf(t,["image"]);null!=i&&af(n,["instances[0]","image"],function(e,t){const n={};if(void 0!==lf(t,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const r=lf(t,["imageBytes"]);null!=r&&af(n,["bytesBase64Encoded"],Dp(0,r));const o=lf(t,["mimeType"]);return null!=o&&af(n,["mimeType"],o),n}(0,i));const s=lf(t,["config"]);return null!=s&&af(n,["config"],function(e,t,n){const r=lf(t,["numberOfVideos"]);if(void 0!==n&&null!=r&&af(n,["parameters","sampleCount"],r),void 0!==lf(t,["outputGcsUri"]))throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(void 0!==lf(t,["fps"]))throw new Error("fps parameter is not supported in Gemini API.");const o=lf(t,["durationSeconds"]);if(void 0!==n&&null!=o&&af(n,["parameters","durationSeconds"],o),void 0!==lf(t,["seed"]))throw new Error("seed parameter is not supported in Gemini API.");const i=lf(t,["aspectRatio"]);if(void 0!==n&&null!=i&&af(n,["parameters","aspectRatio"],i),void 0!==lf(t,["resolution"]))throw new Error("resolution parameter is not supported in Gemini API.");const s=lf(t,["personGeneration"]);if(void 0!==n&&null!=s&&af(n,["parameters","personGeneration"],s),void 0!==lf(t,["pubsubTopic"]))throw new Error("pubsubTopic parameter is not supported in Gemini API.");const a=lf(t,["negativePrompt"]);void 0!==n&&null!=a&&af(n,["parameters","negativePrompt"],a);const l=lf(t,["enhancePrompt"]);if(void 0!==n&&null!=l&&af(n,["parameters","enhancePrompt"],l),void 0!==lf(t,["generateAudio"]))throw new Error("generateAudio parameter is not supported in Gemini API.");return{}}(0,s,n)),n}function Pm(e,t){const n={},r=lf(t,["videoMetadata"]);null!=r&&af(n,["videoMetadata"],function(e,t){const n={},r=lf(t,["fps"]);null!=r&&af(n,["fps"],r);const o=lf(t,["endOffset"]);null!=o&&af(n,["endOffset"],o);const i=lf(t,["startOffset"]);return null!=i&&af(n,["startOffset"],i),n}(0,r));const o=lf(t,["thought"]);null!=o&&af(n,["thought"],o);const i=lf(t,["inlineData"]);null!=i&&af(n,["inlineData"],function(e,t){const n={},r=lf(t,["displayName"]);null!=r&&af(n,["displayName"],r);const o=lf(t,["data"]);null!=o&&af(n,["data"],o);const i=lf(t,["mimeType"]);return null!=i&&af(n,["mimeType"],i),n}(0,i));const s=lf(t,["fileData"]);null!=s&&af(n,["fileData"],function(e,t){const n={},r=lf(t,["displayName"]);null!=r&&af(n,["displayName"],r);const o=lf(t,["fileUri"]);null!=o&&af(n,["fileUri"],o);const i=lf(t,["mimeType"]);return null!=i&&af(n,["mimeType"],i),n}(0,s));const a=lf(t,["thoughtSignature"]);null!=a&&af(n,["thoughtSignature"],a);const l=lf(t,["codeExecutionResult"]);null!=l&&af(n,["codeExecutionResult"],l);const u=lf(t,["executableCode"]);null!=u&&af(n,["executableCode"],u);const c=lf(t,["functionCall"]);null!=c&&af(n,["functionCall"],c);const d=lf(t,["functionResponse"]);null!=d&&af(n,["functionResponse"],d);const f=lf(t,["text"]);return null!=f&&af(n,["text"],f),n}function jm(e,t){const n={},r=lf(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Pm(0,e)))),af(n,["parts"],e)}const o=lf(t,["role"]);return null!=o&&af(n,["role"],o),n}function Dm(e,t){const n={},r=lf(t,["timeRangeFilter"]);return null!=r&&af(n,["timeRangeFilter"],function(e,t){const n={},r=lf(t,["startTime"]);null!=r&&af(n,["startTime"],r);const o=lf(t,["endTime"]);return null!=o&&af(n,["endTime"],o),n}(0,r)),n}function Mm(e,t){const n={},r=lf(t,["dynamicRetrievalConfig"]);return null!=r&&af(n,["dynamicRetrievalConfig"],function(e,t){const n={},r=lf(t,["mode"]);null!=r&&af(n,["mode"],r);const o=lf(t,["dynamicThreshold"]);return null!=o&&af(n,["dynamicThreshold"],o),n}(0,r)),n}function Lm(e,t){const n={},r=lf(t,["apiKeyConfig"]);null!=r&&af(n,["apiKeyConfig"],function(e,t){const n={},r=lf(t,["apiKeyString"]);return null!=r&&af(n,["apiKeyString"],r),n}(0,r));const o=lf(t,["authType"]);null!=o&&af(n,["authType"],o);const i=lf(t,["googleServiceAccountConfig"]);null!=i&&af(n,["googleServiceAccountConfig"],i);const s=lf(t,["httpBasicAuthConfig"]);null!=s&&af(n,["httpBasicAuthConfig"],s);const a=lf(t,["oauthConfig"]);null!=a&&af(n,["oauthConfig"],a);const l=lf(t,["oidcConfig"]);return null!=l&&af(n,["oidcConfig"],l),n}function Um(e,t){const n={},r=lf(t,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={};if(void 0!==lf(t,["behavior"]))throw new Error("behavior parameter is not supported in Vertex AI.");const r=lf(t,["description"]);null!=r&&af(n,["description"],r);const o=lf(t,["name"]);null!=o&&af(n,["name"],o);const i=lf(t,["parameters"]);null!=i&&af(n,["parameters"],i);const s=lf(t,["response"]);return null!=s&&af(n,["response"],s),n}(0,e)))),af(n,["functionDeclarations"],e)}const o=lf(t,["retrieval"]);null!=o&&af(n,["retrieval"],o);const i=lf(t,["googleSearch"]);null!=i&&af(n,["googleSearch"],Dm(0,i));const s=lf(t,["googleSearchRetrieval"]);null!=s&&af(n,["googleSearchRetrieval"],Mm(0,s));null!=lf(t,["enterpriseWebSearch"])&&af(n,["enterpriseWebSearch"],{});const a=lf(t,["googleMaps"]);null!=a&&af(n,["googleMaps"],function(e,t){const n={},r=lf(t,["authConfig"]);return null!=r&&af(n,["authConfig"],Lm(0,r)),n}(0,a));null!=lf(t,["urlContext"])&&af(n,["urlContext"],{});const l=lf(t,["codeExecution"]);return null!=l&&af(n,["codeExecution"],l),n}function Fm(e,t){const n={},r=lf(t,["latLng"]);null!=r&&af(n,["latLng"],function(e,t){const n={},r=lf(t,["latitude"]);null!=r&&af(n,["latitude"],r);const o=lf(t,["longitude"]);return null!=o&&af(n,["longitude"],o),n}(0,r));const o=lf(t,["languageCode"]);return null!=o&&af(n,["languageCode"],o),n}function $m(e,t){const n={},r=lf(t,["functionCallingConfig"]);null!=r&&af(n,["functionCallingConfig"],function(e,t){const n={},r=lf(t,["mode"]);null!=r&&af(n,["mode"],r);const o=lf(t,["allowedFunctionNames"]);return null!=o&&af(n,["allowedFunctionNames"],o),n}(0,r));const o=lf(t,["retrievalConfig"]);return null!=o&&af(n,["retrievalConfig"],Fm(0,o)),n}function Bm(e,t){const n={},r=lf(t,["prebuiltVoiceConfig"]);return null!=r&&af(n,["prebuiltVoiceConfig"],function(e,t){const n={},r=lf(t,["voiceName"]);return null!=r&&af(n,["voiceName"],r),n}(0,r)),n}function qm(e,t,n){const r={},o=lf(t,["systemInstruction"]);void 0!==n&&null!=o&&af(n,["systemInstruction"],jm(0,_p(0,o)));const i=lf(t,["temperature"]);null!=i&&af(r,["temperature"],i);const s=lf(t,["topP"]);null!=s&&af(r,["topP"],s);const a=lf(t,["topK"]);null!=a&&af(r,["topK"],a);const l=lf(t,["candidateCount"]);null!=l&&af(r,["candidateCount"],l);const u=lf(t,["maxOutputTokens"]);null!=u&&af(r,["maxOutputTokens"],u);const c=lf(t,["stopSequences"]);null!=c&&af(r,["stopSequences"],c);const d=lf(t,["responseLogprobs"]);null!=d&&af(r,["responseLogprobs"],d);const f=lf(t,["logprobs"]);null!=f&&af(r,["logprobs"],f);const p=lf(t,["presencePenalty"]);null!=p&&af(r,["presencePenalty"],p);const h=lf(t,["frequencyPenalty"]);null!=h&&af(r,["frequencyPenalty"],h);const m=lf(t,["seed"]);null!=m&&af(r,["seed"],m);const g=lf(t,["responseMimeType"]);null!=g&&af(r,["responseMimeType"],g);const y=lf(t,["responseSchema"]);null!=y&&af(r,["responseSchema"],function(e,t){const n={},r=lf(t,["anyOf"]);null!=r&&af(n,["anyOf"],r);const o=lf(t,["default"]);null!=o&&af(n,["default"],o);const i=lf(t,["description"]);null!=i&&af(n,["description"],i);const s=lf(t,["enum"]);null!=s&&af(n,["enum"],s);const a=lf(t,["example"]);null!=a&&af(n,["example"],a);const l=lf(t,["format"]);null!=l&&af(n,["format"],l);const u=lf(t,["items"]);null!=u&&af(n,["items"],u);const c=lf(t,["maxItems"]);null!=c&&af(n,["maxItems"],c);const d=lf(t,["maxLength"]);null!=d&&af(n,["maxLength"],d);const f=lf(t,["maxProperties"]);null!=f&&af(n,["maxProperties"],f);const p=lf(t,["maximum"]);null!=p&&af(n,["maximum"],p);const h=lf(t,["minItems"]);null!=h&&af(n,["minItems"],h);const m=lf(t,["minLength"]);null!=m&&af(n,["minLength"],m);const g=lf(t,["minProperties"]);null!=g&&af(n,["minProperties"],g);const y=lf(t,["minimum"]);null!=y&&af(n,["minimum"],y);const v=lf(t,["nullable"]);null!=v&&af(n,["nullable"],v);const b=lf(t,["pattern"]);null!=b&&af(n,["pattern"],b);const w=lf(t,["properties"]);null!=w&&af(n,["properties"],w);const _=lf(t,["propertyOrdering"]);null!=_&&af(n,["propertyOrdering"],_);const x=lf(t,["required"]);null!=x&&af(n,["required"],x);const C=lf(t,["title"]);null!=C&&af(n,["title"],C);const E=lf(t,["type"]);return null!=E&&af(n,["type"],E),n}(0,Op(0,y)));const v=lf(t,["routingConfig"]);null!=v&&af(r,["routingConfig"],v);const b=lf(t,["modelSelectionConfig"]);null!=b&&af(r,["modelConfig"],function(e,t){const n={},r=lf(t,["featureSelectionPreference"]);return null!=r&&af(n,["featureSelectionPreference"],r),n}(0,b));const w=lf(t,["safetySettings"]);if(void 0!==n&&null!=w){let e=w;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=lf(t,["method"]);null!=r&&af(n,["method"],r);const o=lf(t,["category"]);null!=o&&af(n,["category"],o);const i=lf(t,["threshold"]);return null!=i&&af(n,["threshold"],i),n}(0,e)))),af(n,["safetySettings"],e)}const _=lf(t,["tools"]);if(void 0!==n&&null!=_){let e=Rp(0,_);Array.isArray(e)&&(e=e.map((e=>Um(0,Np(0,e))))),af(n,["tools"],e)}const x=lf(t,["toolConfig"]);void 0!==n&&null!=x&&af(n,["toolConfig"],$m(0,x));const C=lf(t,["labels"]);void 0!==n&&null!=C&&af(n,["labels"],C);const E=lf(t,["cachedContent"]);void 0!==n&&null!=E&&af(n,["cachedContent"],Pp(e,E));const S=lf(t,["responseModalities"]);null!=S&&af(r,["responseModalities"],S);const k=lf(t,["mediaResolution"]);null!=k&&af(r,["mediaResolution"],k);const T=lf(t,["speechConfig"]);null!=T&&af(r,["speechConfig"],function(e,t){const n={},r=lf(t,["voiceConfig"]);if(null!=r&&af(n,["voiceConfig"],Bm(0,r)),void 0!==lf(t,["multiSpeakerVoiceConfig"]))throw new Error("multiSpeakerVoiceConfig parameter is not supported in Vertex AI.");const o=lf(t,["languageCode"]);return null!=o&&af(n,["languageCode"],o),n}(0,Ap(0,T)));const O=lf(t,["audioTimestamp"]);null!=O&&af(r,["audioTimestamp"],O);const A=lf(t,["thinkingConfig"]);return null!=A&&af(r,["thinkingConfig"],function(e,t){const n={},r=lf(t,["includeThoughts"]);null!=r&&af(n,["includeThoughts"],r);const o=lf(t,["thinkingBudget"]);return null!=o&&af(n,["thinkingBudget"],o),n}(0,A)),r}function Hm(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["_url","model"],fp(e,r));const o=lf(t,["contents"]);if(null!=o){let e=Cp(0,o);Array.isArray(e)&&(e=e.map((e=>jm(0,e)))),af(n,["contents"],e)}const i=lf(t,["config"]);return null!=i&&af(n,["generationConfig"],qm(e,i,n)),n}function Vm(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["_url","model"],fp(e,r));const o=lf(t,["contents"]);null!=o&&af(n,["instances[]","content"],xp(e,o));const i=lf(t,["config"]);return null!=i&&af(n,["config"],function(e,t,n){const r=lf(t,["taskType"]);void 0!==n&&null!=r&&af(n,["instances[]","task_type"],r);const o=lf(t,["title"]);void 0!==n&&null!=o&&af(n,["instances[]","title"],o);const i=lf(t,["outputDimensionality"]);void 0!==n&&null!=i&&af(n,["parameters","outputDimensionality"],i);const s=lf(t,["mimeType"]);void 0!==n&&null!=s&&af(n,["instances[]","mimeType"],s);const a=lf(t,["autoTruncate"]);return void 0!==n&&null!=a&&af(n,["parameters","autoTruncate"],a),{}}(0,i,n)),n}function zm(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["_url","model"],fp(e,r));const o=lf(t,["prompt"]);null!=o&&af(n,["instances[0]","prompt"],o);const i=lf(t,["config"]);return null!=i&&af(n,["config"],function(e,t,n){const r=lf(t,["outputGcsUri"]);void 0!==n&&null!=r&&af(n,["parameters","storageUri"],r);const o=lf(t,["negativePrompt"]);void 0!==n&&null!=o&&af(n,["parameters","negativePrompt"],o);const i=lf(t,["numberOfImages"]);void 0!==n&&null!=i&&af(n,["parameters","sampleCount"],i);const s=lf(t,["aspectRatio"]);void 0!==n&&null!=s&&af(n,["parameters","aspectRatio"],s);const a=lf(t,["guidanceScale"]);void 0!==n&&null!=a&&af(n,["parameters","guidanceScale"],a);const l=lf(t,["seed"]);void 0!==n&&null!=l&&af(n,["parameters","seed"],l);const u=lf(t,["safetyFilterLevel"]);void 0!==n&&null!=u&&af(n,["parameters","safetySetting"],u);const c=lf(t,["personGeneration"]);void 0!==n&&null!=c&&af(n,["parameters","personGeneration"],c);const d=lf(t,["includeSafetyAttributes"]);void 0!==n&&null!=d&&af(n,["parameters","includeSafetyAttributes"],d);const f=lf(t,["includeRaiReason"]);void 0!==n&&null!=f&&af(n,["parameters","includeRaiReason"],f);const p=lf(t,["language"]);void 0!==n&&null!=p&&af(n,["parameters","language"],p);const h=lf(t,["outputMimeType"]);void 0!==n&&null!=h&&af(n,["parameters","outputOptions","mimeType"],h);const m=lf(t,["outputCompressionQuality"]);void 0!==n&&null!=m&&af(n,["parameters","outputOptions","compressionQuality"],m);const g=lf(t,["addWatermark"]);void 0!==n&&null!=g&&af(n,["parameters","addWatermark"],g);const y=lf(t,["enhancePrompt"]);return void 0!==n&&null!=y&&af(n,["parameters","enhancePrompt"],y),{}}(0,i,n)),n}function Wm(e,t){const n={},r=lf(t,["gcsUri"]);null!=r&&af(n,["gcsUri"],r);const o=lf(t,["imageBytes"]);null!=o&&af(n,["bytesBase64Encoded"],Dp(0,o));const i=lf(t,["mimeType"]);return null!=i&&af(n,["mimeType"],i),n}function Gm(e,t){const n={},r=lf(t,["referenceImage"]);null!=r&&af(n,["referenceImage"],Wm(0,r));const o=lf(t,["referenceId"]);null!=o&&af(n,["referenceId"],o);const i=lf(t,["referenceType"]);null!=i&&af(n,["referenceType"],i);const s=lf(t,["maskImageConfig"]);null!=s&&af(n,["maskImageConfig"],function(e,t){const n={},r=lf(t,["maskMode"]);null!=r&&af(n,["maskMode"],r);const o=lf(t,["segmentationClasses"]);null!=o&&af(n,["maskClasses"],o);const i=lf(t,["maskDilation"]);return null!=i&&af(n,["dilation"],i),n}(0,s));const a=lf(t,["controlImageConfig"]);null!=a&&af(n,["controlImageConfig"],function(e,t){const n={},r=lf(t,["controlType"]);null!=r&&af(n,["controlType"],r);const o=lf(t,["enableControlImageComputation"]);return null!=o&&af(n,["computeControl"],o),n}(0,a));const l=lf(t,["styleImageConfig"]);null!=l&&af(n,["styleImageConfig"],function(e,t){const n={},r=lf(t,["styleDescription"]);return null!=r&&af(n,["styleDescription"],r),n}(0,l));const u=lf(t,["subjectImageConfig"]);return null!=u&&af(n,["subjectImageConfig"],function(e,t){const n={},r=lf(t,["subjectType"]);null!=r&&af(n,["subjectType"],r);const o=lf(t,["subjectDescription"]);return null!=o&&af(n,["subjectDescription"],o),n}(0,u)),n}function Km(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["_url","model"],fp(e,r));const o=lf(t,["prompt"]);null!=o&&af(n,["instances[0]","prompt"],o);const i=lf(t,["referenceImages"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map((e=>Gm(0,e)))),af(n,["instances[0]","referenceImages"],e)}const s=lf(t,["config"]);return null!=s&&af(n,["config"],function(e,t,n){const r=lf(t,["outputGcsUri"]);void 0!==n&&null!=r&&af(n,["parameters","storageUri"],r);const o=lf(t,["negativePrompt"]);void 0!==n&&null!=o&&af(n,["parameters","negativePrompt"],o);const i=lf(t,["numberOfImages"]);void 0!==n&&null!=i&&af(n,["parameters","sampleCount"],i);const s=lf(t,["aspectRatio"]);void 0!==n&&null!=s&&af(n,["parameters","aspectRatio"],s);const a=lf(t,["guidanceScale"]);void 0!==n&&null!=a&&af(n,["parameters","guidanceScale"],a);const l=lf(t,["seed"]);void 0!==n&&null!=l&&af(n,["parameters","seed"],l);const u=lf(t,["safetyFilterLevel"]);void 0!==n&&null!=u&&af(n,["parameters","safetySetting"],u);const c=lf(t,["personGeneration"]);void 0!==n&&null!=c&&af(n,["parameters","personGeneration"],c);const d=lf(t,["includeSafetyAttributes"]);void 0!==n&&null!=d&&af(n,["parameters","includeSafetyAttributes"],d);const f=lf(t,["includeRaiReason"]);void 0!==n&&null!=f&&af(n,["parameters","includeRaiReason"],f);const p=lf(t,["language"]);void 0!==n&&null!=p&&af(n,["parameters","language"],p);const h=lf(t,["outputMimeType"]);void 0!==n&&null!=h&&af(n,["parameters","outputOptions","mimeType"],h);const m=lf(t,["outputCompressionQuality"]);void 0!==n&&null!=m&&af(n,["parameters","outputOptions","compressionQuality"],m);const g=lf(t,["editMode"]);void 0!==n&&null!=g&&af(n,["parameters","editMode"],g);const y=lf(t,["baseSteps"]);return void 0!==n&&null!=y&&af(n,["parameters","editConfig","baseSteps"],y),{}}(0,s,n)),n}function Jm(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["_url","model"],fp(e,r));const o=lf(t,["image"]);null!=o&&af(n,["instances[0]","image"],Wm(0,o));const i=lf(t,["upscaleFactor"]);null!=i&&af(n,["parameters","upscaleConfig","upscaleFactor"],i);const s=lf(t,["config"]);return null!=s&&af(n,["config"],function(e,t,n){const r=lf(t,["includeRaiReason"]);void 0!==n&&null!=r&&af(n,["parameters","includeRaiReason"],r);const o=lf(t,["outputMimeType"]);void 0!==n&&null!=o&&af(n,["parameters","outputOptions","mimeType"],o);const i=lf(t,["outputCompressionQuality"]);void 0!==n&&null!=i&&af(n,["parameters","outputOptions","compressionQuality"],i);const s=lf(t,["numberOfImages"]);void 0!==n&&null!=s&&af(n,["parameters","sampleCount"],s);const a=lf(t,["mode"]);return void 0!==n&&null!=a&&af(n,["parameters","mode"],a),{}}(0,s,n)),n}function Ym(e,t){const n={},r=lf(t,["config"]);return null!=r&&af(n,["config"],function(e,t,n){const r=lf(t,["pageSize"]);void 0!==n&&null!=r&&af(n,["_query","pageSize"],r);const o=lf(t,["pageToken"]);void 0!==n&&null!=o&&af(n,["_query","pageToken"],o);const i=lf(t,["filter"]);void 0!==n&&null!=i&&af(n,["_query","filter"],i);const s=lf(t,["queryBase"]);return void 0!==n&&null!=s&&af(n,["_url","models_url"],Lp(e,s)),{}}(e,r,n)),n}function Zm(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["_url","model"],fp(e,r));const o=lf(t,["config"]);return null!=o&&af(n,["config"],function(e,t,n){const r=lf(t,["displayName"]);void 0!==n&&null!=r&&af(n,["displayName"],r);const o=lf(t,["description"]);void 0!==n&&null!=o&&af(n,["description"],o);const i=lf(t,["defaultCheckpointId"]);return void 0!==n&&null!=i&&af(n,["defaultCheckpointId"],i),{}}(0,o,n)),n}function Xm(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["_url","model"],fp(e,r));const o=lf(t,["contents"]);if(null!=o){let e=Cp(0,o);Array.isArray(e)&&(e=e.map((e=>jm(0,e)))),af(n,["contents"],e)}const i=lf(t,["config"]);return null!=i&&af(n,["config"],function(e,t,n){const r=lf(t,["systemInstruction"]);void 0!==n&&null!=r&&af(n,["systemInstruction"],jm(0,_p(0,r)));const o=lf(t,["tools"]);if(void 0!==n&&null!=o){let e=o;Array.isArray(e)&&(e=e.map((e=>Um(0,e)))),af(n,["tools"],e)}const i=lf(t,["generationConfig"]);return void 0!==n&&null!=i&&af(n,["generationConfig"],i),{}}(0,i,n)),n}function Qm(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["_url","model"],fp(e,r));const o=lf(t,["prompt"]);null!=o&&af(n,["instances[0]","prompt"],o);const i=lf(t,["image"]);null!=i&&af(n,["instances[0]","image"],Wm(0,i));const s=lf(t,["config"]);return null!=s&&af(n,["config"],function(e,t,n){const r=lf(t,["numberOfVideos"]);void 0!==n&&null!=r&&af(n,["parameters","sampleCount"],r);const o=lf(t,["outputGcsUri"]);void 0!==n&&null!=o&&af(n,["parameters","storageUri"],o);const i=lf(t,["fps"]);void 0!==n&&null!=i&&af(n,["parameters","fps"],i);const s=lf(t,["durationSeconds"]);void 0!==n&&null!=s&&af(n,["parameters","durationSeconds"],s);const a=lf(t,["seed"]);void 0!==n&&null!=a&&af(n,["parameters","seed"],a);const l=lf(t,["aspectRatio"]);void 0!==n&&null!=l&&af(n,["parameters","aspectRatio"],l);const u=lf(t,["resolution"]);void 0!==n&&null!=u&&af(n,["parameters","resolution"],u);const c=lf(t,["personGeneration"]);void 0!==n&&null!=c&&af(n,["parameters","personGeneration"],c);const d=lf(t,["pubsubTopic"]);void 0!==n&&null!=d&&af(n,["parameters","pubsubTopic"],d);const f=lf(t,["negativePrompt"]);void 0!==n&&null!=f&&af(n,["parameters","negativePrompt"],f);const p=lf(t,["enhancePrompt"]);void 0!==n&&null!=p&&af(n,["parameters","enhancePrompt"],p);const h=lf(t,["generateAudio"]);return void 0!==n&&null!=h&&af(n,["parameters","generateAudio"],h),{}}(0,s,n)),n}function eg(e,t){const n={},r=lf(t,["videoMetadata"]);null!=r&&af(n,["videoMetadata"],function(e,t){const n={},r=lf(t,["fps"]);null!=r&&af(n,["fps"],r);const o=lf(t,["endOffset"]);null!=o&&af(n,["endOffset"],o);const i=lf(t,["startOffset"]);return null!=i&&af(n,["startOffset"],i),n}(0,r));const o=lf(t,["thought"]);null!=o&&af(n,["thought"],o);const i=lf(t,["inlineData"]);null!=i&&af(n,["inlineData"],function(e,t){const n={},r=lf(t,["data"]);null!=r&&af(n,["data"],r);const o=lf(t,["mimeType"]);return null!=o&&af(n,["mimeType"],o),n}(0,i));const s=lf(t,["fileData"]);null!=s&&af(n,["fileData"],function(e,t){const n={},r=lf(t,["fileUri"]);null!=r&&af(n,["fileUri"],r);const o=lf(t,["mimeType"]);return null!=o&&af(n,["mimeType"],o),n}(0,s));const a=lf(t,["thoughtSignature"]);null!=a&&af(n,["thoughtSignature"],a);const l=lf(t,["codeExecutionResult"]);null!=l&&af(n,["codeExecutionResult"],l);const u=lf(t,["executableCode"]);null!=u&&af(n,["executableCode"],u);const c=lf(t,["functionCall"]);null!=c&&af(n,["functionCall"],c);const d=lf(t,["functionResponse"]);null!=d&&af(n,["functionResponse"],d);const f=lf(t,["text"]);return null!=f&&af(n,["text"],f),n}function tg(e,t){const n={},r=lf(t,["urlMetadata"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=lf(t,["retrievedUrl"]);null!=r&&af(n,["retrievedUrl"],r);const o=lf(t,["urlRetrievalStatus"]);return null!=o&&af(n,["urlRetrievalStatus"],o),n}(0,e)))),af(n,["urlMetadata"],e)}return n}function ng(e,t){const n={},r=lf(t,["content"]);null!=r&&af(n,["content"],function(e,t){const n={},r=lf(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>eg(0,e)))),af(n,["parts"],e)}const o=lf(t,["role"]);return null!=o&&af(n,["role"],o),n}(0,r));const o=lf(t,["citationMetadata"]);null!=o&&af(n,["citationMetadata"],function(e,t){const n={},r=lf(t,["citationSources"]);return null!=r&&af(n,["citations"],r),n}(0,o));const i=lf(t,["tokenCount"]);null!=i&&af(n,["tokenCount"],i);const s=lf(t,["finishReason"]);null!=s&&af(n,["finishReason"],s);const a=lf(t,["urlContextMetadata"]);null!=a&&af(n,["urlContextMetadata"],tg(0,a));const l=lf(t,["avgLogprobs"]);null!=l&&af(n,["avgLogprobs"],l);const u=lf(t,["groundingMetadata"]);null!=u&&af(n,["groundingMetadata"],u);const c=lf(t,["index"]);null!=c&&af(n,["index"],c);const d=lf(t,["logprobsResult"]);null!=d&&af(n,["logprobsResult"],d);const f=lf(t,["safetyRatings"]);return null!=f&&af(n,["safetyRatings"],f),n}function rg(e,t){const n={},r=lf(t,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>ng(0,e)))),af(n,["candidates"],e)}const o=lf(t,["modelVersion"]);null!=o&&af(n,["modelVersion"],o);const i=lf(t,["promptFeedback"]);null!=i&&af(n,["promptFeedback"],i);const s=lf(t,["usageMetadata"]);return null!=s&&af(n,["usageMetadata"],s),n}function og(e,t){const n={},r=lf(t,["embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=lf(t,["values"]);return null!=r&&af(n,["values"],r),n}(0,e)))),af(n,["embeddings"],e)}return null!=lf(t,["metadata"])&&af(n,["metadata"],{}),n}function ig(e,t){const n={},r=lf(t,["safetyAttributes","categories"]);null!=r&&af(n,["categories"],r);const o=lf(t,["safetyAttributes","scores"]);null!=o&&af(n,["scores"],o);const i=lf(t,["contentType"]);return null!=i&&af(n,["contentType"],i),n}function sg(e,t){const n={},r=lf(t,["_self"]);null!=r&&af(n,["image"],function(e,t){const n={},r=lf(t,["bytesBase64Encoded"]);null!=r&&af(n,["imageBytes"],Dp(0,r));const o=lf(t,["mimeType"]);return null!=o&&af(n,["mimeType"],o),n}(0,r));const o=lf(t,["raiFilteredReason"]);null!=o&&af(n,["raiFilteredReason"],o);const i=lf(t,["_self"]);return null!=i&&af(n,["safetyAttributes"],ig(0,i)),n}function ag(e,t){const n={},r=lf(t,["name"]);null!=r&&af(n,["name"],r);const o=lf(t,["displayName"]);null!=o&&af(n,["displayName"],o);const i=lf(t,["description"]);null!=i&&af(n,["description"],i);const s=lf(t,["version"]);null!=s&&af(n,["version"],s);const a=lf(t,["_self"]);null!=a&&af(n,["tunedModelInfo"],function(e,t){const n={},r=lf(t,["baseModel"]);null!=r&&af(n,["baseModel"],r);const o=lf(t,["createTime"]);null!=o&&af(n,["createTime"],o);const i=lf(t,["updateTime"]);return null!=i&&af(n,["updateTime"],i),n}(0,a));const l=lf(t,["inputTokenLimit"]);null!=l&&af(n,["inputTokenLimit"],l);const u=lf(t,["outputTokenLimit"]);null!=u&&af(n,["outputTokenLimit"],u);const c=lf(t,["supportedGenerationMethods"]);return null!=c&&af(n,["supportedActions"],c),n}function lg(e,t){const n={},r=lf(t,["_self"]);return null!=r&&af(n,["video"],function(e,t){const n={},r=lf(t,["video","uri"]);null!=r&&af(n,["uri"],r);const o=lf(t,["video","encodedVideo"]);null!=o&&af(n,["videoBytes"],Dp(0,o));const i=lf(t,["encoding"]);return null!=i&&af(n,["mimeType"],i),n}(0,r)),n}function ug(e,t){const n={},r=lf(t,["name"]);null!=r&&af(n,["name"],r);const o=lf(t,["metadata"]);null!=o&&af(n,["metadata"],o);const i=lf(t,["done"]);null!=i&&af(n,["done"],i);const s=lf(t,["error"]);null!=s&&af(n,["error"],s);const a=lf(t,["response","generateVideoResponse"]);return null!=a&&af(n,["response"],function(e,t){const n={},r=lf(t,["generatedSamples"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>lg(0,e)))),af(n,["generatedVideos"],e)}const o=lf(t,["raiMediaFilteredCount"]);null!=o&&af(n,["raiMediaFilteredCount"],o);const i=lf(t,["raiMediaFilteredReasons"]);return null!=i&&af(n,["raiMediaFilteredReasons"],i),n}(0,a)),n}function cg(e,t){const n={},r=lf(t,["videoMetadata"]);null!=r&&af(n,["videoMetadata"],function(e,t){const n={},r=lf(t,["fps"]);null!=r&&af(n,["fps"],r);const o=lf(t,["endOffset"]);null!=o&&af(n,["endOffset"],o);const i=lf(t,["startOffset"]);return null!=i&&af(n,["startOffset"],i),n}(0,r));const o=lf(t,["thought"]);null!=o&&af(n,["thought"],o);const i=lf(t,["inlineData"]);null!=i&&af(n,["inlineData"],function(e,t){const n={},r=lf(t,["displayName"]);null!=r&&af(n,["displayName"],r);const o=lf(t,["data"]);null!=o&&af(n,["data"],o);const i=lf(t,["mimeType"]);return null!=i&&af(n,["mimeType"],i),n}(0,i));const s=lf(t,["fileData"]);null!=s&&af(n,["fileData"],function(e,t){const n={},r=lf(t,["displayName"]);null!=r&&af(n,["displayName"],r);const o=lf(t,["fileUri"]);null!=o&&af(n,["fileUri"],o);const i=lf(t,["mimeType"]);return null!=i&&af(n,["mimeType"],i),n}(0,s));const a=lf(t,["thoughtSignature"]);null!=a&&af(n,["thoughtSignature"],a);const l=lf(t,["codeExecutionResult"]);null!=l&&af(n,["codeExecutionResult"],l);const u=lf(t,["executableCode"]);null!=u&&af(n,["executableCode"],u);const c=lf(t,["functionCall"]);null!=c&&af(n,["functionCall"],c);const d=lf(t,["functionResponse"]);null!=d&&af(n,["functionResponse"],d);const f=lf(t,["text"]);return null!=f&&af(n,["text"],f),n}function dg(e,t){const n={},r=lf(t,["urlMetadata"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=lf(t,["retrievedUrl"]);null!=r&&af(n,["retrievedUrl"],r);const o=lf(t,["urlRetrievalStatus"]);return null!=o&&af(n,["urlRetrievalStatus"],o),n}(0,e)))),af(n,["urlMetadata"],e)}return n}function fg(e,t){const n={},r=lf(t,["content"]);null!=r&&af(n,["content"],function(e,t){const n={},r=lf(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>cg(0,e)))),af(n,["parts"],e)}const o=lf(t,["role"]);return null!=o&&af(n,["role"],o),n}(0,r));const o=lf(t,["citationMetadata"]);null!=o&&af(n,["citationMetadata"],function(e,t){const n={},r=lf(t,["citations"]);return null!=r&&af(n,["citations"],r),n}(0,o));const i=lf(t,["finishMessage"]);null!=i&&af(n,["finishMessage"],i);const s=lf(t,["finishReason"]);null!=s&&af(n,["finishReason"],s);const a=lf(t,["urlContextMetadata"]);null!=a&&af(n,["urlContextMetadata"],dg(0,a));const l=lf(t,["avgLogprobs"]);null!=l&&af(n,["avgLogprobs"],l);const u=lf(t,["groundingMetadata"]);null!=u&&af(n,["groundingMetadata"],u);const c=lf(t,["index"]);null!=c&&af(n,["index"],c);const d=lf(t,["logprobsResult"]);null!=d&&af(n,["logprobsResult"],d);const f=lf(t,["safetyRatings"]);return null!=f&&af(n,["safetyRatings"],f),n}function pg(e,t){const n={},r=lf(t,["candidates"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>fg(0,e)))),af(n,["candidates"],e)}const o=lf(t,["createTime"]);null!=o&&af(n,["createTime"],o);const i=lf(t,["responseId"]);null!=i&&af(n,["responseId"],i);const s=lf(t,["modelVersion"]);null!=s&&af(n,["modelVersion"],s);const a=lf(t,["promptFeedback"]);null!=a&&af(n,["promptFeedback"],a);const l=lf(t,["usageMetadata"]);return null!=l&&af(n,["usageMetadata"],l),n}function hg(e,t){const n={},r=lf(t,["values"]);null!=r&&af(n,["values"],r);const o=lf(t,["statistics"]);return null!=o&&af(n,["statistics"],function(e,t){const n={},r=lf(t,["truncated"]);null!=r&&af(n,["truncated"],r);const o=lf(t,["token_count"]);return null!=o&&af(n,["tokenCount"],o),n}(0,o)),n}function mg(e,t){const n={},r=lf(t,["predictions[]","embeddings"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>hg(0,e)))),af(n,["embeddings"],e)}const o=lf(t,["metadata"]);return null!=o&&af(n,["metadata"],function(e,t){const n={},r=lf(t,["billableCharacterCount"]);return null!=r&&af(n,["billableCharacterCount"],r),n}(0,o)),n}function gg(e,t){const n={},r=lf(t,["safetyAttributes","categories"]);null!=r&&af(n,["categories"],r);const o=lf(t,["safetyAttributes","scores"]);null!=o&&af(n,["scores"],o);const i=lf(t,["contentType"]);return null!=i&&af(n,["contentType"],i),n}function yg(e,t){const n={},r=lf(t,["_self"]);null!=r&&af(n,["image"],function(e,t){const n={},r=lf(t,["gcsUri"]);null!=r&&af(n,["gcsUri"],r);const o=lf(t,["bytesBase64Encoded"]);null!=o&&af(n,["imageBytes"],Dp(0,o));const i=lf(t,["mimeType"]);return null!=i&&af(n,["mimeType"],i),n}(0,r));const o=lf(t,["raiFilteredReason"]);null!=o&&af(n,["raiFilteredReason"],o);const i=lf(t,["_self"]);null!=i&&af(n,["safetyAttributes"],gg(0,i));const s=lf(t,["prompt"]);return null!=s&&af(n,["enhancedPrompt"],s),n}function vg(e,t){const n={},r=lf(t,["name"]);null!=r&&af(n,["name"],r);const o=lf(t,["displayName"]);null!=o&&af(n,["displayName"],o);const i=lf(t,["description"]);null!=i&&af(n,["description"],i);const s=lf(t,["versionId"]);null!=s&&af(n,["version"],s);const a=lf(t,["deployedModels"]);if(null!=a){let e=a;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=lf(t,["endpoint"]);null!=r&&af(n,["name"],r);const o=lf(t,["deployedModelId"]);return null!=o&&af(n,["deployedModelId"],o),n}(0,e)))),af(n,["endpoints"],e)}const l=lf(t,["labels"]);null!=l&&af(n,["labels"],l);const u=lf(t,["_self"]);null!=u&&af(n,["tunedModelInfo"],function(e,t){const n={},r=lf(t,["labels","google-vertex-llm-tuning-base-model-id"]);null!=r&&af(n,["baseModel"],r);const o=lf(t,["createTime"]);null!=o&&af(n,["createTime"],o);const i=lf(t,["updateTime"]);return null!=i&&af(n,["updateTime"],i),n}(0,u));const c=lf(t,["defaultCheckpointId"]);null!=c&&af(n,["defaultCheckpointId"],c);const d=lf(t,["checkpoints"]);if(null!=d){let e=d;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=lf(t,["checkpointId"]);null!=r&&af(n,["checkpointId"],r);const o=lf(t,["epoch"]);null!=o&&af(n,["epoch"],o);const i=lf(t,["step"]);return null!=i&&af(n,["step"],i),n}(0,e)))),af(n,["checkpoints"],e)}return n}function bg(e,t){const n={},r=lf(t,["_self"]);return null!=r&&af(n,["video"],function(e,t){const n={},r=lf(t,["gcsUri"]);null!=r&&af(n,["uri"],r);const o=lf(t,["bytesBase64Encoded"]);null!=o&&af(n,["videoBytes"],Dp(0,o));const i=lf(t,["mimeType"]);return null!=i&&af(n,["mimeType"],i),n}(0,r)),n}function wg(e,t){const n={},r=lf(t,["name"]);null!=r&&af(n,["name"],r);const o=lf(t,["metadata"]);null!=o&&af(n,["metadata"],o);const i=lf(t,["done"]);null!=i&&af(n,["done"],i);const s=lf(t,["error"]);null!=s&&af(n,["error"],s);const a=lf(t,["response"]);return null!=a&&af(n,["response"],function(e,t){const n={},r=lf(t,["videos"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>bg(0,e)))),af(n,["generatedVideos"],e)}const o=lf(t,["raiMediaFilteredCount"]);null!=o&&af(n,["raiMediaFilteredCount"],o);const i=lf(t,["raiMediaFilteredReasons"]);return null!=i&&af(n,["raiMediaFilteredReasons"],i),n}(0,a)),n}const _g="x-goog-api-client",xg=/^data: (.*)(?:\n\n|\r\r|\r\n\r\n)/;class Cg extends Error{constructor(e,t){super(e,t?{cause:t}:{cause:(new Error).stack}),this.message=e,this.name="ClientError"}}class Eg extends Error{constructor(e,t){super(e,t?{cause:t}:{cause:(new Error).stack}),this.message=e,this.name="ServerError"}}class Sg{constructor(e){var t,n;this.clientOptions=Object.assign(Object.assign({},e),{project:e.project,location:e.location,apiKey:e.apiKey,vertexai:e.vertexai});const r={};this.clientOptions.vertexai?(r.apiVersion=null!==(t=this.clientOptions.apiVersion)&&void 0!==t?t:"v1beta1",r.baseUrl=this.baseUrlFromProjectLocation(),this.normalizeAuthParameters()):(r.apiVersion=null!==(n=this.clientOptions.apiVersion)&&void 0!==n?n:"v1beta",r.baseUrl="https://generativelanguage.googleapis.com/"),r.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=r,e.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(r,e.httpOptions))}baseUrlFromProjectLocation(){return this.clientOptions.project&&this.clientOptions.location&&"global"!==this.clientOptions.location?`https://${this.clientOptions.location}-aiplatform.googleapis.com/`:"https://aiplatform.googleapis.com/"}normalizeAuthParameters(){this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:(this.clientOptions.project=void 0,this.clientOptions.location=void 0)}isVertexAI(){var e;return null!==(e=this.clientOptions.vertexai)&&void 0!==e&&e}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getApiVersion(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.apiVersion)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.baseUrl)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&void 0!==this.clientOptions.httpOptions.headers)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(e){if(!e||void 0===e.baseUrl||void 0===e.apiVersion)throw new Error("HTTP options are not correctly set.");const t=[e.baseUrl.endsWith("/")?e.baseUrl.slice(0,-1):e.baseUrl];return e.apiVersion&&""!==e.apiVersion&&t.push(e.apiVersion),t.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const e=this.getBaseUrl(),t=new URL(e);return t.protocol="http:"==t.protocol?"ws":"wss",t.toString()}setBaseUrl(e){if(!this.clientOptions.httpOptions)throw new Error("HTTP options are not correctly set.");this.clientOptions.httpOptions.baseUrl=e}constructUrl(e,t,n){const r=[this.getRequestUrlInternal(t)];n&&r.push(this.getBaseResourcePath()),""!==e&&r.push(e);return new URL(`${r.join("/")}`)}shouldPrependVertexProjectPath(e){return!this.clientOptions.apiKey&&(!!this.clientOptions.vertexai&&(!e.path.startsWith("projects/")&&("GET"!==e.httpMethod||!e.path.startsWith("publishers/google/models"))))}async request(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);if(e.queryParams)for(const[i,s]of Object.entries(e.queryParams))r.searchParams.append(i,String(s));let o={};if("GET"===e.httpMethod){if(e.body&&"{}"!==e.body)throw new Error("Request body should be empty for GET request, but got non empty request body")}else o.body=e.body;return o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.unaryApiCall(r,o,e.httpMethod)}patchHttpOptions(e,t){const n=JSON.parse(JSON.stringify(e));for(const[r,o]of Object.entries(t))"object"===typeof o?n[r]=Object.assign(Object.assign({},n[r]),o):void 0!==o&&(n[r]=o);return n}async requestStream(e){let t=this.clientOptions.httpOptions;e.httpOptions&&(t=this.patchHttpOptions(this.clientOptions.httpOptions,e.httpOptions));const n=this.shouldPrependVertexProjectPath(e),r=this.constructUrl(e.path,t,n);r.searchParams.has("alt")&&"sse"===r.searchParams.get("alt")||r.searchParams.set("alt","sse");let o={};return o.body=e.body,o=await this.includeExtraHttpOptionsToRequestInit(o,t,e.abortSignal),this.streamApiCall(r,o,e.httpMethod)}async includeExtraHttpOptionsToRequestInit(e,t,n){if(t&&t.timeout||n){const r=new AbortController,o=r.signal;t.timeout&&(null===t||void 0===t?void 0:t.timeout)>0&&setTimeout((()=>r.abort()),t.timeout),n&&n.addEventListener("abort",(()=>{r.abort()})),e.signal=o}return e.headers=await this.getHeadersInternal(t),e}async unaryApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then((async e=>(await kg(e),new ap(e)))).catch((e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))}))}async streamApiCall(e,t,n){return this.apiCall(e.toString(),Object.assign(Object.assign({},t),{method:n})).then((async e=>(await kg(e),this.processStreamResponse(e)))).catch((e=>{throw e instanceof Error?e:new Error(JSON.stringify(e))}))}processStreamResponse(e){var t;return yh(this,arguments,(function*(){const n=null===(t=null===e||void 0===e?void 0:e.body)||void 0===t?void 0:t.getReader(),r=new TextDecoder("utf-8");if(!n)throw new Error("Response body is empty");try{let t="";for(;;){const{done:o,value:i}=yield gh(n.read());if(o){if(t.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const s=r.decode(i);try{const e=JSON.parse(s);if("error"in e){const t=JSON.parse(JSON.stringify(e.error)),n=t.status,r=t.code,o=`got status: ${n}. ${JSON.stringify(e)}`;if(r>=400&&r<500){throw new Cg(o)}if(r>=500&&r<600){throw new Eg(o)}}}catch(Cx){const t=Cx;if("ClientError"===t.name||"ServerError"===t.name)throw Cx}t+=s;let a=t.match(xg);for(;a;){const n=a[1];try{const r=new Response(n,{headers:null===e||void 0===e?void 0:e.headers,status:null===e||void 0===e?void 0:e.status,statusText:null===e||void 0===e?void 0:e.statusText});yield yield gh(new ap(r)),t=t.slice(a[0].length),a=t.match(xg)}catch(Cx){throw new Error(`exception parsing stream chunk ${n}. ${Cx}`)}}}}finally{n.releaseLock()}}))}async apiCall(e,t){return fetch(e,t).catch((e=>{throw new Error(`exception ${e} sending request`)}))}getDefaultHeaders(){const e={},t="google-genai-sdk/1.4.0 "+this.clientOptions.userAgentExtra;return e["User-Agent"]=t,e[_g]=t,e["Content-Type"]="application/json",e}async getHeadersInternal(e){const t=new Headers;if(e&&e.headers){for(const[n,r]of Object.entries(e.headers))t.append(n,r);e.timeout&&e.timeout>0&&t.append("X-Server-Timeout",String(Math.ceil(e.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(t),t}async uploadFile(e,t){var n;const r={};null!=t&&(r.mimeType=t.mimeType,r.name=t.name,r.displayName=t.displayName),r.name&&!r.name.startsWith("files/")&&(r.name=`files/${r.name}`);const o=this.clientOptions.uploader,i=await o.stat(e);r.sizeBytes=String(i.size);const s=null!==(n=null===t||void 0===t?void 0:t.mimeType)&&void 0!==n?n:i.type;if(void 0===s||""===s)throw new Error("Can not determine mimeType. Please provide mimeType in the config.");r.mimeType=s;const a=await this.fetchUploadUrl(r,t);return o.upload(e,a,this)}async downloadFile(e){const t=this.clientOptions.downloader;await t.download(e,this)}async fetchUploadUrl(e,t){var n;let r={};r=(null===t||void 0===t?void 0:t.httpOptions)?t.httpOptions:{apiVersion:"",headers:{"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${e.sizeBytes}`,"X-Goog-Upload-Header-Content-Type":`${e.mimeType}`}};const o={file:e},i=await this.request({path:sf("upload/v1beta/files",o._url),body:JSON.stringify(o),httpMethod:"POST",httpOptions:r});if(!i||!(null===i||void 0===i?void 0:i.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const s=null===(n=null===i||void 0===i?void 0:i.headers)||void 0===n?void 0:n["x-goog-upload-url"];if(void 0===s)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return s}}async function kg(e){var t;if(void 0===e)throw new Eg("response is undefined");if(!e.ok){const n=e.status,r=e.statusText;let o;o=(null===(t=e.headers.get("content-type"))||void 0===t?void 0:t.includes("application/json"))?await e.json():{error:{message:await e.text(),code:e.status,status:e.statusText}};const i=`got status: ${n} ${r}. ${JSON.stringify(o)}`;if(n>=400&&n<500){throw new Cg(i)}if(n>=500&&n<600){throw new Eg(i)}throw new Error(i)}}function Tg(e){for(const t of e){if(Ag(t))return!0;if("object"===typeof t&&"inputSchema"in t)return!0}return!1}function Og(e){var t;const n=null!==(t=e[_g])&&void 0!==t?t:"";e[_g]=(n+" mcp_used/unknown").trimStart()}function Ag(e){return null!==e&&"object"===typeof e&&e instanceof Ng}function Ig(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return yh(this,arguments,(function*(){let n,r=0;for(;r<t;){const t=yield gh(e.listTools({cursor:n}));for(const e of t.tools)yield yield gh(e),r++;if(!t.nextCursor)break;n=t.nextCursor}}))}class Ng{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=e,this.config=t}static create(e,t){return new Ng(e,t)}async initialize(){var e,t,n,r;if(this.mcpTools.length>0)return;const o={},i=[];for(const c of this.mcpClients)try{for(var s,a=!0,l=(t=void 0,vh(Ig(c)));!(e=(s=await l.next()).done);a=!0){r=s.value,a=!1;const e=r;i.push(e);const t=e.name;if(o[t])throw new Error(`Duplicate function name ${t} found in MCP tools. Please ensure function names are unique.`);o[t]=c}}catch(u){t={error:u}}finally{try{a||e||!(n=l.return)||await n.call(l)}finally{if(t)throw t.error}}this.mcpTools=i,this.functionNameToMcpClient=o}async tool(){return await this.initialize(),function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[],r=new Set;for(const o of e){const e=o.name;if(r.has(e))throw new Error(`Duplicate function name ${e} found in MCP tools. Please ensure function names are unique.`);r.add(e);const i=Fp(o,t);i.functionDeclarations&&n.push(...i.functionDeclarations)}return{functionDeclarations:n}}(this.mcpTools,this.config)}async callTool(e){await this.initialize();const t=[];for(const n of e)if(n.name in this.functionNameToMcpClient){const e=this.functionNameToMcpClient[n.name],r=await e.callTool({name:n.name,arguments:n.args});t.push({functionResponse:{name:n.name,response:r.isError?{error:r}:r}})}return t}}class Rg{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n}async connect(e){var t,n;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const r=this.apiClient.getWebsocketBaseUrl(),o=this.apiClient.getApiVersion(),i=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}(this.apiClient.getDefaultHeaders()),s=`${r}/ws/google.ai.generativelanguage.${o}.GenerativeService.BidiGenerateMusic?key=${this.apiClient.getApiKey()}`;let a=()=>{};const l=new Promise((e=>{a=e})),u=e.callbacks,c=(this.apiClient,{onopen:function(){a({})},onmessage:e=>{!async function(e,t,n){const r=new dp;let o;o=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data);const i=mm(0,o);Object.assign(r,i),t(r)}(0,u.onmessage,e)},onerror:null!==(t=null===u||void 0===u?void 0:u.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null===u||void 0===u?void 0:u.onclose)&&void 0!==n?n:function(e){}}),d=this.webSocketFactory.create(s,function(e){const t={};return e.forEach(((e,n)=>{t[n]=e})),t}(i),c);d.connect(),await l;const f=fp(this.apiClient,e.model),p=Yh(this.apiClient,{model:f}),h=Xh(this.apiClient,{setup:p});return d.send(JSON.stringify(h)),new Pg(d,this.apiClient)}}class Pg{constructor(e,t){this.conn=e,this.apiClient=t}async setWeightedPrompts(e){if(!e.weightedPrompts||0===Object.keys(e.weightedPrompts).length)throw new Error("Weighted prompts must be set and contain at least one entry.");const t=function(e,t){const n={},r=lf(t,["weightedPrompts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Kh(0,e)))),af(n,["weightedPrompts"],e)}return n}(this.apiClient,e),n=Zh(this.apiClient,t);this.conn.send(JSON.stringify({clientContent:n}))}async setMusicGenerationConfig(e){e.musicGenerationConfig||(e.musicGenerationConfig={});const t=function(e,t){const n={},r=lf(t,["musicGenerationConfig"]);return null!=r&&af(n,["musicGenerationConfig"],Jh(0,r)),n}(this.apiClient,e),n=Xh(this.apiClient,t);this.conn.send(JSON.stringify(n))}sendPlaybackControl(e){const t=Xh(this.apiClient,{playbackControl:e});this.conn.send(JSON.stringify(t))}play(){this.sendPlaybackControl(Gf.PLAY)}pause(){this.sendPlaybackControl(Gf.PAUSE)}stop(){this.sendPlaybackControl(Gf.STOP)}resetContext(){this.sendPlaybackControl(Gf.RESET_CONTEXT)}close(){this.conn.close()}}class jg{constructor(e,t,n){this.apiClient=e,this.auth=t,this.webSocketFactory=n,this.music=new Rg(this.apiClient,this.auth,this.webSocketFactory)}async connect(e){var t,n,r,o,i,s;const a=this.apiClient.getWebsocketBaseUrl(),l=this.apiClient.getApiVersion();let u;const c=this.apiClient.getDefaultHeaders();e.config&&e.config.tools&&Tg(e.config.tools)&&Og(c);const d=function(e){const t=new Headers;for(const[n,r]of Object.entries(e))t.append(n,r);return t}(c);if(this.apiClient.isVertexAI())u=`${a}/ws/google.cloud.aiplatform.${l}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(d);else{const e=this.apiClient.getApiKey();let t="BidiGenerateContent",n="key";(null===e||void 0===e?void 0:e.startsWith("auth_tokens/"))&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),t="BidiGenerateContentConstrained",n="access_token"),u=`${a}/ws/google.ai.generativelanguage.${l}.GenerativeService.${t}?${n}=${e}`}let f=()=>{};const p=new Promise((e=>{f=e})),h=e.callbacks,m=this.apiClient,g={onopen:function(){var e;null===(e=null===h||void 0===h?void 0:h.onopen)||void 0===e||e.call(h),f({})},onmessage:e=>{!async function(e,t,n){const r=new cp;let o;if(o=n.data instanceof Blob?JSON.parse(await n.data.text()):JSON.parse(n.data),e.isVertexAI()){const e=dm(0,o);Object.assign(r,e)}else{const e=cm(0,o);Object.assign(r,e)}t(r)}(m,h.onmessage,e)},onerror:null!==(t=null===h||void 0===h?void 0:h.onerror)&&void 0!==t?t:function(e){},onclose:null!==(n=null===h||void 0===h?void 0:h.onclose)&&void 0!==n?n:function(e){}},y=this.webSocketFactory.create(u,function(e){const t={};return e.forEach(((e,n)=>{t[n]=e})),t}(d),g);y.connect(),await p;let v=fp(this.apiClient,e.model);if(this.apiClient.isVertexAI()&&v.startsWith("publishers/")){v=`projects/${this.apiClient.getProject()}/locations/${this.apiClient.getLocation()}/`+v}let b={};this.apiClient.isVertexAI()&&void 0===(null===(r=e.config)||void 0===r?void 0:r.responseModalities)&&(void 0===e.config?e.config={responseModalities:[xf.AUDIO]}:e.config.responseModalities=[xf.AUDIO]),(null===(o=e.config)||void 0===o?void 0:o.generationConfig)&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const w=null!==(s=null===(i=e.config)||void 0===i?void 0:i.tools)&&void 0!==s?s:[],_=[];for(const C of w)if(this.isCallableTool(C)){const e=C;_.push(await e.tool())}else _.push(C);_.length>0&&(e.config.tools=_);const x={model:v,config:e.config,callbacks:e.callbacks};return b=this.apiClient.isVertexAI()?function(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["setup","model"],fp(e,r));const o=lf(t,["config"]);return null!=o&&af(n,["config"],zh(0,o,n)),n}(this.apiClient,x):function(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["setup","model"],fp(e,r));const o=lf(t,["config"]);return null!=o&&af(n,["config"],Vh(0,o,n)),n}(this.apiClient,x),delete b.config,y.send(JSON.stringify(b)),new Mg(y,this.apiClient)}isCallableTool(e){return"callTool"in e&&"function"===typeof e.callTool}}const Dg={turnComplete:!0};class Mg{constructor(e,t){this.conn=e,this.apiClient=t}tLiveClientContent(e,t){if(null!==t.turns&&void 0!==t.turns){let n=[];try{n=Cp(0,t.turns),n=e.isVertexAI()?n.map((e=>jm(0,e))):n.map((e=>ym(0,e)))}catch(uc){throw new Error(`Failed to parse client content "turns", type: '${typeof t.turns}'`)}return{clientContent:{turns:n,turnComplete:t.turnComplete}}}return{clientContent:{turnComplete:t.turnComplete}}}tLiveClienttToolResponse(e,t){let n=[];if(null==t.functionResponses)throw new Error("functionResponses is required.");if(n=Array.isArray(t.functionResponses)?t.functionResponses:[t.functionResponses],0===n.length)throw new Error("functionResponses is required.");for(const r of n){if("object"!==typeof r||null===r||!("name"in r)||!("response"in r))throw new Error(`Could not parse function response, type '${typeof r}'.`);if(!e.isVertexAI()&&!("id"in r))throw new Error("FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.")}return{toolResponse:{functionResponses:n}}}sendClientContent(e){e=Object.assign(Object.assign({},Dg),e);const t=this.tLiveClientContent(this.apiClient,e);this.conn.send(JSON.stringify(t))}sendRealtimeInput(e){let t={};t=this.apiClient.isVertexAI()?{realtimeInput:Gh(this.apiClient,e)}:{realtimeInput:Wh(this.apiClient,e)},this.conn.send(JSON.stringify(t))}sendToolResponse(e){if(null==e.functionResponses)throw new Error("Tool response parameters are required.");const t=this.tLiveClienttToolResponse(this.apiClient,e);this.conn.send(JSON.stringify(t))}close(){this.conn.close()}}function Lg(e){var t,n,r;if(null===(t=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.disable)return!0;let o=!1;for(const s of null!==(n=null===e||void 0===e?void 0:e.tools)&&void 0!==n?n:[])if(Ug(s)){o=!0;break}if(!o)return!0;const i=null===(r=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===r?void 0:r.maximumRemoteCalls;return!!(i&&(i<0||!Number.isInteger(i))||0==i)&&(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",i),!0)}function Ug(e){return"callTool"in e&&"function"===typeof e.callTool}function Fg(e){var t;return!(null===(t=null===e||void 0===e?void 0:e.automaticFunctionCalling)||void 0===t?void 0:t.ignoreCallHistory)}class $g extends of{constructor(e){super(),this.apiClient=e,this.generateContent=async e=>{var t,n,r,o,i;const s=await this.processParamsForMcpUsage(e);if(!function(e){var t,n,r;return null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some((e=>Ag(e))))&&void 0!==r&&r}(e)||Lg(e.config))return await this.generateContentInternal(s);if(function(e){var t,n,r;return null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.tools)||void 0===n?void 0:n.some((e=>!Ag(e))))&&void 0!==r&&r}(e))throw new Error("Automatic function calling with CallableTools and Tools is not yet supported.");let a,l;const u=Cp(this.apiClient,s.contents),c=null!==(r=null===(n=null===(t=s.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let d=0;for(;d<c&&(a=await this.generateContentInternal(s),a.functionCalls&&0!==a.functionCalls.length);){const t=a.candidates[0].content,n=[];for(const r of null!==(i=null===(o=e.config)||void 0===o?void 0:o.tools)&&void 0!==i?i:[])if(Ug(r)){const e=r,t=await e.callTool(a.functionCalls);n.push(...t)}d++,l={role:"user",parts:n},s.contents=Cp(this.apiClient,s.contents),s.contents.push(t),s.contents.push(l),Fg(s.config)&&(u.push(t),u.push(l))}return Fg(s.config)&&(a.automaticFunctionCallingHistory=u),a},this.generateContentStream=async e=>{if(Lg(e.config)){const t=await this.processParamsForMcpUsage(e);return await this.generateContentStreamInternal(t)}return await this.processAfcStream(e)},this.generateImages=async e=>await this.generateImagesInternal(e).then((e=>{var t;let n;const r=[];if(null===e||void 0===e?void 0:e.generatedImages)for(const i of e.generatedImages)i&&(null===i||void 0===i?void 0:i.safetyAttributes)&&"Positive Prompt"===(null===(t=null===i||void 0===i?void 0:i.safetyAttributes)||void 0===t?void 0:t.contentType)?n=null===i||void 0===i?void 0:i.safetyAttributes:r.push(i);let o;return o=n?{generatedImages:r,positivePromptSafetyAttributes:n}:{generatedImages:r},o})),this.list=async e=>{var t;const n={config:Object.assign(Object.assign({},{queryBase:!0}),null===e||void 0===e?void 0:e.config)};if(this.apiClient.isVertexAI()&&!n.config.queryBase){if(null===(t=n.config)||void 0===t?void 0:t.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");n.config.filter="labels.tune-type:*"}return new ph(fh.PAGED_ITEM_MODELS,(e=>this.listInternal(e)),await this.listInternal(n),n)},this.editImage=async e=>{const t={model:e.model,prompt:e.prompt,referenceImages:[],config:e.config};return e.referenceImages&&e.referenceImages&&(t.referenceImages=e.referenceImages.map((e=>e.toReferenceImageAPI()))),await this.editImageInternal(t)},this.upscaleImage=async e=>{let t={numberOfImages:1,mode:"upscale"};e.config&&(t=Object.assign(Object.assign({},t),e.config));const n={model:e.model,image:e.image,upscaleFactor:e.upscaleFactor,config:t};return await this.upscaleImageInternal(n)}}async processParamsForMcpUsage(e){var t,n,r;const o=null===(t=e.config)||void 0===t?void 0:t.tools;if(!o)return e;const i=await Promise.all(o.map((async e=>{if(Ug(e)){const t=e;return await t.tool()}return e}))),s={model:e.model,contents:e.contents,config:Object.assign(Object.assign({},e.config),{tools:i})};if(s.config.tools=i,e.config&&e.config.tools&&Tg(e.config.tools)){const t=null!==(r=null===(n=e.config.httpOptions)||void 0===n?void 0:n.headers)&&void 0!==r?r:{};let o=Object.assign({},t);0===Object.keys(o).length&&(o=this.apiClient.getDefaultHeaders()),Og(o),s.config.httpOptions=Object.assign(Object.assign({},e.config.httpOptions),{headers:o})}return s}async initAfcToolsMap(e){var t,n,r;const o=new Map;for(const i of null!==(n=null===(t=e.config)||void 0===t?void 0:t.tools)&&void 0!==n?n:[])if(Ug(i)){const e=i,t=await e.tool();for(const n of null!==(r=t.functionDeclarations)&&void 0!==r?r:[]){if(!n.name)throw new Error("Function declaration name is required.");if(o.has(n.name))throw new Error(`Duplicate tool declaration name: ${n.name}`);o.set(n.name,e)}}return o}async processAfcStream(e){var t,n,r;const o=null!==(r=null===(n=null===(t=e.config)||void 0===t?void 0:t.automaticFunctionCalling)||void 0===n?void 0:n.maximumRemoteCalls)&&void 0!==r?r:10;let i=!1,s=0;return function(e,t,n){var r,a;return yh(this,arguments,(function*(){for(var l,u,c,d;s<o;){i&&(s++,i=!1);const g=yield gh(e.processParamsForMcpUsage(n)),y=yield gh(e.generateContentStreamInternal(g)),v=[],b=[];try{for(var f,p=!0,h=(u=void 0,vh(y));!(l=(f=yield gh(h.next())).done);p=!0){d=f.value,p=!1;const e=d;if(yield yield gh(e),e.candidates&&(null===(r=e.candidates[0])||void 0===r?void 0:r.content)){b.push(e.candidates[0].content);for(const n of null!==(a=e.candidates[0].content.parts)&&void 0!==a?a:[])if(s<o&&n.functionCall){if(!n.functionCall.name)throw new Error("Function call name was not returned by the model.");if(!t.has(n.functionCall.name))throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${t.keys()}, mising tool: ${n.functionCall.name}`);{const e=yield gh(t.get(n.functionCall.name).callTool([n.functionCall]));v.push(...e)}}}}}catch(m){u={error:m}}finally{try{p||l||!(c=h.return)||(yield gh(c.call(h)))}finally{if(u)throw u.error}}if(!(v.length>0))break;{i=!0;const t=new Kf;t.candidates=[{content:{role:"user",parts:v}}],yield yield gh(t);const r=[];r.push(...b),r.push({role:"user",parts:v});const o=Cp(e.apiClient,n.contents).concat(r);n.contents=o}}}))}(this,await this.initAfcToolsMap(e),e)}async generateContentInternal(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=Hm(this.apiClient,e);return s=sf("{model}:generateContent",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>{const t=pg(this.apiClient,e),n=new Kf;return Object.assign(n,t),n}))}{const t=km(this.apiClient,e);return s=sf("{model}:generateContent",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>{const t=rg(this.apiClient,e),n=new Kf;return Object.assign(n,t),n}))}}async generateContentStreamInternal(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=Hm(this.apiClient,e);s=sf("{model}:streamGenerateContent?alt=sse",r._url),a=r._query,delete r.config,delete r._url,delete r._query;const o=this.apiClient;return i=o.requestStream({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}),i.then((function(e){return yh(this,arguments,(function*(){var t,n,r,o;try{for(var i,s=!0,a=vh(e);!(t=(i=yield gh(a.next())).done);s=!0){o=i.value,s=!1;const e=o,t=pg(0,yield gh(e.json())),n=new Kf;Object.assign(n,t),yield yield gh(n)}}catch(l){n={error:l}}finally{try{s||t||!(r=a.return)||(yield gh(r.call(a)))}finally{if(n)throw n.error}}}))}))}{const t=km(this.apiClient,e);s=sf("{model}:streamGenerateContent?alt=sse",t._url),a=t._query,delete t.config,delete t._url,delete t._query;const n=this.apiClient;return i=n.requestStream({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}),i.then((function(e){return yh(this,arguments,(function*(){var t,n,r,o;try{for(var i,s=!0,a=vh(e);!(t=(i=yield gh(a.next())).done);s=!0){o=i.value,s=!1;const e=o,t=rg(0,yield gh(e.json())),n=new Kf;Object.assign(n,t),yield yield gh(n)}}catch(l){n={error:l}}finally{try{s||t||!(r=a.return)||(yield gh(r.call(a)))}finally{if(n)throw n.error}}}))}))}}async embedContent(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=Vm(this.apiClient,e);return s=sf("{model}:predict",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>{const t=mg(this.apiClient,e),n=new Jf;return Object.assign(n,t),n}))}{const t=Tm(this.apiClient,e);return s=sf("{model}:batchEmbedContents",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>{const t=og(this.apiClient,e),n=new Jf;return Object.assign(n,t),n}))}}async generateImagesInternal(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=zm(this.apiClient,e);return s=sf("{model}:predict",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>{const t=function(e,t){const n={},r=lf(t,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>yg(0,e)))),af(n,["generatedImages"],e)}const o=lf(t,["positivePromptSafetyAttributes"]);return null!=o&&af(n,["positivePromptSafetyAttributes"],gg(0,o)),n}(this.apiClient,e),n=new Yf;return Object.assign(n,t),n}))}{const t=Om(this.apiClient,e);return s=sf("{model}:predict",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>{const t=function(e,t){const n={},r=lf(t,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>sg(0,e)))),af(n,["generatedImages"],e)}const o=lf(t,["positivePromptSafetyAttributes"]);return null!=o&&af(n,["positivePromptSafetyAttributes"],ig(0,o)),n}(this.apiClient,e),n=new Yf;return Object.assign(n,t),n}))}}async editImageInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const s=Km(this.apiClient,e);return o=sf("{model}:predict",s._url),i=s._query,delete s.config,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((e=>{const t=function(e,t){const n={},r=lf(t,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>yg(0,e)))),af(n,["generatedImages"],e)}return n}(this.apiClient,e),n=new Zf;return Object.assign(n,t),n}))}throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const s=Jm(this.apiClient,e);return o=sf("{model}:predict",s._url),i=s._query,delete s.config,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((e=>{const t=function(e,t){const n={},r=lf(t,["predictions"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>yg(0,e)))),af(n,["generatedImages"],e)}return n}(this.apiClient,e),n=new Xf;return Object.assign(n,t),n}))}throw new Error("This method is only supported by the Vertex AI.")}async get(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["_url","name"],fp(e,r));const o=lf(t,["config"]);return null!=o&&af(n,["config"],o),n}(this.apiClient,e);return s=sf("{name}",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>vg(this.apiClient,e)))}{const t=function(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["_url","name"],fp(e,r));const o=lf(t,["config"]);return null!=o&&af(n,["config"],o),n}(this.apiClient,e);return s=sf("{name}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>ag(this.apiClient,e)))}}async listInternal(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=Ym(this.apiClient,e);return s=sf("{models_url}",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>{const t=function(e,t){const n={},r=lf(t,["nextPageToken"]);null!=r&&af(n,["nextPageToken"],r);const o=lf(t,["_self"]);if(null!=o){let e=Up(0,o);Array.isArray(e)&&(e=e.map((e=>vg(0,e)))),af(n,["models"],e)}return n}(this.apiClient,e),n=new Qf;return Object.assign(n,t),n}))}{const t=Am(this.apiClient,e);return s=sf("{models_url}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>{const t=function(e,t){const n={},r=lf(t,["nextPageToken"]);null!=r&&af(n,["nextPageToken"],r);const o=lf(t,["_self"]);if(null!=o){let e=Up(0,o);Array.isArray(e)&&(e=e.map((e=>ag(0,e)))),af(n,["models"],e)}return n}(this.apiClient,e),n=new Qf;return Object.assign(n,t),n}))}}async update(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=Zm(this.apiClient,e);return s=sf("{model}",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"PATCH",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>vg(this.apiClient,e)))}{const t=Im(this.apiClient,e);return s=sf("{name}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"PATCH",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>ag(this.apiClient,e)))}}async delete(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["_url","name"],fp(e,r));const o=lf(t,["config"]);return null!=o&&af(n,["config"],o),n}(this.apiClient,e);return s=sf("{name}",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"DELETE",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((()=>{const e={},t=new ep;return Object.assign(t,e),t}))}{const t=function(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["_url","name"],fp(e,r));const o=lf(t,["config"]);return null!=o&&af(n,["config"],o),n}(this.apiClient,e);return s=sf("{name}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"DELETE",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((()=>{const e={},t=new ep;return Object.assign(t,e),t}))}}async countTokens(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=Xm(this.apiClient,e);return s=sf("{model}:countTokens",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>{const t=function(e,t){const n={},r=lf(t,["totalTokens"]);return null!=r&&af(n,["totalTokens"],r),n}(this.apiClient,e),n=new tp;return Object.assign(n,t),n}))}{const t=Nm(this.apiClient,e);return s=sf("{model}:countTokens",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>{const t=function(e,t){const n={},r=lf(t,["totalTokens"]);null!=r&&af(n,["totalTokens"],r);const o=lf(t,["cachedContentTokenCount"]);return null!=o&&af(n,["cachedContentTokenCount"],o),n}(this.apiClient,e),n=new tp;return Object.assign(n,t),n}))}}async computeTokens(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const s=function(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["_url","model"],fp(e,r));const o=lf(t,["contents"]);if(null!=o){let e=Cp(0,o);Array.isArray(e)&&(e=e.map((e=>jm(0,e)))),af(n,["contents"],e)}const i=lf(t,["config"]);return null!=i&&af(n,["config"],i),n}(this.apiClient,e);return o=sf("{model}:computeTokens",s._url),i=s._query,delete s.config,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((e=>{const t=function(e,t){const n={},r=lf(t,["tokensInfo"]);return null!=r&&af(n,["tokensInfo"],r),n}(this.apiClient,e),n=new np;return Object.assign(n,t),n}))}throw new Error("This method is only supported by the Vertex AI.")}async generateVideos(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=Qm(this.apiClient,e);return s=sf("{model}:predictLongRunning",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>wg(this.apiClient,e)))}{const t=Rm(this.apiClient,e);return s=sf("{model}:predictLongRunning",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"POST",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>ug(this.apiClient,e)))}}}function Bg(e,t){const n={},r=lf(t,["_self"]);return null!=r&&af(n,["video"],function(e,t){const n={},r=lf(t,["video","uri"]);null!=r&&af(n,["uri"],r);const o=lf(t,["video","encodedVideo"]);null!=o&&af(n,["videoBytes"],Dp(0,o));const i=lf(t,["encoding"]);return null!=i&&af(n,["mimeType"],i),n}(0,r)),n}function qg(e,t){const n={},r=lf(t,["name"]);null!=r&&af(n,["name"],r);const o=lf(t,["metadata"]);null!=o&&af(n,["metadata"],o);const i=lf(t,["done"]);null!=i&&af(n,["done"],i);const s=lf(t,["error"]);null!=s&&af(n,["error"],s);const a=lf(t,["response","generateVideoResponse"]);return null!=a&&af(n,["response"],function(e,t){const n={},r=lf(t,["generatedSamples"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Bg(0,e)))),af(n,["generatedVideos"],e)}const o=lf(t,["raiMediaFilteredCount"]);null!=o&&af(n,["raiMediaFilteredCount"],o);const i=lf(t,["raiMediaFilteredReasons"]);return null!=i&&af(n,["raiMediaFilteredReasons"],i),n}(0,a)),n}function Hg(e,t){const n={},r=lf(t,["_self"]);return null!=r&&af(n,["video"],function(e,t){const n={},r=lf(t,["gcsUri"]);null!=r&&af(n,["uri"],r);const o=lf(t,["bytesBase64Encoded"]);null!=o&&af(n,["videoBytes"],Dp(0,o));const i=lf(t,["mimeType"]);return null!=i&&af(n,["mimeType"],i),n}(0,r)),n}function Vg(e,t){const n={},r=lf(t,["name"]);null!=r&&af(n,["name"],r);const o=lf(t,["metadata"]);null!=o&&af(n,["metadata"],o);const i=lf(t,["done"]);null!=i&&af(n,["done"],i);const s=lf(t,["error"]);null!=s&&af(n,["error"],s);const a=lf(t,["response"]);return null!=a&&af(n,["response"],function(e,t){const n={},r=lf(t,["videos"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Hg(0,e)))),af(n,["generatedVideos"],e)}const o=lf(t,["raiMediaFilteredCount"]);null!=o&&af(n,["raiMediaFilteredCount"],o);const i=lf(t,["raiMediaFilteredReasons"]);return null!=i&&af(n,["raiMediaFilteredReasons"],i),n}(0,a)),n}class zg extends of{constructor(e){super(),this.apiClient=e}async getVideosOperation(e){const t=e.operation,n=e.config;if(void 0===t.name||""===t.name)throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const e=t.name.split("/operations/")[0];let r;return n&&"httpOptions"in n&&(r=n.httpOptions),this.fetchPredictVideosOperationInternal({operationName:t.name,resourceName:e,config:{httpOptions:r}})}return this.getVideosOperationInternal({operationName:t.name,config:n})}async getVideosOperationInternal(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=lf(t,["operationName"]);null!=r&&af(n,["_url","operationName"],r);const o=lf(t,["config"]);return null!=o&&af(n,["config"],o),n}(this.apiClient,e);return s=sf("{operationName}",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>Vg(this.apiClient,e)))}{const t=function(e,t){const n={},r=lf(t,["operationName"]);null!=r&&af(n,["_url","operationName"],r);const o=lf(t,["config"]);return null!=o&&af(n,["config"],o),n}(this.apiClient,e);return s=sf("{operationName}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>qg(this.apiClient,e)))}}async fetchPredictVideosOperationInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const s=function(e,t){const n={},r=lf(t,["operationName"]);null!=r&&af(n,["operationName"],r);const o=lf(t,["resourceName"]);null!=o&&af(n,["_url","resourceName"],o);const i=lf(t,["config"]);return null!=i&&af(n,["config"],i),n}(this.apiClient,e);return o=sf("{resourceName}:fetchPredictOperation",s._url),i=s._query,delete s.config,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((e=>Vg(this.apiClient,e)))}throw new Error("This method is only supported by the Vertex AI.")}}function Wg(e,t){const n={},r=lf(t,["prebuiltVoiceConfig"]);return null!=r&&af(n,["prebuiltVoiceConfig"],function(e,t){const n={},r=lf(t,["voiceName"]);return null!=r&&af(n,["voiceName"],r),n}(0,r)),n}function Gg(e,t){const n={},r=lf(t,["speakerVoiceConfigs"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=lf(t,["speaker"]);null!=r&&af(n,["speaker"],r);const o=lf(t,["voiceConfig"]);return null!=o&&af(n,["voiceConfig"],Wg(0,o)),n}(0,e)))),af(n,["speakerVoiceConfigs"],e)}return n}function Kg(e,t){const n={},r=lf(t,["videoMetadata"]);null!=r&&af(n,["videoMetadata"],function(e,t){const n={},r=lf(t,["fps"]);null!=r&&af(n,["fps"],r);const o=lf(t,["endOffset"]);null!=o&&af(n,["endOffset"],o);const i=lf(t,["startOffset"]);return null!=i&&af(n,["startOffset"],i),n}(0,r));const o=lf(t,["thought"]);null!=o&&af(n,["thought"],o);const i=lf(t,["inlineData"]);null!=i&&af(n,["inlineData"],function(e,t){const n={};if(void 0!==lf(t,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=lf(t,["data"]);null!=r&&af(n,["data"],r);const o=lf(t,["mimeType"]);return null!=o&&af(n,["mimeType"],o),n}(0,i));const s=lf(t,["fileData"]);null!=s&&af(n,["fileData"],function(e,t){const n={};if(void 0!==lf(t,["displayName"]))throw new Error("displayName parameter is not supported in Gemini API.");const r=lf(t,["fileUri"]);null!=r&&af(n,["fileUri"],r);const o=lf(t,["mimeType"]);return null!=o&&af(n,["mimeType"],o),n}(0,s));const a=lf(t,["thoughtSignature"]);null!=a&&af(n,["thoughtSignature"],a);const l=lf(t,["codeExecutionResult"]);null!=l&&af(n,["codeExecutionResult"],l);const u=lf(t,["executableCode"]);null!=u&&af(n,["executableCode"],u);const c=lf(t,["functionCall"]);null!=c&&af(n,["functionCall"],c);const d=lf(t,["functionResponse"]);null!=d&&af(n,["functionResponse"],d);const f=lf(t,["text"]);return null!=f&&af(n,["text"],f),n}function Jg(e,t){const n={},r=lf(t,["timeRangeFilter"]);return null!=r&&af(n,["timeRangeFilter"],function(e,t){const n={},r=lf(t,["startTime"]);null!=r&&af(n,["startTime"],r);const o=lf(t,["endTime"]);return null!=o&&af(n,["endTime"],o),n}(0,r)),n}function Yg(e,t){const n={},r=lf(t,["dynamicRetrievalConfig"]);return null!=r&&af(n,["dynamicRetrievalConfig"],function(e,t){const n={},r=lf(t,["mode"]);null!=r&&af(n,["mode"],r);const o=lf(t,["dynamicThreshold"]);return null!=o&&af(n,["dynamicThreshold"],o),n}(0,r)),n}function Zg(e,t){const n={},r=lf(t,["functionDeclarations"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=lf(t,["behavior"]);null!=r&&af(n,["behavior"],r);const o=lf(t,["description"]);null!=o&&af(n,["description"],o);const i=lf(t,["name"]);null!=i&&af(n,["name"],i);const s=lf(t,["parameters"]);null!=s&&af(n,["parameters"],s);const a=lf(t,["response"]);return null!=a&&af(n,["response"],a),n}(0,e)))),af(n,["functionDeclarations"],e)}if(void 0!==lf(t,["retrieval"]))throw new Error("retrieval parameter is not supported in Gemini API.");const o=lf(t,["googleSearch"]);null!=o&&af(n,["googleSearch"],Jg(0,o));const i=lf(t,["googleSearchRetrieval"]);if(null!=i&&af(n,["googleSearchRetrieval"],Yg(0,i)),void 0!==lf(t,["enterpriseWebSearch"]))throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");if(void 0!==lf(t,["googleMaps"]))throw new Error("googleMaps parameter is not supported in Gemini API.");null!=lf(t,["urlContext"])&&af(n,["urlContext"],{});const s=lf(t,["codeExecution"]);return null!=s&&af(n,["codeExecution"],s),n}function Xg(e,t){const n={},r=lf(t,["automaticActivityDetection"]);null!=r&&af(n,["automaticActivityDetection"],function(e,t){const n={},r=lf(t,["disabled"]);null!=r&&af(n,["disabled"],r);const o=lf(t,["startOfSpeechSensitivity"]);null!=o&&af(n,["startOfSpeechSensitivity"],o);const i=lf(t,["endOfSpeechSensitivity"]);null!=i&&af(n,["endOfSpeechSensitivity"],i);const s=lf(t,["prefixPaddingMs"]);null!=s&&af(n,["prefixPaddingMs"],s);const a=lf(t,["silenceDurationMs"]);return null!=a&&af(n,["silenceDurationMs"],a),n}(0,r));const o=lf(t,["activityHandling"]);null!=o&&af(n,["activityHandling"],o);const i=lf(t,["turnCoverage"]);return null!=i&&af(n,["turnCoverage"],i),n}function Qg(e,t){const n={},r=lf(t,["triggerTokens"]);null!=r&&af(n,["triggerTokens"],r);const o=lf(t,["slidingWindow"]);return null!=o&&af(n,["slidingWindow"],function(e,t){const n={},r=lf(t,["targetTokens"]);return null!=r&&af(n,["targetTokens"],r),n}(0,o)),n}function ey(e,t,n){const r=lf(t,["generationConfig"]);void 0!==n&&null!=r&&af(n,["setup","generationConfig"],r);const o=lf(t,["responseModalities"]);void 0!==n&&null!=o&&af(n,["setup","generationConfig","responseModalities"],o);const i=lf(t,["temperature"]);void 0!==n&&null!=i&&af(n,["setup","generationConfig","temperature"],i);const s=lf(t,["topP"]);void 0!==n&&null!=s&&af(n,["setup","generationConfig","topP"],s);const a=lf(t,["topK"]);void 0!==n&&null!=a&&af(n,["setup","generationConfig","topK"],a);const l=lf(t,["maxOutputTokens"]);void 0!==n&&null!=l&&af(n,["setup","generationConfig","maxOutputTokens"],l);const u=lf(t,["mediaResolution"]);void 0!==n&&null!=u&&af(n,["setup","generationConfig","mediaResolution"],u);const c=lf(t,["seed"]);void 0!==n&&null!=c&&af(n,["setup","generationConfig","seed"],c);const d=lf(t,["speechConfig"]);void 0!==n&&null!=d&&af(n,["setup","generationConfig","speechConfig"],function(e,t){const n={},r=lf(t,["voiceConfig"]);null!=r&&af(n,["voiceConfig"],Wg(0,r));const o=lf(t,["multiSpeakerVoiceConfig"]);null!=o&&af(n,["multiSpeakerVoiceConfig"],Gg(0,o));const i=lf(t,["languageCode"]);return null!=i&&af(n,["languageCode"],i),n}(0,Ip(0,d)));const f=lf(t,["enableAffectiveDialog"]);void 0!==n&&null!=f&&af(n,["setup","generationConfig","enableAffectiveDialog"],f);const p=lf(t,["systemInstruction"]);void 0!==n&&null!=p&&af(n,["setup","systemInstruction"],function(e,t){const n={},r=lf(t,["parts"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>Kg(0,e)))),af(n,["parts"],e)}const o=lf(t,["role"]);return null!=o&&af(n,["role"],o),n}(0,_p(0,p)));const h=lf(t,["tools"]);if(void 0!==n&&null!=h){let e=Rp(0,h);Array.isArray(e)&&(e=e.map((e=>Zg(0,Np(0,e))))),af(n,["setup","tools"],e)}const m=lf(t,["sessionResumption"]);void 0!==n&&null!=m&&af(n,["setup","sessionResumption"],function(e,t){const n={},r=lf(t,["handle"]);if(null!=r&&af(n,["handle"],r),void 0!==lf(t,["transparent"]))throw new Error("transparent parameter is not supported in Gemini API.");return n}(0,m));const g=lf(t,["inputAudioTranscription"]);void 0!==n&&null!=g&&af(n,["setup","inputAudioTranscription"],{});const y=lf(t,["outputAudioTranscription"]);void 0!==n&&null!=y&&af(n,["setup","outputAudioTranscription"],{});const v=lf(t,["realtimeInputConfig"]);void 0!==n&&null!=v&&af(n,["setup","realtimeInputConfig"],Xg(0,v));const b=lf(t,["contextWindowCompression"]);void 0!==n&&null!=b&&af(n,["setup","contextWindowCompression"],Qg(0,b));const w=lf(t,["proactivity"]);return void 0!==n&&null!=w&&af(n,["setup","proactivity"],function(e,t){const n={},r=lf(t,["proactiveAudio"]);return null!=r&&af(n,["proactiveAudio"],r),n}(0,w)),{}}function ty(e,t,n){const r=lf(t,["expireTime"]);void 0!==n&&null!=r&&af(n,["expireTime"],r);const o=lf(t,["newSessionExpireTime"]);void 0!==n&&null!=o&&af(n,["newSessionExpireTime"],o);const i=lf(t,["uses"]);void 0!==n&&null!=i&&af(n,["uses"],i);const s=lf(t,["liveConnectConstraints"]);void 0!==n&&null!=s&&af(n,["bidiGenerateContentSetup"],function(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["setup","model"],fp(e,r));const o=lf(t,["config"]);return null!=o&&af(n,["config"],ey(0,o,n)),n}(e,s));const a=lf(t,["lockAdditionalFields"]);return void 0!==n&&null!=a&&af(n,["fieldMask"],a),{}}function ny(e,t){let n=null;const r=e.bidiGenerateContentSetup;if("object"===typeof r&&null!==r&&"setup"in r){const t=r.setup;"object"===typeof t&&null!==t?(e.bidiGenerateContentSetup=t,n=t):delete e.bidiGenerateContentSetup}else void 0!==r&&delete e.bidiGenerateContentSetup;const o=e.fieldMask;if(n){const r=function(e){const t=[];for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){const r=e[n];if("object"===typeof r&&null!=r&&Object.keys(r).length>0){const e=Object.keys(r).map((e=>`${n}.${e}`));t.push(...e)}else t.push(n)}return t.join(",")}(n);if(Array.isArray(null===t||void 0===t?void 0:t.lockAdditionalFields)&&0===(null===t||void 0===t?void 0:t.lockAdditionalFields.length))r?e.fieldMask=r:delete e.fieldMask;else if((null===t||void 0===t?void 0:t.lockAdditionalFields)&&t.lockAdditionalFields.length>0&&null!==o&&Array.isArray(o)&&o.length>0){const t=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let n=[];o.length>0&&(n=o.map((e=>t.includes(e)?`generationConfig.${e}`:e)));const i=[];r&&i.push(r),n.length>0&&i.push(...n),i.length>0?e.fieldMask=i.join(","):delete e.fieldMask}else delete e.fieldMask}else null!==o&&Array.isArray(o)&&o.length>0?e.fieldMask=o.join(","):delete e.fieldMask;return e}class ry extends of{constructor(e){super(),this.apiClient=e}async create(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const s=function(e,t){const n={},r=lf(t,["config"]);return null!=r&&af(n,["config"],ty(e,r,n)),n}(this.apiClient,e);o=sf("auth_tokens",s._url),i=s._query,delete s.config,delete s._url,delete s._query;const a=ny(s,e.config);return r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(a),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((e=>function(e,t){const n={},r=lf(t,["name"]);return null!=r&&af(n,["name"],r),n}(this.apiClient,e)))}}}function oy(e,t){const n={},r=lf(t,["config"]);return null!=r&&af(n,["config"],function(e,t,n){const r=lf(t,["pageSize"]);void 0!==n&&null!=r&&af(n,["_query","pageSize"],r);const o=lf(t,["pageToken"]);void 0!==n&&null!=o&&af(n,["_query","pageToken"],o);const i=lf(t,["filter"]);return void 0!==n&&null!=i&&af(n,["_query","filter"],i),{}}(0,r,n)),n}function iy(e,t){const n={};if(void 0!==lf(t,["gcsUri"]))throw new Error("gcsUri parameter is not supported in Gemini API.");const r=lf(t,["examples"]);if(null!=r){let e=r;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=lf(t,["textInput"]);null!=r&&af(n,["textInput"],r);const o=lf(t,["output"]);return null!=o&&af(n,["output"],o),n}(0,e)))),af(n,["examples","examples"],e)}return n}function sy(e,t){const n={},r=lf(t,["baseModel"]);null!=r&&af(n,["baseModel"],r);const o=lf(t,["trainingDataset"]);null!=o&&af(n,["tuningTask","trainingData"],iy(0,o));const i=lf(t,["config"]);return null!=i&&af(n,["config"],function(e,t,n){const r={};if(void 0!==lf(t,["validationDataset"]))throw new Error("validationDataset parameter is not supported in Gemini API.");const o=lf(t,["tunedModelDisplayName"]);if(void 0!==n&&null!=o&&af(n,["displayName"],o),void 0!==lf(t,["description"]))throw new Error("description parameter is not supported in Gemini API.");const i=lf(t,["epochCount"]);void 0!==n&&null!=i&&af(n,["tuningTask","hyperparameters","epochCount"],i);const s=lf(t,["learningRateMultiplier"]);if(null!=s&&af(r,["tuningTask","hyperparameters","learningRateMultiplier"],s),void 0!==lf(t,["exportLastCheckpointOnly"]))throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(void 0!==lf(t,["adapterSize"]))throw new Error("adapterSize parameter is not supported in Gemini API.");const a=lf(t,["batchSize"]);void 0!==n&&null!=a&&af(n,["tuningTask","hyperparameters","batchSize"],a);const l=lf(t,["learningRate"]);return void 0!==n&&null!=l&&af(n,["tuningTask","hyperparameters","learningRate"],l),r}(0,i,n)),n}function ay(e,t){const n={},r=lf(t,["config"]);return null!=r&&af(n,["config"],function(e,t,n){const r=lf(t,["pageSize"]);void 0!==n&&null!=r&&af(n,["_query","pageSize"],r);const o=lf(t,["pageToken"]);void 0!==n&&null!=o&&af(n,["_query","pageToken"],o);const i=lf(t,["filter"]);return void 0!==n&&null!=i&&af(n,["_query","filter"],i),{}}(0,r,n)),n}function ly(e,t,n){const r=lf(t,["validationDataset"]);void 0!==n&&null!=r&&af(n,["supervisedTuningSpec"],function(e,t){const n={},r=lf(t,["gcsUri"]);return null!=r&&af(n,["validationDatasetUri"],r),n}(0,r));const o=lf(t,["tunedModelDisplayName"]);void 0!==n&&null!=o&&af(n,["tunedModelDisplayName"],o);const i=lf(t,["description"]);void 0!==n&&null!=i&&af(n,["description"],i);const s=lf(t,["epochCount"]);void 0!==n&&null!=s&&af(n,["supervisedTuningSpec","hyperParameters","epochCount"],s);const a=lf(t,["learningRateMultiplier"]);void 0!==n&&null!=a&&af(n,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],a);const l=lf(t,["exportLastCheckpointOnly"]);void 0!==n&&null!=l&&af(n,["supervisedTuningSpec","exportLastCheckpointOnly"],l);const u=lf(t,["adapterSize"]);if(void 0!==n&&null!=u&&af(n,["supervisedTuningSpec","hyperParameters","adapterSize"],u),void 0!==lf(t,["batchSize"]))throw new Error("batchSize parameter is not supported in Vertex AI.");if(void 0!==lf(t,["learningRate"]))throw new Error("learningRate parameter is not supported in Vertex AI.");return{}}function uy(e,t){const n={},r=lf(t,["baseModel"]);null!=r&&af(n,["baseModel"],r);const o=lf(t,["trainingDataset"]);null!=o&&af(n,["supervisedTuningSpec","trainingDatasetUri"],function(e,t,n){const r=lf(t,["gcsUri"]);if(void 0!==n&&null!=r&&af(n,["supervisedTuningSpec","trainingDatasetUri"],r),void 0!==lf(t,["examples"]))throw new Error("examples parameter is not supported in Vertex AI.");return{}}(0,o,n));const i=lf(t,["config"]);return null!=i&&af(n,["config"],ly(0,i,n)),n}function cy(e,t){const n={},r=lf(t,["name"]);null!=r&&af(n,["name"],r);const o=lf(t,["state"]);null!=o&&af(n,["state"],jp(0,o));const i=lf(t,["createTime"]);null!=i&&af(n,["createTime"],i);const s=lf(t,["tuningTask","startTime"]);null!=s&&af(n,["startTime"],s);const a=lf(t,["tuningTask","completeTime"]);null!=a&&af(n,["endTime"],a);const l=lf(t,["updateTime"]);null!=l&&af(n,["updateTime"],l);const u=lf(t,["description"]);null!=u&&af(n,["description"],u);const c=lf(t,["baseModel"]);null!=c&&af(n,["baseModel"],c);const d=lf(t,["_self"]);null!=d&&af(n,["tunedModel"],function(e,t){const n={},r=lf(t,["name"]);null!=r&&af(n,["model"],r);const o=lf(t,["name"]);return null!=o&&af(n,["endpoint"],o),n}(0,d));const f=lf(t,["distillationSpec"]);null!=f&&af(n,["distillationSpec"],f);const p=lf(t,["experiment"]);null!=p&&af(n,["experiment"],p);const h=lf(t,["labels"]);null!=h&&af(n,["labels"],h);const m=lf(t,["pipelineJob"]);null!=m&&af(n,["pipelineJob"],m);const g=lf(t,["serviceAccount"]);null!=g&&af(n,["serviceAccount"],g);const y=lf(t,["tunedModelDisplayName"]);return null!=y&&af(n,["tunedModelDisplayName"],y),n}function dy(e,t){const n={},r=lf(t,["model"]);null!=r&&af(n,["model"],r);const o=lf(t,["endpoint"]);null!=o&&af(n,["endpoint"],o);const i=lf(t,["checkpoints"]);if(null!=i){let e=i;Array.isArray(e)&&(e=e.map((e=>function(e,t){const n={},r=lf(t,["checkpointId"]);null!=r&&af(n,["checkpointId"],r);const o=lf(t,["epoch"]);null!=o&&af(n,["epoch"],o);const i=lf(t,["step"]);null!=i&&af(n,["step"],i);const s=lf(t,["endpoint"]);return null!=s&&af(n,["endpoint"],s),n}(0,e)))),af(n,["checkpoints"],e)}return n}function fy(e,t){const n={},r=lf(t,["name"]);null!=r&&af(n,["name"],r);const o=lf(t,["state"]);null!=o&&af(n,["state"],jp(0,o));const i=lf(t,["createTime"]);null!=i&&af(n,["createTime"],i);const s=lf(t,["startTime"]);null!=s&&af(n,["startTime"],s);const a=lf(t,["endTime"]);null!=a&&af(n,["endTime"],a);const l=lf(t,["updateTime"]);null!=l&&af(n,["updateTime"],l);const u=lf(t,["error"]);null!=u&&af(n,["error"],u);const c=lf(t,["description"]);null!=c&&af(n,["description"],c);const d=lf(t,["baseModel"]);null!=d&&af(n,["baseModel"],d);const f=lf(t,["tunedModel"]);null!=f&&af(n,["tunedModel"],dy(0,f));const p=lf(t,["supervisedTuningSpec"]);null!=p&&af(n,["supervisedTuningSpec"],p);const h=lf(t,["tuningDataStats"]);null!=h&&af(n,["tuningDataStats"],h);const m=lf(t,["encryptionSpec"]);null!=m&&af(n,["encryptionSpec"],m);const g=lf(t,["partnerModelTuningSpec"]);null!=g&&af(n,["partnerModelTuningSpec"],g);const y=lf(t,["distillationSpec"]);null!=y&&af(n,["distillationSpec"],y);const v=lf(t,["experiment"]);null!=v&&af(n,["experiment"],v);const b=lf(t,["labels"]);null!=b&&af(n,["labels"],b);const w=lf(t,["pipelineJob"]);null!=w&&af(n,["pipelineJob"],w);const _=lf(t,["serviceAccount"]);null!=_&&af(n,["serviceAccount"],_);const x=lf(t,["tunedModelDisplayName"]);return null!=x&&af(n,["tunedModelDisplayName"],x),n}class py extends of{constructor(e){var t;super(),t=this,this.apiClient=e,this.get=async e=>await this.getInternal(e),this.list=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new ph(fh.PAGED_ITEM_TUNING_JOBS,(e=>t.listInternal(e)),await t.listInternal(e),e)},this.tune=async e=>{if(this.apiClient.isVertexAI())return await this.tuneInternal(e);{const t=await this.tuneMldevInternal(e);let n="";void 0!==t.metadata&&void 0!==t.metadata.tunedModel?n=t.metadata.tunedModel:void 0!==t.name&&t.name.includes("/operations/")&&(n=t.name.split("/operations/")[0]);return{name:n,state:Ef.JOB_STATE_QUEUED}}}}async getInternal(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=function(e,t){const n={},r=lf(t,["name"]);null!=r&&af(n,["_url","name"],r);const o=lf(t,["config"]);return null!=o&&af(n,["config"],o),n}(this.apiClient,e);return s=sf("{name}",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>fy(this.apiClient,e)))}{const t=function(e,t){const n={},r=lf(t,["name"]);null!=r&&af(n,["_url","name"],r);const o=lf(t,["config"]);return null!=o&&af(n,["config"],o),n}(this.apiClient,e);return s=sf("{name}",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>cy(this.apiClient,e)))}}async listInternal(e){var t,n,r,o;let i,s="",a={};if(this.apiClient.isVertexAI()){const r=ay(this.apiClient,e);return s=sf("tuningJobs",r._url),a=r._query,delete r.config,delete r._url,delete r._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(r),httpMethod:"GET",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),i.then((e=>{const t=function(e,t){const n={},r=lf(t,["nextPageToken"]);null!=r&&af(n,["nextPageToken"],r);const o=lf(t,["tuningJobs"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map((e=>fy(0,e)))),af(n,["tuningJobs"],e)}return n}(this.apiClient,e),n=new rp;return Object.assign(n,t),n}))}{const t=oy(this.apiClient,e);return s=sf("tunedModels",t._url),a=t._query,delete t.config,delete t._url,delete t._query,i=this.apiClient.request({path:s,queryParams:a,body:JSON.stringify(t),httpMethod:"GET",httpOptions:null===(r=e.config)||void 0===r?void 0:r.httpOptions,abortSignal:null===(o=e.config)||void 0===o?void 0:o.abortSignal}).then((e=>e.json())),i.then((e=>{const t=function(e,t){const n={},r=lf(t,["nextPageToken"]);null!=r&&af(n,["nextPageToken"],r);const o=lf(t,["tunedModels"]);if(null!=o){let e=o;Array.isArray(e)&&(e=e.map((e=>cy(0,e)))),af(n,["tuningJobs"],e)}return n}(this.apiClient,e),n=new rp;return Object.assign(n,t),n}))}}async tuneInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI()){const s=uy(this.apiClient,e);return o=sf("tuningJobs",s._url),i=s._query,delete s.config,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((e=>fy(this.apiClient,e)))}throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(e){var t,n;let r,o="",i={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const s=sy(this.apiClient,e);return o=sf("tunedModels",s._url),i=s._query,delete s.config,delete s._url,delete s._query,r=this.apiClient.request({path:o,queryParams:i,body:JSON.stringify(s),httpMethod:"POST",httpOptions:null===(t=e.config)||void 0===t?void 0:t.httpOptions,abortSignal:null===(n=e.config)||void 0===n?void 0:n.abortSignal}).then((e=>e.json())),r.then((e=>function(e,t){const n={},r=lf(t,["name"]);null!=r&&af(n,["name"],r);const o=lf(t,["metadata"]);null!=o&&af(n,["metadata"],o);const i=lf(t,["done"]);null!=i&&af(n,["done"],i);const s=lf(t,["error"]);return null!=s&&af(n,["error"],s),n}(this.apiClient,e)))}}}class hy{async download(e,t){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const my="x-goog-upload-status";function gy(e){return new Promise((t=>setTimeout(t,e)))}class yy{async upload(e,t,n){if("string"===typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e,t,n){var r,o,i;let s=0,a=0,l=new ap(new Response),u="upload";for(s=e.size;a<s;){const i=Math.min(8388608,s-a),c=e.slice(a,a+i);a+i>=s&&(u+=", finalize");let d=0,f=1e3;for(;d<3&&(l=await n.request({path:"",body:c,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":u,"X-Goog-Upload-Offset":String(a),"Content-Length":String(i)}}}),!(null===(r=null===l||void 0===l?void 0:l.headers)||void 0===r?void 0:r[my]));)d++,await gy(f),f*=2;if(a+=i,"active"!==(null===(o=null===l||void 0===l?void 0:l.headers)||void 0===o?void 0:o[my]))break;if(s<=a)throw new Error("All content has been uploaded, but the upload status is not finalized.")}const c=await(null===l||void 0===l?void 0:l.json());if("final"!==(null===(i=null===l||void 0===l?void 0:l.headers)||void 0===i?void 0:i[my]))throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}(e,t,n)}async stat(e){if("string"===typeof e)throw new Error("File path is not supported in browser uploader.");return await async function(e){return{size:e.size,type:e.type}}(e)}}class vy{create(e,t,n){return new by(e,t,n)}}class by{constructor(e,t,n){this.url=e,this.headers=t,this.callbacks=n}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(e){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.send(e)}close(){if(void 0===this.ws)throw new Error("WebSocket is not connected");this.ws.close()}}const wy="x-goog-api-key";class _y{constructor(e){this.apiKey=e}async addAuthHeaders(e){if(null===e.get(wy)){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");e.append(wy,this.apiKey)}}}class xy{constructor(e){var t;if(null==e.apiKey)throw new Error("An API Key must be set when running in a browser");if(e.project||e.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=null!==(t=e.vertexai)&&void 0!==t&&t,this.apiKey=e.apiKey;const n=rf(e,void 0,void 0);n&&(e.httpOptions?e.httpOptions.baseUrl=n:e.httpOptions={baseUrl:n}),this.apiVersion=e.apiVersion;const r=new _y(this.apiKey);this.apiClient=new Sg({auth:r,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:e.httpOptions,userAgentExtra:"gl-node/web",uploader:new yy,downloader:new hy}),this.models=new $g(this.apiClient),this.live=new jg(this.apiClient,r,new vy),this.chats=new xh(this.models,this.apiClient),this.caches=new hh(this.apiClient),this.files=new Th(this.apiClient),this.operations=new zg(this.apiClient),this.authTokens=new ry(this.apiClient),this.tunings=new py(this.apiClient)}}class Cy{constructor(){this.api=void 0,this.lastToken="",this.api=new xy({apiKey:"YOUR_API_KEY"})}async init(){}async send(e,t,n,r){try{var o;this.lastToken!==e.Token&&(this.lastToken=e.Token,this.api=new xy({apiKey:e.Token})),t=[...t];for(const e in t)t[e].meta&&delete t[e].meta;const r=Date.now(),l=null===(o=t.shift())||void 0===o?void 0:o.content,u=await this.api.models.generateContentStream({model:e.Model,contents:t.map((e=>({role:e.role,parts:[{text:e.content}]}))),config:{maxOutputTokens:e["Max Tokens"],temperature:e.Temperature,systemInstruction:l}});let c="";for await(const e of u){var i,s,a;c+=e.text;const t=e.usageMetadata;n({role:"assistant",content:c,meta:t?{completionTokens:null!==(i=t.totalTokenCount)&&void 0!==i?i:0-(null!==(s=t.promptTokenCount)&&void 0!==s?s:0),contextTokens:null!==(a=t.promptTokenCount)&&void 0!==a?a:0,delay:(Date.now()-r)/1e3}:void 0})}}catch(Cx){throw console.log("error",Cx),console.log(Cx instanceof dc.APIError),Cx instanceof dc.APIError?new Error(`${Cx.error.error.code}: ${Cx.error.error.message}`):Cx}}renderControls(){return{Token:{type:"text",default:""},Model:{type:"select",default:"gemini-2.0-flash",options:["gemini-2.5-flash-preview-05-20","gemini-2.5-pro-preview-06-05","gemini-2.0-flash","gemini-2.0-flash-lite"]},"Max Tokens":{type:"number",default:512,min:0,max:4096},Temperature:{type:"range",default:1,min:0,max:2,step:.1}}}}function Ey(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"===typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n}function Sy(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"===typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)}let ky=function(){const{crypto:e}=globalThis;if(e?.randomUUID)return ky=e.randomUUID.bind(e),e.randomUUID();const t=new Uint8Array(1),n=e?()=>e.getRandomValues(t)[0]:()=>255*Math.random()&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,(e=>(+e^n()&15>>+e/4).toString(16)))};function Ty(e){return"object"===typeof e&&null!==e&&("name"in e&&"AbortError"===e.name||"message"in e&&String(e.message).includes("FetchRequestCanceledException"))}const Oy=e=>{if(e instanceof Error)return e;if("object"===typeof e&&null!==e){try{if("[object Error]"===Object.prototype.toString.call(e)){const t=new Error(e.message,e.cause?{cause:e.cause}:{});return e.stack&&(t.stack=e.stack),e.cause&&!t.cause&&(t.cause=e.cause),e.name&&(t.name=e.name),t}}catch{}try{return new Error(JSON.stringify(e))}catch{}}return new Error(e)};class Ay extends Error{}class Iy extends Ay{constructor(e,t,n,r){super(`${Iy.makeMessage(e,t,n)}`),this.status=e,this.headers=r,this.requestID=r?.get("x-request-id"),this.error=t;const o=t;this.code=o?.code,this.param=o?.param,this.type=o?.type}static makeMessage(e,t,n){const r=t?.message?"string"===typeof t.message?t.message:JSON.stringify(t.message):t?JSON.stringify(t):n;return e&&r?`${e} ${r}`:e?`${e} status code (no body)`:r||"(no status code or body)"}static generate(e,t,n,r){if(!e||!r)return new Ry({message:n,cause:Oy(t)});const o=t?.error;return 400===e?new jy(e,o,n,r):401===e?new Dy(e,o,n,r):403===e?new My(e,o,n,r):404===e?new Ly(e,o,n,r):409===e?new Uy(e,o,n,r):422===e?new Fy(e,o,n,r):429===e?new $y(e,o,n,r):e>=500?new By(e,o,n,r):new Iy(e,o,n,r)}}class Ny extends Iy{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ry extends Iy{constructor(e){let{message:t,cause:n}=e;super(void 0,void 0,t||"Connection error.",void 0),n&&(this.cause=n)}}class Py extends Ry{constructor(){let{message:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};super({message:e??"Request timed out."})}}class jy extends Iy{}class Dy extends Iy{}class My extends Iy{}class Ly extends Iy{}class Uy extends Iy{}class Fy extends Iy{}class $y extends Iy{}class By extends Iy{}class qy extends Ay{constructor(){super("Could not parse response content as the length limit was reached")}}class Hy extends Ay{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}const Vy=/^[a-z][a-z0-9+.-]*:/i;let zy=e=>(zy=Array.isArray,zy(e)),Wy=zy;function Gy(e){return null!=e&&"object"===typeof e&&!Array.isArray(e)}const Ky=e=>new Promise((t=>setTimeout(t,e))),Jy="5.5.0";const Yy=()=>{const e="undefined"!==typeof Deno&&null!=Deno.build?"deno":"undefined"!==typeof EdgeRuntime?"edge":"[object process]"===Object.prototype.toString.call("undefined"!==typeof globalThis.process?globalThis.process:0)?"node":"unknown";if("deno"===e)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jy,"X-Stainless-OS":Xy(Deno.build.os),"X-Stainless-Arch":Zy(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":"string"===typeof Deno.version?Deno.version:Deno.version?.deno??"unknown"};if("undefined"!==typeof EdgeRuntime)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jy,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if("node"===e)return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jy,"X-Stainless-OS":Xy(globalThis.process.platform??"unknown"),"X-Stainless-Arch":Zy(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const t=function(){if("undefined"===typeof navigator||!navigator)return null;const e=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:n}of e){const e=n.exec(navigator.userAgent);if(e){return{browser:t,version:`${e[1]||0}.${e[2]||0}.${e[3]||0}`}}}return null}();return t?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jy,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${t.browser}`,"X-Stainless-Runtime-Version":t.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Jy,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};const Zy=e=>"x32"===e?"x32":"x86_64"===e||"x64"===e?"x64":"arm"===e?"arm":"aarch64"===e||"arm64"===e?"arm64":e?`other:${e}`:"unknown",Xy=e=>(e=e.toLowerCase()).includes("ios")?"iOS":"android"===e?"Android":"darwin"===e?"MacOS":"win32"===e?"Windows":"freebsd"===e?"FreeBSD":"openbsd"===e?"OpenBSD":"linux"===e?"Linux":e?`Other:${e}`:"Unknown";let Qy;function ev(){const e=globalThis.ReadableStream;if("undefined"===typeof e)throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return new e(...n)}function tv(e){let t=Symbol.asyncIterator in e?e[Symbol.asyncIterator]():e[Symbol.iterator]();return ev({start(){},async pull(e){const{done:n,value:r}=await t.next();n?e.close():e.enqueue(r)},async cancel(){await(t.return?.())}})}function nv(e){if(e[Symbol.asyncIterator])return e;const t=e.getReader();return{async next(){try{const e=await t.read();return e?.done&&t.releaseLock(),e}catch(Cx){throw t.releaseLock(),Cx}},async return(){const e=t.cancel();return t.releaseLock(),await e,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}const rv=e=>{let{headers:t,body:n}=e;return{bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(n)}},ov="RFC3986",iv=e=>String(e),sv={RFC1738:e=>String(e).replace(/%20/g,"+"),RFC3986:iv},av="RFC1738";let lv=(e,t)=>(lv=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),lv(e,t));const uv=(()=>{const e=[];for(let t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e})();const cv=1024;function dv(e,t){if(zy(e)){const n=[];for(let r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)}const fv={brackets:e=>String(e)+"[]",comma:"comma",indices:(e,t)=>String(e)+"["+t+"]",repeat:e=>String(e)},pv=function(e,t){Array.prototype.push.apply(e,zy(t)?t:[t])};let hv;const mv={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:(e,t,n,r,o)=>{if(0===e.length)return e;let i=e;if("symbol"===typeof e?i=Symbol.prototype.toString.call(e):"string"!==typeof e&&(i=String(e)),"iso-8859-1"===n)return escape(i).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));let s="";for(let a=0;a<i.length;a+=cv){const e=i.length>=cv?i.slice(a,a+cv):i,t=[];for(let n=0;n<e.length;++n){let r=e.charCodeAt(n);45===r||46===r||95===r||126===r||r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122||o===av&&(40===r||41===r)?t[t.length]=e.charAt(n):r<128?t[t.length]=uv[r]:r<2048?t[t.length]=uv[192|r>>6]+uv[128|63&r]:r<55296||r>=57344?t[t.length]=uv[224|r>>12]+uv[128|r>>6&63]+uv[128|63&r]:(n+=1,r=65536+((1023&r)<<10|1023&e.charCodeAt(n)),t[t.length]=uv[240|r>>18]+uv[128|r>>12&63]+uv[128|r>>6&63]+uv[128|63&r])}s+=t.join("")}return s},encodeValuesOnly:!1,format:ov,formatter:iv,indices:!1,serializeDate:e=>(hv??(hv=Function.prototype.call.bind(Date.prototype.toISOString)))(e),skipNulls:!1,strictNullHandling:!1};const gv={};function yv(e,t,n,r,o,i,s,a,l,u,c,d,f,p,h,m,g,y){let v=e,b=y,w=0,_=!1;for(;void 0!==(b=b.get(gv))&&!_;){const t=b.get(e);if(w+=1,"undefined"!==typeof t){if(t===w)throw new RangeError("Cyclic object value");_=!0}"undefined"===typeof b.get(gv)&&(w=0)}if("function"===typeof u?v=u(t,v):v instanceof Date?v=f?.(v):"comma"===n&&zy(v)&&(v=dv(v,(function(e){return e instanceof Date?f?.(e):e}))),null===v){if(i)return l&&!m?l(t,mv.encoder,g,"key",p):t;v=""}if("string"===typeof(x=v)||"number"===typeof x||"boolean"===typeof x||"symbol"===typeof x||"bigint"===typeof x||function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}(v)){if(l){const e=m?t:l(t,mv.encoder,g,"key",p);return[h?.(e)+"="+h?.(l(v,mv.encoder,g,"value",p))]}return[h?.(t)+"="+h?.(String(v))]}var x;const C=[];if("undefined"===typeof v)return C;let E;if("comma"===n&&zy(v))m&&l&&(v=dv(v,l)),E=[{value:v.length>0?v.join(",")||null:void 0}];else if(zy(u))E=u;else{const e=Object.keys(v);E=c?e.sort(c):e}const S=a?String(t).replace(/\./g,"%2E"):String(t),k=r&&zy(v)&&1===v.length?S+"[]":S;if(o&&zy(v)&&0===v.length)return k+"[]";for(let T=0;T<E.length;++T){const t=E[T],b="object"===typeof t&&"undefined"!==typeof t.value?t.value:v[t];if(s&&null===b)continue;const _=d&&a?t.replace(/\./g,"%2E"):t,x=zy(v)?"function"===typeof n?n(k,_):k:k+(d?"."+_:"["+_+"]");y.set(e,w);const S=new WeakMap;S.set(gv,y),pv(C,yv(b,x,n,r,o,i,s,a,"comma"===n&&m&&zy(v)?null:l,u,c,d,f,p,h,m,g,S))}return C}function vv(e){let t=e;const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mv;if("undefined"!==typeof e.allowEmptyArrays&&"boolean"!==typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if("undefined"!==typeof e.encodeDotInKeys&&"boolean"!==typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&"undefined"!==typeof e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");const t=e.charset||mv.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let n=ov;if("undefined"!==typeof e.format){if(!lv(sv,e.format))throw new TypeError("Unknown format option provided.");n=e.format}const r=sv[n];let o,i=mv.filter;if(("function"===typeof e.filter||zy(e.filter))&&(i=e.filter),o=e.arrayFormat&&e.arrayFormat in fv?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":mv.arrayFormat,"commaRoundTrip"in e&&"boolean"!==typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const s="undefined"===typeof e.allowDots?!0===!!e.encodeDotInKeys||mv.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:mv.addQueryPrefix,allowDots:s,allowEmptyArrays:"boolean"===typeof e.allowEmptyArrays?!!e.allowEmptyArrays:mv.allowEmptyArrays,arrayFormat:o,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:mv.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:"undefined"===typeof e.delimiter?mv.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:mv.encode,encodeDotInKeys:"boolean"===typeof e.encodeDotInKeys?e.encodeDotInKeys:mv.encodeDotInKeys,encoder:"function"===typeof e.encoder?e.encoder:mv.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:mv.encodeValuesOnly,filter:i,format:n,formatter:r,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:mv.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:mv.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:mv.strictNullHandling}}(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});let r,o;"function"===typeof n.filter?(o=n.filter,t=o("",t)):zy(n.filter)&&(o=n.filter,r=o);const i=[];if("object"!==typeof t||null===t)return"";const s=fv[n.arrayFormat],a="comma"===s&&n.commaRoundTrip;r||(r=Object.keys(t)),n.sort&&r.sort(n.sort);const l=new WeakMap;for(let d=0;d<r.length;++d){const e=r[d];n.skipNulls&&null===t[e]||pv(i,yv(t[e],e,s,a,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}const u=i.join(n.delimiter);let c=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?c+="utf8=%26%2310003%3B&":c+="utf8=%E2%9C%93&"),u.length>0?c+u:""}let bv,wv;function _v(e){let t;return(bv??(t=new globalThis.TextEncoder,bv=t.encode.bind(t)))(e)}function xv(e){let t;return(wv??(t=new globalThis.TextDecoder,wv=t.decode.bind(t)))(e)}var Cv,Ev;class Sv{constructor(){Cv.set(this,void 0),Ev.set(this,void 0),Ey(this,Cv,new Uint8Array,"f"),Ey(this,Ev,null,"f")}decode(e){if(null==e)return[];const t=e instanceof ArrayBuffer?new Uint8Array(e):"string"===typeof e?_v(e):e;Ey(this,Cv,function(e){let t=0;for(const o of e)t+=o.length;const n=new Uint8Array(t);let r=0;for(const o of e)n.set(o,r),r+=o.length;return n}([Sy(this,Cv,"f"),t]),"f");const n=[];let r;for(;null!=(r=kv(Sy(this,Cv,"f"),Sy(this,Ev,"f")));){if(r.carriage&&null==Sy(this,Ev,"f")){Ey(this,Ev,r.index,"f");continue}if(null!=Sy(this,Ev,"f")&&(r.index!==Sy(this,Ev,"f")+1||r.carriage)){n.push(xv(Sy(this,Cv,"f").subarray(0,Sy(this,Ev,"f")-1))),Ey(this,Cv,Sy(this,Cv,"f").subarray(Sy(this,Ev,"f")),"f"),Ey(this,Ev,null,"f");continue}const e=null!==Sy(this,Ev,"f")?r.preceding-1:r.preceding,t=xv(Sy(this,Cv,"f").subarray(0,e));n.push(t),Ey(this,Cv,Sy(this,Cv,"f").subarray(r.index),"f"),Ey(this,Ev,null,"f")}return n}flush(){return Sy(this,Cv,"f").length?this.decode("\n"):[]}}function kv(e,t){for(let n=t??0;n<e.length;n++){if(10===e[n])return{preceding:n,index:n+1,carriage:!1};if(13===e[n])return{preceding:n,index:n+1,carriage:!0}}return null}function Tv(e){for(let t=0;t<e.length-1;t++){if(10===e[t]&&10===e[t+1])return t+2;if(13===e[t]&&13===e[t+1])return t+2;if(13===e[t]&&10===e[t+1]&&t+3<e.length&&13===e[t+2]&&10===e[t+3])return t+4}return-1}Cv=new WeakMap,Ev=new WeakMap,Sv.NEWLINE_CHARS=new Set(["\n","\r"]),Sv.NEWLINE_REGEXP=/\r\n|[\n\r]/g;class Ov{constructor(e,t){this.iterator=e,this.controller=t}static fromSSEResponse(e,t){let n=!1;return new Ov((async function*(){if(n)throw new Ay("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const n of async function*(e,t){if(!e.body){if(t.abort(),"undefined"!==typeof globalThis.navigator&&"ReactNative"===globalThis.navigator.product)throw new Ay("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api");throw new Ay("Attempted to iterate over a response with no body")}const n=new Av,r=new Sv,o=nv(e.body);for await(const i of async function*(e){let t=new Uint8Array;for await(const n of e){if(null==n)continue;const e=n instanceof ArrayBuffer?new Uint8Array(n):"string"===typeof n?_v(n):n;let r,o=new Uint8Array(t.length+e.length);for(o.set(t),o.set(e,t.length),t=o;-1!==(r=Tv(t));)yield t.slice(0,r),t=t.slice(r)}t.length>0&&(yield t)}(o))for(const e of r.decode(i)){const t=n.decode(e);t&&(yield t)}for(const i of r.flush()){const e=n.decode(i);e&&(yield e)}}(e,t))if(!r)if(n.data.startsWith("[DONE]"))r=!0;else if(null===n.event||n.event.startsWith("response.")||n.event.startsWith("transcript.")){let t;try{t=JSON.parse(n.data)}catch(Cx){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),Cx}if(t&&t.error)throw new Iy(void 0,t.error,void 0,e.headers);yield t}else{let e;try{e=JSON.parse(n.data)}catch(Cx){throw console.error("Could not parse message into JSON:",n.data),console.error("From chunk:",n.raw),Cx}if("error"==n.event)throw new Iy(void 0,e.error,e.message,void 0);yield{event:n.event,data:e}}r=!0}catch(Cx){if(Ty(Cx))return;throw Cx}finally{r||t.abort()}}),t)}static fromReadableStream(e,t){let n=!1;return new Ov((async function*(){if(n)throw new Ay("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");n=!0;let r=!1;try{for await(const t of async function*(){const t=new Sv,n=nv(e);for await(const e of n)for(const n of t.decode(e))yield n;for(const e of t.flush())yield e}())r||t&&(yield JSON.parse(t));r=!0}catch(Cx){if(Ty(Cx))return;throw Cx}finally{r||t.abort()}}),t)}[Symbol.asyncIterator](){return this.iterator()}tee(){const e=[],t=[],n=this.iterator(),r=r=>({next:()=>{if(0===r.length){const r=n.next();e.push(r),t.push(r)}return r.shift()}});return[new Ov((()=>r(e)),this.controller),new Ov((()=>r(t)),this.controller)]}toReadableStream(){const e=this;let t;return ev({async start(){t=e[Symbol.asyncIterator]()},async pull(e){try{const{value:n,done:r}=await t.next();if(r)return e.close();const o=_v(JSON.stringify(n)+"\n");e.enqueue(o)}catch(n){e.error(n)}},async cancel(){await(t.return?.())}})}}class Av{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const e={event:this.event,data:this.data.join("\n"),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],e}if(this.chunks.push(e),e.startsWith(":"))return null;let[t,n,r]=function(e,t){const n=e.indexOf(t);if(-1!==n)return[e.substring(0,n),t,e.substring(n+t.length)];return[e,"",""]}(e,":");return r.startsWith(" ")&&(r=r.substring(1)),"event"===t?this.event=r:"data"===t&&this.data.push(r),null}}const Iv={off:0,error:200,warn:300,info:400,debug:500},Nv=(e,t,n)=>{var r,o;if(e)return r=Iv,o=e,Object.prototype.hasOwnProperty.call(r,o)?e:void Mv(n).warn(`${t} was set to ${JSON.stringify(e)}, expected one of ${JSON.stringify(Object.keys(Iv))}`)};function Rv(){}function Pv(e,t,n){return!t||Iv[e]>Iv[n]?Rv:t[e].bind(t)}const jv={error:Rv,warn:Rv,info:Rv,debug:Rv};let Dv=new WeakMap;function Mv(e){const t=e.logger,n=e.logLevel??"off";if(!t)return jv;const r=Dv.get(t);if(r&&r[0]===n)return r[1];const o={error:Pv("error",t,n),warn:Pv("warn",t,n),info:Pv("info",t,n),debug:Pv("debug",t,n)};return Dv.set(t,[n,o]),o}const Lv=e=>(e.options&&(e.options={...e.options},delete e.options.headers),e.headers&&(e.headers=Object.fromEntries((e.headers instanceof Headers?[...e.headers]:Object.entries(e.headers)).map((e=>{let[t,n]=e;return[t,"authorization"===t.toLowerCase()||"cookie"===t.toLowerCase()||"set-cookie"===t.toLowerCase()?"***":n]})))),"retryOfRequestLogID"in e&&(e.retryOfRequestLogID&&(e.retryOf=e.retryOfRequestLogID),delete e.retryOfRequestLogID),e);async function Uv(e,t){const{response:n,requestLogID:r,retryOfRequestLogID:o,startTime:i}=t,s=await(async()=>{if(t.options.stream)return Mv(e).debug("response",n.status,n.url,n.headers,n.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(n,t.controller):Ov.fromSSEResponse(n,t.controller);if(204===n.status)return null;if(t.options.__binaryResponse)return n;const r=n.headers.get("content-type"),o=r?.split(";")[0]?.trim();if(o?.includes("application/json")||o?.endsWith("+json")){return Fv(await n.json(),n)}return await n.text()})();return Mv(e).debug(`[${r}] response parsed`,Lv({retryOfRequestLogID:o,url:n.url,status:n.status,body:s,durationMs:Date.now()-i})),s}function Fv(e,t){return!e||"object"!==typeof e||Array.isArray(e)?e:Object.defineProperty(e,"_request_id",{value:t.headers.get("x-request-id"),enumerable:!1})}var $v,Bv;class qv extends Promise{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Uv;super((e=>{e(null)})),this.responsePromise=t,this.parseResponse=n,$v.set(this,void 0),Ey(this,$v,e,"f")}_thenUnwrap(e){return new qv(Sy(this,$v,"f"),this.responsePromise,(async(t,n)=>Fv(e(await this.parseResponse(t,n),n),n.response)))}asResponse(){return this.responsePromise.then((e=>e.response))}async withResponse(){const[e,t]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:t,request_id:t.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then((e=>this.parseResponse(Sy(this,$v,"f"),e)))),this.parsedPromise}then(e,t){return this.parse().then(e,t)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}$v=new WeakMap;class Hv{constructor(e,t,n,r){Bv.set(this,void 0),Ey(this,Bv,e,"f"),this.options=r,this.response=t,this.body=n}hasNextPage(){return!!this.getPaginatedItems().length&&null!=this.nextPageRequestOptions()}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new Ay("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await Sy(this,Bv,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Bv=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const t of e.getPaginatedItems())yield t}}class Vv extends qv{constructor(e,t,n){super(e,t,(async(e,t)=>new n(e,t.response,await Uv(e,t),t.options)))}async*[Symbol.asyncIterator](){const e=await(this);for await(const t of e)yield t}}class zv extends Hv{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class Wv extends Hv{constructor(e,t,n,r){super(e,t,n,r),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return!1!==this.has_more&&super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),t=e[e.length-1]?.id;return t?{...this.options,query:{...(n=this.options.query,"object"!==typeof n?{}:n??{}),after:t}}:null;var n}}const Gv=()=>{if("undefined"===typeof File){const{process:e}=globalThis,t="string"===typeof e?.versions?.node&&parseInt(e.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(t?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function Kv(e,t,n){return Gv(),new File(e,t??"unknown_file",n)}function Jv(e){return("object"===typeof e&&null!==e&&("name"in e&&e.name&&String(e.name)||"url"in e&&e.url&&String(e.url)||"filename"in e&&e.filename&&String(e.filename)||"path"in e&&e.path&&String(e.path))||"").split(/[\\/]/).pop()||void 0}const Yv=e=>null!=e&&"object"===typeof e&&"function"===typeof e[Symbol.asyncIterator],Zv=async(e,t)=>({...e,body:await Qv(e.body,t)}),Xv=new WeakMap;const Qv=async(e,t)=>{if(!await function(e){const t="function"===typeof e?e:e.fetch,n=Xv.get(t);if(n)return n;const r=(async()=>{try{const e="Response"in t?t.Response:(await t("data:,")).constructor,n=new FormData;return n.toString()!==await new e(n).text()}catch{return!0}})();return Xv.set(t,r),r}(t))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const n=new FormData;return await Promise.all(Object.entries(e||{}).map((e=>{let[t,r]=e;return tb(n,t,r)}))),n},eb=e=>e instanceof Blob&&"name"in e,tb=async(e,t,n)=>{if(void 0!==n){if(null==n)throw new TypeError(`Received null for "${t}"; to pass null in FormData, you must use the string 'null'`);if("string"===typeof n||"number"===typeof n||"boolean"===typeof n)e.append(t,String(n));else if(n instanceof Response)e.append(t,Kv([await n.blob()],Jv(n)));else if(Yv(n))e.append(t,Kv([await new Response(tv(n)).blob()],Jv(n)));else if(eb(n))e.append(t,n,Jv(n));else if(Array.isArray(n))await Promise.all(n.map((n=>tb(e,t+"[]",n))));else{if("object"!==typeof n)throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${n} instead`);await Promise.all(Object.entries(n).map((n=>{let[r,o]=n;return tb(e,`${t}[${r}]`,o)})))}}},nb=e=>null!=e&&"object"===typeof e&&"number"===typeof e.size&&"string"===typeof e.type&&"function"===typeof e.text&&"function"===typeof e.slice&&"function"===typeof e.arrayBuffer;async function rb(e){let t=[];if("string"===typeof e||ArrayBuffer.isView(e)||e instanceof ArrayBuffer)t.push(e);else if(nb(e))t.push(e instanceof Blob?e:await e.arrayBuffer());else{if(!Yv(e)){const t=e?.constructor?.name;throw new Error(`Unexpected data type: ${typeof e}${t?`; constructor: ${t}`:""}${function(e){if("object"!==typeof e||null===e)return"";const t=Object.getOwnPropertyNames(e);return`; props: [${t.map((e=>`"${e}"`)).join(", ")}]`}(e)}`)}for await(const n of e)t.push(...await rb(n))}return t}class ob{constructor(e){this._client=e}}function ib(e){return e.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const sb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ib;return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];if(1===t.length)return t[0];let i=!1;const s=t.reduce(((t,n,o)=>(/[?#]/.test(n)&&(i=!0),t+n+(o===r.length?"":(i?encodeURIComponent:e)(String(r[o]))))),""),a=s.split(/[?#]/,1)[0],l=[],u=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;let c;for(;null!==(c=u.exec(a));)l.push({start:c.index,length:c[0].length});if(l.length>0){let e=0;const t=l.reduce(((t,n)=>{const r=" ".repeat(n.start-e),o="^".repeat(n.length);return e=n.start+n.length,t+r+o}),"");throw new Ay(`Path parameters result in path with invalid segments:\n${s}\n${t}`)}return s}},ab=sb(ib);class lb extends ob{list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(ab`/chat/completions/${e}/messages`,Wv,{query:t,...n})}}function ub(e){return"function"===typeof e.parse}const cb=e=>"assistant"===e?.role,db=e=>"tool"===e?.role;var fb,pb,hb,mb,gb,yb,vb,bb,wb,_b,xb,Cb,Eb,Sb,kb,Tb,Ob,Ab,Ib,Nb,Rb;class Pb{constructor(){fb.add(this),this.controller=new AbortController,pb.set(this,void 0),hb.set(this,(()=>{})),mb.set(this,(()=>{})),gb.set(this,void 0),yb.set(this,(()=>{})),vb.set(this,(()=>{})),bb.set(this,{}),wb.set(this,!1),_b.set(this,!1),xb.set(this,!1),Cb.set(this,!1),Ey(this,pb,new Promise(((e,t)=>{Ey(this,hb,e,"f"),Ey(this,mb,t,"f")})),"f"),Ey(this,gb,new Promise(((e,t)=>{Ey(this,yb,e,"f"),Ey(this,vb,t,"f")})),"f"),Sy(this,pb,"f").catch((()=>{})),Sy(this,gb,"f").catch((()=>{}))}_run(e){setTimeout((()=>{e().then((()=>{this._emitFinal(),this._emit("end")}),Sy(this,fb,"m",Eb).bind(this))}),0)}_connected(){this.ended||(Sy(this,hb,"f").call(this),this._emit("connect"))}get ended(){return Sy(this,wb,"f")}get errored(){return Sy(this,_b,"f")}get aborted(){return Sy(this,xb,"f")}abort(){this.controller.abort()}on(e,t){return(Sy(this,bb,"f")[e]||(Sy(this,bb,"f")[e]=[])).push({listener:t}),this}off(e,t){const n=Sy(this,bb,"f")[e];if(!n)return this;const r=n.findIndex((e=>e.listener===t));return r>=0&&n.splice(r,1),this}once(e,t){return(Sy(this,bb,"f")[e]||(Sy(this,bb,"f")[e]=[])).push({listener:t,once:!0}),this}emitted(e){return new Promise(((t,n)=>{Ey(this,Cb,!0,"f"),"error"!==e&&this.once("error",n),this.once(e,t)}))}async done(){Ey(this,Cb,!0,"f"),await Sy(this,gb,"f")}_emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(Sy(this,wb,"f"))return;"end"===e&&(Ey(this,wb,!0,"f"),Sy(this,yb,"f").call(this));const o=Sy(this,bb,"f")[e];if(o&&(Sy(this,bb,"f")[e]=o.filter((e=>!e.once)),o.forEach((e=>{let{listener:t}=e;return t(...n)}))),"abort"===e){const e=n[0];return Sy(this,Cb,"f")||o?.length||Promise.reject(e),Sy(this,mb,"f").call(this,e),Sy(this,vb,"f").call(this,e),void this._emit("end")}if("error"===e){const e=n[0];Sy(this,Cb,"f")||o?.length||Promise.reject(e),Sy(this,mb,"f").call(this,e),Sy(this,vb,"f").call(this,e),this._emit("end")}}_emitFinal(){}}function jb(e){return"auto-parseable-response-format"===e?.$brand}function Db(e){return"auto-parseable-tool"===e?.$brand}function Mb(e,t){const n=e.choices.map((e=>{if("length"===e.finish_reason)throw new qy;if("content_filter"===e.finish_reason)throw new Hy;return{...e,message:{...e.message,...e.message.tool_calls?{tool_calls:e.message.tool_calls?.map((e=>function(e,t){const n=e.tools?.find((e=>e.function?.name===t.function.name));return{...t,function:{...t.function,parsed_arguments:Db(n)?n.$parseRaw(t.function.arguments):n?.function.strict?JSON.parse(t.function.arguments):null}}}(t,e)))??void 0}:void 0,parsed:e.message.content&&!e.message.refusal?Lb(t,e.message.content):null}}}));return{...e,choices:n}}function Lb(e,t){if("json_schema"!==e.response_format?.type)return null;if("json_schema"===e.response_format?.type){if("$parseRaw"in e.response_format){return e.response_format.$parseRaw(t)}return JSON.parse(t)}return null}function Ub(e,t){if(!e)return!1;const n=e.tools?.find((e=>e.function?.name===t.function.name));return Db(n)||n?.function.strict||!1}function Fb(e){return!!jb(e.response_format)||(e.tools?.some((e=>Db(e)||"function"===e.type&&!0===e.function.strict))??!1)}pb=new WeakMap,hb=new WeakMap,mb=new WeakMap,gb=new WeakMap,yb=new WeakMap,vb=new WeakMap,bb=new WeakMap,wb=new WeakMap,_b=new WeakMap,xb=new WeakMap,Cb=new WeakMap,fb=new WeakSet,Eb=function(e){if(Ey(this,_b,!0,"f"),e instanceof Error&&"AbortError"===e.name&&(e=new Ny),e instanceof Ny)return Ey(this,xb,!0,"f"),this._emit("abort",e);if(e instanceof Ay)return this._emit("error",e);if(e instanceof Error){const t=new Ay(e.message);return t.cause=e,this._emit("error",t)}return this._emit("error",new Ay(String(e)))};const $b=10;class Bb extends Pb{constructor(){super(...arguments),Sb.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const t=e.choices[0]?.message;return t&&this._addMessage(t),e}_addMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("content"in e||(e.content=null),this.messages.push(e),t)if(this._emit("message",e),db(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(cb(e)&&e.tool_calls)for(const n of e.tool_calls)"function"===n.type&&this._emit("functionToolCall",n.function)}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Ay("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),Sy(this,Sb,"m",kb).call(this)}async finalMessage(){return await this.done(),Sy(this,Sb,"m",Tb).call(this)}async finalFunctionToolCall(){return await this.done(),Sy(this,Sb,"m",Ob).call(this)}async finalFunctionToolCallResult(){return await this.done(),Sy(this,Sb,"m",Ab).call(this)}async totalUsage(){return await this.done(),Sy(this,Sb,"m",Ib).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const t=Sy(this,Sb,"m",Tb).call(this);t&&this._emit("finalMessage",t);const n=Sy(this,Sb,"m",kb).call(this);n&&this._emit("finalContent",n);const r=Sy(this,Sb,"m",Ob).call(this);r&&this._emit("finalFunctionToolCall",r);const o=Sy(this,Sb,"m",Ab).call(this);null!=o&&this._emit("finalFunctionToolCallResult",o),this._chatCompletions.some((e=>e.usage))&&this._emit("totalUsage",Sy(this,Sb,"m",Ib).call(this))}async _createChatCompletion(e,t,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),Sy(this,Sb,"m",Nb).call(this,t);const o=await e.chat.completions.create({...t,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion(Mb(o,t))}async _runChatCompletion(e,t,n){for(const r of t.messages)this._addMessage(r,!1);return await this._createChatCompletion(e,t,n)}async _runTools(e,t,n){const r="tool",{tool_choice:o="auto",stream:i,...s}=t,a="string"!==typeof o&&o?.function?.name,{maxChatCompletions:l=$b}=n||{},u=t.tools.map((e=>{if(Db(e)){if(!e.$callback)throw new Ay("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:e.$callback,name:e.function.name,description:e.function.description||"",parameters:e.function.parameters,parse:e.$parseRaw,strict:!0}}}return e})),c={};for(const p of u)"function"===p.type&&(c[p.function.name||p.function.function.name]=p.function);const d="tools"in t?u.map((e=>"function"===e.type?{type:"function",function:{name:e.function.name||e.function.function.name,parameters:e.function.parameters,description:e.function.description,strict:e.function.strict}}:e)):void 0;for(const p of t.messages)this._addMessage(p,!1);for(let p=0;p<l;++p){const t=await this._createChatCompletion(e,{...s,tool_choice:o,tools:d,messages:[...this.messages]},n),i=t.choices[0]?.message;if(!i)throw new Ay("missing message in ChatCompletion response");if(!i.tool_calls?.length)return;for(const e of i.tool_calls){if("function"!==e.type)continue;const t=e.id,{name:n,arguments:o}=e.function,i=c[n];if(!i){const e=`Invalid tool_call: ${JSON.stringify(n)}. Available options are: ${Object.keys(c).map((e=>JSON.stringify(e))).join(", ")}. Please try again`;this._addMessage({role:r,tool_call_id:t,content:e});continue}if(a&&a!==n){const e=`Invalid tool_call: ${JSON.stringify(n)}. ${JSON.stringify(a)} requested. Please try again`;this._addMessage({role:r,tool_call_id:t,content:e});continue}let s;try{s=ub(i)?await i.parse(o):o}catch(f){const e=f instanceof Error?f.message:String(f);this._addMessage({role:r,tool_call_id:t,content:e});continue}const l=await i.function(s,this),u=Sy(this,Sb,"m",Rb).call(this,l);if(this._addMessage({role:r,tool_call_id:t,content:u}),a)return}}}}Sb=new WeakSet,kb=function(){return Sy(this,Sb,"m",Tb).call(this).content??null},Tb=function(){let e=this.messages.length;for(;e-- >0;){const t=this.messages[e];if(cb(t)){return{...t,content:t.content??null,refusal:t.refusal??null}}}throw new Ay("stream ended without producing a ChatCompletionMessage with role=assistant")},Ob=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(cb(t)&&t?.tool_calls?.length)return t.tool_calls.at(-1)?.function}},Ab=function(){for(let e=this.messages.length-1;e>=0;e--){const t=this.messages[e];if(db(t)&&null!=t.content&&"string"===typeof t.content&&this.messages.some((e=>"assistant"===e.role&&e.tool_calls?.some((e=>"function"===e.type&&e.id===t.tool_call_id)))))return t.content}},Ib=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:t}of this._chatCompletions)t&&(e.completion_tokens+=t.completion_tokens,e.prompt_tokens+=t.prompt_tokens,e.total_tokens+=t.total_tokens);return e},Nb=function(e){if(null!=e.n&&e.n>1)throw new Ay("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Rb=function(e){return"string"===typeof e?e:void 0===e?"undefined":JSON.stringify(e)};class qb extends Bb{static runTools(e,t,n){const r=new qb,o={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run((()=>r._runTools(e,t,o))),r}_addMessage(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];super._addMessage(e,t),cb(e)&&e.content&&this._emit("content",e.content)}}const Hb={STR:1,NUM:2,ARR:4,OBJ:8,NULL:16,BOOL:32,NAN:64,INFINITY:128,MINUS_INFINITY:256,INF:384,SPECIAL:496,ATOM:499,COLLECTION:12,ALL:511};class Vb extends Error{}class zb extends Error{}const Wb=(e,t)=>{const n=e.length;let r=0;const o=e=>{throw new Vb(`${e} at position ${r}`)},i=e=>{throw new zb(`${e} at position ${r}`)},s=()=>(d(),r>=n&&o("Unexpected end of input"),'"'===e[r]?a():"{"===e[r]?l():"["===e[r]?u():"null"===e.substring(r,r+4)||Hb.NULL&t&&n-r<4&&"null".startsWith(e.substring(r))?(r+=4,null):"true"===e.substring(r,r+4)||Hb.BOOL&t&&n-r<4&&"true".startsWith(e.substring(r))?(r+=4,!0):"false"===e.substring(r,r+5)||Hb.BOOL&t&&n-r<5&&"false".startsWith(e.substring(r))?(r+=5,!1):"Infinity"===e.substring(r,r+8)||Hb.INFINITY&t&&n-r<8&&"Infinity".startsWith(e.substring(r))?(r+=8,1/0):"-Infinity"===e.substring(r,r+9)||Hb.MINUS_INFINITY&t&&1<n-r&&n-r<9&&"-Infinity".startsWith(e.substring(r))?(r+=9,-1/0):"NaN"===e.substring(r,r+3)||Hb.NAN&t&&n-r<3&&"NaN".startsWith(e.substring(r))?(r+=3,NaN):c()),a=()=>{const s=r;let a=!1;for(r++;r<n&&('"'!==e[r]||a&&"\\"===e[r-1]);)a="\\"===e[r]&&!a,r++;if('"'==e.charAt(r))try{return JSON.parse(e.substring(s,++r-Number(a)))}catch(Cx){i(String(Cx))}else if(Hb.STR&t)try{return JSON.parse(e.substring(s,r-Number(a))+'"')}catch(Cx){return JSON.parse(e.substring(s,e.lastIndexOf("\\"))+'"')}o("Unterminated string literal")},l=()=>{r++,d();const i={};try{for(;"}"!==e[r];){if(d(),r>=n&&Hb.OBJ&t)return i;const o=a();d(),r++;try{const e=s();Object.defineProperty(i,o,{value:e,writable:!0,enumerable:!0,configurable:!0})}catch(Cx){if(Hb.OBJ&t)return i;throw Cx}d(),","===e[r]&&r++}}catch(Cx){if(Hb.OBJ&t)return i;o("Expected '}' at end of object")}return r++,i},u=()=>{r++;const n=[];try{for(;"]"!==e[r];)n.push(s()),d(),","===e[r]&&r++}catch(Cx){if(Hb.ARR&t)return n;o("Expected ']' at end of array")}return r++,n},c=()=>{if(0===r){"-"===e&&Hb.NUM&t&&o("Not sure what '-' is");try{return JSON.parse(e)}catch(Cx){if(Hb.NUM&t)try{return"."===e[e.length-1]?JSON.parse(e.substring(0,e.lastIndexOf("."))):JSON.parse(e.substring(0,e.lastIndexOf("e")))}catch(Cx){}i(String(Cx))}}const s=r;for("-"===e[r]&&r++;e[r]&&!",]}".includes(e[r]);)r++;r!=n||Hb.NUM&t||o("Unterminated number literal");try{return JSON.parse(e.substring(s,r))}catch(Cx){"-"===e.substring(s,r)&&Hb.NUM&t&&o("Not sure what '-' is");try{return JSON.parse(e.substring(s,e.lastIndexOf("e")))}catch(Cx){i(String(Cx))}}},d=()=>{for(;r<n&&" \n\r\t".includes(e[r]);)r++};return s()},Gb=e=>function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Hb.ALL;if("string"!==typeof e)throw new TypeError("expecting str, got "+typeof e);if(!e.trim())throw new Error(`${e} is empty`);return Wb(e.trim(),t)}(e,Hb.ALL^Hb.NUM);var Kb,Jb,Yb,Zb,Xb,Qb,ew,tw,nw,rw,ow,iw;class sw extends Bb{constructor(e){super(),Kb.add(this),Jb.set(this,void 0),Yb.set(this,void 0),Zb.set(this,void 0),Ey(this,Jb,e,"f"),Ey(this,Yb,[],"f")}get currentChatCompletionSnapshot(){return Sy(this,Zb,"f")}static fromReadableStream(e){const t=new sw(null);return t._run((()=>t._fromReadableStream(e))),t}static createChatCompletion(e,t,n){const r=new sw(t);return r._run((()=>r._runChatCompletion(e,{...t,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}async _createChatCompletion(e,t,n){super._createChatCompletion;const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),Sy(this,Kb,"m",Xb).call(this);const o=await e.chat.completions.create({...t,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const i of o)Sy(this,Kb,"m",ew).call(this,i);if(o.controller.signal?.aborted)throw new Ny;return this._addChatCompletion(Sy(this,Kb,"m",rw).call(this))}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),Sy(this,Kb,"m",Xb).call(this),this._connected();const r=Ov.fromReadableStream(e,this.controller);let o;for await(const i of r)o&&o!==i.id&&this._addChatCompletion(Sy(this,Kb,"m",rw).call(this)),Sy(this,Kb,"m",ew).call(this,i),o=i.id;if(r.controller.signal?.aborted)throw new Ny;return this._addChatCompletion(Sy(this,Kb,"m",rw).call(this))}[(Jb=new WeakMap,Yb=new WeakMap,Zb=new WeakMap,Kb=new WeakSet,Xb=function(){this.ended||Ey(this,Zb,void 0,"f")},Qb=function(e){let t=Sy(this,Yb,"f")[e.index];return t||(t={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},Sy(this,Yb,"f")[e.index]=t,t)},ew=function(e){if(this.ended)return;const t=Sy(this,Kb,"m",iw).call(this,e);this._emit("chunk",e,t);for(const n of e.choices){const e=t.choices[n.index];null!=n.delta.content&&"assistant"===e.message?.role&&e.message?.content&&(this._emit("content",n.delta.content,e.message.content),this._emit("content.delta",{delta:n.delta.content,snapshot:e.message.content,parsed:e.message.parsed})),null!=n.delta.refusal&&"assistant"===e.message?.role&&e.message?.refusal&&this._emit("refusal.delta",{delta:n.delta.refusal,snapshot:e.message.refusal}),null!=n.logprobs?.content&&"assistant"===e.message?.role&&this._emit("logprobs.content.delta",{content:n.logprobs?.content,snapshot:e.logprobs?.content??[]}),null!=n.logprobs?.refusal&&"assistant"===e.message?.role&&this._emit("logprobs.refusal.delta",{refusal:n.logprobs?.refusal,snapshot:e.logprobs?.refusal??[]});const r=Sy(this,Kb,"m",Qb).call(this,e);e.finish_reason&&(Sy(this,Kb,"m",nw).call(this,e),null!=r.current_tool_call_index&&Sy(this,Kb,"m",tw).call(this,e,r.current_tool_call_index));for(const t of n.delta.tool_calls??[])r.current_tool_call_index!==t.index&&(Sy(this,Kb,"m",nw).call(this,e),null!=r.current_tool_call_index&&Sy(this,Kb,"m",tw).call(this,e,r.current_tool_call_index)),r.current_tool_call_index=t.index;for(const t of n.delta.tool_calls??[]){const n=e.message.tool_calls?.[t.index];n?.type&&("function"===n?.type&&this._emit("tool_calls.function.arguments.delta",{name:n.function?.name,index:t.index,arguments:n.function.arguments,parsed_arguments:n.function.parsed_arguments,arguments_delta:t.function?.arguments??""}))}}},tw=function(e,t){if(Sy(this,Kb,"m",Qb).call(this,e).done_tool_calls.has(t))return;const n=e.message.tool_calls?.[t];if(!n)throw new Error("no tool call snapshot");if(!n.type)throw new Error("tool call snapshot missing `type`");if("function"===n.type){const e=Sy(this,Jb,"f")?.tools?.find((e=>"function"===e.type&&e.function.name===n.function.name));this._emit("tool_calls.function.arguments.done",{name:n.function.name,index:t,arguments:n.function.arguments,parsed_arguments:Db(e)?e.$parseRaw(n.function.arguments):e?.function.strict?JSON.parse(n.function.arguments):null})}else n.type},nw=function(e){const t=Sy(this,Kb,"m",Qb).call(this,e);if(e.message.content&&!t.content_done){t.content_done=!0;const n=Sy(this,Kb,"m",ow).call(this);this._emit("content.done",{content:e.message.content,parsed:n?n.$parseRaw(e.message.content):null})}e.message.refusal&&!t.refusal_done&&(t.refusal_done=!0,this._emit("refusal.done",{refusal:e.message.refusal})),e.logprobs?.content&&!t.logprobs_content_done&&(t.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:e.logprobs.content})),e.logprobs?.refusal&&!t.logprobs_refusal_done&&(t.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:e.logprobs.refusal}))},rw=function(){if(this.ended)throw new Ay("stream has ended, this shouldn't happen");const e=Sy(this,Zb,"f");if(!e)throw new Ay("request ended without sending any chunks");return Ey(this,Zb,void 0,"f"),Ey(this,Yb,[],"f"),function(e,t){const{id:n,choices:r,created:o,model:i,system_fingerprint:s,...a}=e,l={...a,id:n,choices:r.map((t=>{let{message:n,finish_reason:r,index:o,logprobs:i,...s}=t;if(!r)throw new Ay(`missing finish_reason for choice ${o}`);const{content:a=null,function_call:l,tool_calls:u,...c}=n,d=n.role;if(!d)throw new Ay(`missing role for choice ${o}`);if(l){const{arguments:e,name:t}=l;if(null==e)throw new Ay(`missing function_call.arguments for choice ${o}`);if(!t)throw new Ay(`missing function_call.name for choice ${o}`);return{...s,message:{content:a,function_call:{arguments:e,name:t},role:d,refusal:n.refusal??null},finish_reason:r,index:o,logprobs:i}}return u?{...s,index:o,finish_reason:r,logprobs:i,message:{...c,role:d,content:a,refusal:n.refusal??null,tool_calls:u.map(((t,n)=>{const{function:r,type:i,id:s,...a}=t,{arguments:l,name:u,...c}=r||{};if(null==s)throw new Ay(`missing choices[${o}].tool_calls[${n}].id\n${aw(e)}`);if(null==i)throw new Ay(`missing choices[${o}].tool_calls[${n}].type\n${aw(e)}`);if(null==u)throw new Ay(`missing choices[${o}].tool_calls[${n}].function.name\n${aw(e)}`);if(null==l)throw new Ay(`missing choices[${o}].tool_calls[${n}].function.arguments\n${aw(e)}`);return{...a,id:s,type:i,function:{...c,name:u,arguments:l}}}))}}:{...s,message:{...c,content:a,role:d,refusal:n.refusal??null},finish_reason:r,index:o,logprobs:i}})),created:o,model:i,object:"chat.completion",...s?{system_fingerprint:s}:{}};return function(e,t){return t&&Fb(t)?Mb(e,t):{...e,choices:e.choices.map((e=>({...e,message:{...e.message,parsed:null,...e.message.tool_calls?{tool_calls:e.message.tool_calls}:void 0}})))}}(l,t)}(e,Sy(this,Jb,"f"))},ow=function(){const e=Sy(this,Jb,"f")?.response_format;return jb(e)?e:null},iw=function(e){var t,n,r,o;let i=Sy(this,Zb,"f");const{choices:s,...a}=e;i?Object.assign(i,a):i=Ey(this,Zb,{...a,choices:[]},"f");for(const{delta:l,finish_reason:u,index:c,logprobs:d=null,...f}of e.choices){let e=i.choices[c];if(e||(e=i.choices[c]={finish_reason:u,index:c,message:{},logprobs:d,...f}),d)if(e.logprobs){const{content:r,refusal:o,...i}=d;Object.assign(e.logprobs,i),r&&((t=e.logprobs).content??(t.content=[]),e.logprobs.content.push(...r)),o&&((n=e.logprobs).refusal??(n.refusal=[]),e.logprobs.refusal.push(...o))}else e.logprobs=Object.assign({},d);if(u&&(e.finish_reason=u,Sy(this,Jb,"f")&&Fb(Sy(this,Jb,"f")))){if("length"===u)throw new qy;if("content_filter"===u)throw new Hy}if(Object.assign(e,f),!l)continue;const{content:s,refusal:a,function_call:p,role:h,tool_calls:m,...g}=l;if(Object.assign(e.message,g),a&&(e.message.refusal=(e.message.refusal||"")+a),h&&(e.message.role=h),p&&(e.message.function_call?(p.name&&(e.message.function_call.name=p.name),p.arguments&&((r=e.message.function_call).arguments??(r.arguments=""),e.message.function_call.arguments+=p.arguments)):e.message.function_call=p),s&&(e.message.content=(e.message.content||"")+s,!e.message.refusal&&Sy(this,Kb,"m",ow).call(this)&&(e.message.parsed=Gb(e.message.content))),m){e.message.tool_calls||(e.message.tool_calls=[]);for(const{index:t,id:n,type:r,function:i,...s}of m){const a=(o=e.message.tool_calls)[t]??(o[t]={});Object.assign(a,s),n&&(a.id=n),r&&(a.type=r),i&&(a.function??(a.function={name:i.name??"",arguments:""})),i?.name&&(a.function.name=i.name),i?.arguments&&(a.function.arguments+=i.arguments,Ub(Sy(this,Jb,"f"),a)&&(a.function.parsed_arguments=Gb(a.function.arguments)))}}}return i},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("chunk",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new Ov(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function aw(e){return JSON.stringify(e)}class lw extends sw{static fromReadableStream(e){const t=new lw(null);return t._run((()=>t._fromReadableStream(e))),t}static runTools(e,t,n){const r=new lw(t),o={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return r._run((()=>r._runTools(e,t,o))),r}}class uw extends ob{constructor(){super(...arguments),this.messages=new lb(this._client)}create(e,t){return this._client.post("/chat/completions",{body:e,...t,stream:e.stream??!1})}retrieve(e,t){return this._client.get(ab`/chat/completions/${e}`,t)}update(e,t,n){return this._client.post(ab`/chat/completions/${e}`,{body:t,...n})}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/chat/completions",Wv,{query:e,...t})}delete(e,t){return this._client.delete(ab`/chat/completions/${e}`,t)}parse(e,t){return function(e){for(const t of e??[]){if("function"!==t.type)throw new Ay(`Currently only \`function\` tool types support auto-parsing; Received \`${t.type}\``);if(!0!==t.function.strict)throw new Ay(`The \`${t.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}(e.tools),this._client.chat.completions.create(e,{...t,headers:{...t?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap((t=>Mb(t,e)))}runTools(e,t){return e.stream?lw.runTools(this._client,e,t):qb.runTools(this._client,e,t)}stream(e,t){return sw.createChatCompletion(this._client,e,t)}}uw.Messages=lb;class cw extends ob{constructor(){super(...arguments),this.completions=new uw(this._client)}}cw.Completions=uw;const dw=Symbol("brand.privateNullableHeaders");function*fw(e){if(!e)return;if(dw in e){const{values:t,nulls:n}=e;yield*t.entries();for(const e of n)yield[e,null];return}let t,n=!1;e instanceof Headers?t=e.entries():Wy(e)?t=e:(n=!0,t=Object.entries(e??{}));for(let r of t){const e=r[0];if("string"!==typeof e)throw new TypeError("expected header name to be a string");const t=Wy(r[1])?r[1]:[r[1]];let o=!1;for(const r of t)void 0!==r&&(n&&!o&&(o=!0,yield[e,null]),yield[e,r])}}const pw=e=>{const t=new Headers,n=new Set;for(const r of e){const e=new Set;for(const[o,i]of fw(r)){const r=o.toLowerCase();e.has(r)||(t.delete(o),e.add(r)),null===i?(t.delete(o),n.add(r)):(t.append(o,i),n.delete(r))}}return{[dw]:!0,values:t,nulls:n}};class hw extends ob{create(e,t){return this._client.post("/audio/speech",{body:e,...t,headers:pw([{Accept:"application/octet-stream"},t?.headers]),__binaryResponse:!0})}}class mw extends ob{create(e,t){return this._client.post("/audio/transcriptions",Zv({body:e,...t,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class gw extends ob{create(e,t){return this._client.post("/audio/translations",Zv({body:e,...t,__metadata:{model:e.model}},this._client))}}class yw extends ob{constructor(){super(...arguments),this.transcriptions=new mw(this._client),this.translations=new gw(this._client),this.speech=new hw(this._client)}}yw.Transcriptions=mw,yw.Translations=gw,yw.Speech=hw;class vw extends ob{create(e,t){return this._client.post("/batches",{body:e,...t})}retrieve(e,t){return this._client.get(ab`/batches/${e}`,t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/batches",Wv,{query:e,...t})}cancel(e,t){return this._client.post(ab`/batches/${e}/cancel`,t)}}class bw extends ob{create(e,t){return this._client.post("/assistants",{body:e,...t,headers:pw([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(ab`/assistants/${e}`,{...t,headers:pw([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,n){return this._client.post(ab`/assistants/${e}`,{body:t,...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/assistants",Wv,{query:e,...t,headers:pw([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}delete(e,t){return this._client.delete(ab`/assistants/${e}`,{...t,headers:pw([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}}class ww extends ob{create(e,t){return this._client.post("/realtime/sessions",{body:e,...t,headers:pw([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}}class _w extends ob{create(e,t){return this._client.post("/realtime/transcription_sessions",{body:e,...t,headers:pw([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}}class xw extends ob{constructor(){super(...arguments),this.sessions=new ww(this._client),this.transcriptionSessions=new _w(this._client)}}xw.Sessions=ww,xw.TranscriptionSessions=_w;class Cw extends ob{create(e,t,n){return this._client.post(ab`/threads/${e}/messages`,{body:t,...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,t,n){const{thread_id:r}=t;return this._client.get(ab`/threads/${r}/messages/${e}`,{...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,t,n){const{thread_id:r,...o}=t;return this._client.post(ab`/threads/${r}/messages/${e}`,{body:o,...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(ab`/threads/${e}/messages`,Wv,{query:t,...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,t,n){const{thread_id:r}=t;return this._client.delete(ab`/threads/${r}/messages/${e}`,{...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}class Ew extends ob{retrieve(e,t,n){const{thread_id:r,run_id:o,...i}=t;return this._client.get(ab`/threads/${r}/runs/${o}/steps/${e}`,{query:i,...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,t,n){const{thread_id:r,...o}=t;return this._client.getAPIList(ab`/threads/${r}/runs/${e}/steps`,Wv,{query:o,...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}const Sw=e=>"undefined"!==typeof globalThis.process?globalThis.process.env?.[e]?.trim()??void 0:"undefined"!==typeof globalThis.Deno?globalThis.Deno.env?.get?.(e)?.trim():void 0;var kw,Tw,Ow,Aw,Iw,Nw,Rw,Pw,jw,Dw,Mw,Lw,Uw,Fw,$w,Bw,qw,Hw,Vw,zw,Ww,Gw,Kw,Jw,Yw,Zw,Xw,Qw,e_,t_,n_;class r_ extends Pb{constructor(){super(...arguments),kw.add(this),Ow.set(this,[]),Aw.set(this,{}),Iw.set(this,{}),Nw.set(this,void 0),Rw.set(this,void 0),Pw.set(this,void 0),jw.set(this,void 0),Dw.set(this,void 0),Mw.set(this,void 0),Lw.set(this,void 0),Uw.set(this,void 0),Fw.set(this,void 0)}[(Ow=new WeakMap,Aw=new WeakMap,Iw=new WeakMap,Nw=new WeakMap,Rw=new WeakMap,Pw=new WeakMap,jw=new WeakMap,Dw=new WeakMap,Mw=new WeakMap,Lw=new WeakMap,Uw=new WeakMap,Fw=new WeakMap,kw=new WeakSet,Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const t=new Tw;return t._run((()=>t._fromReadableStream(e))),t}async _fromReadableStream(e,t){const n=t?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",(()=>this.controller.abort()))),this._connected();const r=Ov.fromReadableStream(e,this.controller);for await(const o of r)Sy(this,kw,"m",$w).call(this,o);if(r.controller.signal?.aborted)throw new Ny;return this._addRun(Sy(this,kw,"m",Bw).call(this))}toReadableStream(){return new Ov(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,t,n,r){const o=new Tw;return o._run((()=>o._runToolAssistantStream(e,t,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}}))),o}async _createToolAssistantStream(e,t,n,r){const o=r?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",(()=>this.controller.abort())));const i={...n,stream:!0},s=await e.submitToolOutputs(t,i,{...r,signal:this.controller.signal});this._connected();for await(const a of s)Sy(this,kw,"m",$w).call(this,a);if(s.controller.signal?.aborted)throw new Ny;return this._addRun(Sy(this,kw,"m",Bw).call(this))}static createThreadAssistantStream(e,t,n){const r=new Tw;return r._run((()=>r._threadAssistantStream(e,t,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}static createAssistantStream(e,t,n,r){const o=new Tw;return o._run((()=>o._runAssistantStream(e,t,n,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"stream"}}))),o}currentEvent(){return Sy(this,Lw,"f")}currentRun(){return Sy(this,Uw,"f")}currentMessageSnapshot(){return Sy(this,Nw,"f")}currentRunStepSnapshot(){return Sy(this,Fw,"f")}async finalRunSteps(){return await this.done(),Object.values(Sy(this,Aw,"f"))}async finalMessages(){return await this.done(),Object.values(Sy(this,Iw,"f"))}async finalRun(){if(await this.done(),!Sy(this,Rw,"f"))throw Error("Final run was not received.");return Sy(this,Rw,"f")}async _createThreadAssistantStream(e,t,n){const r=n?.signal;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort())));const o={...t,stream:!0},i=await e.createAndRun(o,{...n,signal:this.controller.signal});this._connected();for await(const s of i)Sy(this,kw,"m",$w).call(this,s);if(i.controller.signal?.aborted)throw new Ny;return this._addRun(Sy(this,kw,"m",Bw).call(this))}async _createAssistantStream(e,t,n,r){const o=r?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",(()=>this.controller.abort())));const i={...n,stream:!0},s=await e.create(t,i,{...r,signal:this.controller.signal});this._connected();for await(const a of s)Sy(this,kw,"m",$w).call(this,a);if(s.controller.signal?.aborted)throw new Ny;return this._addRun(Sy(this,kw,"m",Bw).call(this))}static accumulateDelta(e,t){for(const[n,r]of Object.entries(t)){if(!e.hasOwnProperty(n)){e[n]=r;continue}let t=e[n];if(null!==t&&void 0!==t)if("index"!==n&&"type"!==n){if("string"===typeof t&&"string"===typeof r)t+=r;else if("number"===typeof t&&"number"===typeof r)t+=r;else{if(!Gy(t)||!Gy(r)){if(Array.isArray(t)&&Array.isArray(r)){if(t.every((e=>"string"===typeof e||"number"===typeof e))){t.push(...r);continue}for(const e of r){if(!Gy(e))throw new Error(`Expected array delta entry to be an object but got: ${e}`);const n=e.index;if(null==n)throw console.error(e),new Error("Expected array delta entry to have an `index` property");if("number"!==typeof n)throw new Error(`Expected array delta entry \`index\` property to be a number but got ${n}`);const r=t[n];null==r?t.push(e):t[n]=this.accumulateDelta(r,e)}continue}throw Error(`Unhandled record type: ${n}, deltaValue: ${r}, accValue: ${t}`)}t=this.accumulateDelta(t,r)}e[n]=t}else e[n]=r;else e[n]=r}return e}_addRun(e){return e}async _threadAssistantStream(e,t,n){return await this._createThreadAssistantStream(t,e,n)}async _runAssistantStream(e,t,n,r){return await this._createAssistantStream(t,e,n,r)}async _runToolAssistantStream(e,t,n,r){return await this._createToolAssistantStream(t,e,n,r)}}Tw=r_,$w=function(e){if(!this.ended)switch(Ey(this,Lw,e,"f"),Sy(this,kw,"m",Vw).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":Sy(this,kw,"m",Kw).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Sy(this,kw,"m",Hw).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":Sy(this,kw,"m",qw).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},Bw=function(){if(this.ended)throw new Ay("stream has ended, this shouldn't happen");if(!Sy(this,Rw,"f"))throw Error("Final run has not been received");return Sy(this,Rw,"f")},qw=function(e){const[t,n]=Sy(this,kw,"m",Ww).call(this,e,Sy(this,Nw,"f"));Ey(this,Nw,t,"f"),Sy(this,Iw,"f")[t.id]=t;for(const r of n){const e=t.content[r.index];"text"==e?.type&&this._emit("textCreated",e.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,t),e.data.delta.content)for(const n of e.data.delta.content){if("text"==n.type&&n.text){let e=n.text,r=t.content[n.index];if(!r||"text"!=r.type)throw Error("The snapshot associated with this text delta is not text or missing");this._emit("textDelta",e,r.text)}if(n.index!=Sy(this,Pw,"f")){if(Sy(this,jw,"f"))switch(Sy(this,jw,"f").type){case"text":this._emit("textDone",Sy(this,jw,"f").text,Sy(this,Nw,"f"));break;case"image_file":this._emit("imageFileDone",Sy(this,jw,"f").image_file,Sy(this,Nw,"f"))}Ey(this,Pw,n.index,"f")}Ey(this,jw,t.content[n.index],"f")}break;case"thread.message.completed":case"thread.message.incomplete":if(void 0!==Sy(this,Pw,"f")){const t=e.data.content[Sy(this,Pw,"f")];if(t)switch(t.type){case"image_file":this._emit("imageFileDone",t.image_file,Sy(this,Nw,"f"));break;case"text":this._emit("textDone",t.text,Sy(this,Nw,"f"))}}Sy(this,Nw,"f")&&this._emit("messageDone",e.data),Ey(this,Nw,void 0,"f")}},Hw=function(e){const t=Sy(this,kw,"m",zw).call(this,e);switch(Ey(this,Fw,t,"f"),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&"tool_calls"==n.step_details.type&&n.step_details.tool_calls&&"tool_calls"==t.step_details.type)for(const e of n.step_details.tool_calls)e.index==Sy(this,Dw,"f")?this._emit("toolCallDelta",e,t.step_details.tool_calls[e.index]):(Sy(this,Mw,"f")&&this._emit("toolCallDone",Sy(this,Mw,"f")),Ey(this,Dw,e.index,"f"),Ey(this,Mw,t.step_details.tool_calls[e.index],"f"),Sy(this,Mw,"f")&&this._emit("toolCallCreated",Sy(this,Mw,"f")));this._emit("runStepDelta",e.data.delta,t);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":Ey(this,Fw,void 0,"f");"tool_calls"==e.data.step_details.type&&Sy(this,Mw,"f")&&(this._emit("toolCallDone",Sy(this,Mw,"f")),Ey(this,Mw,void 0,"f")),this._emit("runStepDone",e.data,t)}},Vw=function(e){Sy(this,Ow,"f").push(e),this._emit("event",e)},zw=function(e){switch(e.event){case"thread.run.step.created":return Sy(this,Aw,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let t=Sy(this,Aw,"f")[e.data.id];if(!t)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const r=Tw.accumulateDelta(t,n.delta);Sy(this,Aw,"f")[e.data.id]=r}return Sy(this,Aw,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":Sy(this,Aw,"f")[e.data.id]=e.data}if(Sy(this,Aw,"f")[e.data.id])return Sy(this,Aw,"f")[e.data.id];throw new Error("No snapshot available")},Ww=function(e,t){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!t)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let r=e.data;if(r.delta.content)for(const e of r.delta.content)if(e.index in t.content){let n=t.content[e.index];t.content[e.index]=Sy(this,kw,"m",Gw).call(this,e,n)}else t.content[e.index]=e,n.push(e);return[t,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(t)return[t,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Gw=function(e,t){return Tw.accumulateDelta(t,e)},Kw=function(e){switch(Ey(this,Uw,e.data,"f"),e.event){case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.cancelling":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":Ey(this,Rw,e.data,"f"),Sy(this,Mw,"f")&&(this._emit("toolCallDone",Sy(this,Mw,"f")),Ey(this,Mw,void 0,"f"))}};class o_ extends ob{constructor(){super(...arguments),this.steps=new Ew(this._client)}create(e,t,n){const{include:r,...o}=t;return this._client.post(ab`/threads/${e}/runs`,{query:{include:r},body:o,...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:t.stream??!1})}retrieve(e,t,n){const{thread_id:r}=t;return this._client.get(ab`/threads/${r}/runs/${e}`,{...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,t,n){const{thread_id:r,...o}=t;return this._client.post(ab`/threads/${r}/runs/${e}`,{body:o,...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(ab`/threads/${e}/runs`,Wv,{query:t,...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(e,t,n){const{thread_id:r}=t;return this._client.post(ab`/threads/${r}/runs/${e}/cancel`,{...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(r.id,{thread_id:e},n)}createAndStream(e,t,n){return r_.createAssistantStream(e,this._client.beta.threads.runs,t,n)}async poll(e,t,n){const r=pw([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:o,response:i}=await this.retrieve(e,t,{...n,headers:{...n?.headers,...r}}).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=i.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await Ky(e);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(e,t,n){return r_.createAssistantStream(e,this._client.beta.threads.runs,t,n)}submitToolOutputs(e,t,n){const{thread_id:r,...o}=t;return this._client.post(ab`/threads/${r}/runs/${e}/submit_tool_outputs`,{body:o,...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:t.stream??!1})}async submitToolOutputsAndPoll(e,t,n){const r=await this.submitToolOutputs(e,t,n);return await this.poll(r.id,t,n)}submitToolOutputsStream(e,t,n){return r_.createToolAssistantStream(e,this._client.beta.threads.runs,t,n)}}o_.Steps=Ew;class i_ extends ob{constructor(){super(...arguments),this.runs=new o_(this._client),this.messages=new Cw(this._client)}create(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.post("/threads",{body:e,...t,headers:pw([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(ab`/threads/${e}`,{...t,headers:pw([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,n){return this._client.post(ab`/threads/${e}`,{body:t,...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,t){return this._client.delete(ab`/threads/${e}`,{...t,headers:pw([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}createAndRun(e,t){return this._client.post("/threads/runs",{body:e,...t,headers:pw([{"OpenAI-Beta":"assistants=v2"},t?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,t){const n=await this.createAndRun(e,t);return await this.runs.poll(n.id,{thread_id:n.thread_id},t)}createAndRunStream(e,t){return r_.createThreadAssistantStream(e,this._client.beta.threads,t)}}i_.Runs=o_,i_.Messages=Cw;class s_ extends ob{constructor(){super(...arguments),this.realtime=new xw(this._client),this.assistants=new bw(this._client),this.threads=new i_(this._client)}}s_.Realtime=xw,s_.Assistants=bw,s_.Threads=i_;class a_ extends ob{create(e,t){return this._client.post("/completions",{body:e,...t,stream:e.stream??!1})}}class l_ extends ob{retrieve(e,t,n){const{container_id:r}=t;return this._client.get(ab`/containers/${r}/files/${e}/content`,{...n,headers:pw([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}}class u_ extends ob{constructor(){super(...arguments),this.content=new l_(this._client)}create(e,t,n){return this._client.post(ab`/containers/${e}/files`,Zv({body:t,...n},this._client))}retrieve(e,t,n){const{container_id:r}=t;return this._client.get(ab`/containers/${r}/files/${e}`,n)}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(ab`/containers/${e}/files`,Wv,{query:t,...n})}delete(e,t,n){const{container_id:r}=t;return this._client.delete(ab`/containers/${r}/files/${e}`,{...n,headers:pw([{Accept:"*/*"},n?.headers])})}}u_.Content=l_;class c_ extends ob{constructor(){super(...arguments),this.files=new u_(this._client)}create(e,t){return this._client.post("/containers",{body:e,...t})}retrieve(e,t){return this._client.get(ab`/containers/${e}`,t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/containers",Wv,{query:e,...t})}delete(e,t){return this._client.delete(ab`/containers/${e}`,{...t,headers:pw([{Accept:"*/*"},t?.headers])})}}c_.Files=u_;class d_ extends ob{create(e,t){const n=!!e.encoding_format;let r=n?e.encoding_format:"base64";n&&Mv(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const o=this._client.post("/embeddings",{body:{...e,encoding_format:r},...t});return n?o:(Mv(this._client).debug("embeddings/decoding base64 embeddings from base64"),o._thenUnwrap((e=>(e&&e.data&&e.data.forEach((e=>{const t=e.embedding;e.embedding=(e=>{if("undefined"!==typeof Buffer){const t=Buffer.from(e,"base64");return Array.from(new Float32Array(t.buffer,t.byteOffset,t.length/Float32Array.BYTES_PER_ELEMENT))}{const t=atob(e),n=t.length,r=new Uint8Array(n);for(let e=0;e<n;e++)r[e]=t.charCodeAt(e);return Array.from(new Float32Array(r.buffer))}})(t)})),e))))}}class f_ extends ob{retrieve(e,t,n){const{eval_id:r,run_id:o}=t;return this._client.get(ab`/evals/${r}/runs/${o}/output_items/${e}`,n)}list(e,t,n){const{eval_id:r,...o}=t;return this._client.getAPIList(ab`/evals/${r}/runs/${e}/output_items`,Wv,{query:o,...n})}}class p_ extends ob{constructor(){super(...arguments),this.outputItems=new f_(this._client)}create(e,t,n){return this._client.post(ab`/evals/${e}/runs`,{body:t,...n})}retrieve(e,t,n){const{eval_id:r}=t;return this._client.get(ab`/evals/${r}/runs/${e}`,n)}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(ab`/evals/${e}/runs`,Wv,{query:t,...n})}delete(e,t,n){const{eval_id:r}=t;return this._client.delete(ab`/evals/${r}/runs/${e}`,n)}cancel(e,t,n){const{eval_id:r}=t;return this._client.post(ab`/evals/${r}/runs/${e}`,n)}}p_.OutputItems=f_;class h_ extends ob{constructor(){super(...arguments),this.runs=new p_(this._client)}create(e,t){return this._client.post("/evals",{body:e,...t})}retrieve(e,t){return this._client.get(ab`/evals/${e}`,t)}update(e,t,n){return this._client.post(ab`/evals/${e}`,{body:t,...n})}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/evals",Wv,{query:e,...t})}delete(e,t){return this._client.delete(ab`/evals/${e}`,t)}}h_.Runs=p_;class m_ extends ob{create(e,t){return this._client.post("/files",Zv({body:e,...t},this._client))}retrieve(e,t){return this._client.get(ab`/files/${e}`,t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/files",Wv,{query:e,...t})}delete(e,t){return this._client.delete(ab`/files/${e}`,t)}content(e,t){return this._client.get(ab`/files/${e}/content`,{...t,headers:pw([{Accept:"application/binary"},t?.headers]),__binaryResponse:!0})}async waitForProcessing(e){let{pollInterval:t=5e3,maxWait:n=18e5}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=new Set(["processed","error","deleted"]),o=Date.now();let i=await this.retrieve(e);for(;!i.status||!r.has(i.status);)if(await Ky(t),i=await this.retrieve(e),Date.now()-o>n)throw new Py({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return i}}class g_ extends ob{}class y_ extends ob{run(e,t){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...t})}validate(e,t){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...t})}}class v_ extends ob{constructor(){super(...arguments),this.graders=new y_(this._client)}}v_.Graders=y_;class b_ extends ob{create(e,t,n){return this._client.getAPIList(ab`/fine_tuning/checkpoints/${e}/permissions`,zv,{body:t,method:"post",...n})}retrieve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(ab`/fine_tuning/checkpoints/${e}/permissions`,Wv,{query:t,...n})}delete(e,t,n){const{fine_tuned_model_checkpoint:r}=t;return this._client.delete(ab`/fine_tuning/checkpoints/${r}/permissions/${e}`,n)}}class w_ extends ob{constructor(){super(...arguments),this.permissions=new b_(this._client)}}w_.Permissions=b_;class __ extends ob{list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(ab`/fine_tuning/jobs/${e}/checkpoints`,Wv,{query:t,...n})}}class x_ extends ob{constructor(){super(...arguments),this.checkpoints=new __(this._client)}create(e,t){return this._client.post("/fine_tuning/jobs",{body:e,...t})}retrieve(e,t){return this._client.get(ab`/fine_tuning/jobs/${e}`,t)}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/fine_tuning/jobs",Wv,{query:e,...t})}cancel(e,t){return this._client.post(ab`/fine_tuning/jobs/${e}/cancel`,t)}listEvents(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(ab`/fine_tuning/jobs/${e}/events`,Wv,{query:t,...n})}pause(e,t){return this._client.post(ab`/fine_tuning/jobs/${e}/pause`,t)}resume(e,t){return this._client.post(ab`/fine_tuning/jobs/${e}/resume`,t)}}x_.Checkpoints=__;class C_ extends ob{constructor(){super(...arguments),this.methods=new g_(this._client),this.jobs=new x_(this._client),this.checkpoints=new w_(this._client),this.alpha=new v_(this._client)}}C_.Methods=g_,C_.Jobs=x_,C_.Checkpoints=w_,C_.Alpha=v_;class E_ extends ob{}class S_ extends ob{constructor(){super(...arguments),this.graderModels=new E_(this._client)}}S_.GraderModels=E_;class k_ extends ob{createVariation(e,t){return this._client.post("/images/variations",Zv({body:e,...t},this._client))}edit(e,t){return this._client.post("/images/edits",Zv({body:e,...t},this._client))}generate(e,t){return this._client.post("/images/generations",{body:e,...t})}}class T_ extends ob{retrieve(e,t){return this._client.get(ab`/models/${e}`,t)}list(e){return this._client.getAPIList("/models",zv,e)}delete(e,t){return this._client.delete(ab`/models/${e}`,t)}}class O_ extends ob{create(e,t){return this._client.post("/moderations",{body:e,...t})}}function A_(e,t){return t&&function(e){if(jb(e.text?.format))return!0;return!1}(t)?I_(e,t):{...e,output_parsed:null,output:e.output.map((e=>"function_call"===e.type?{...e,parsed_arguments:null}:"message"===e.type?{...e,content:e.content.map((e=>({...e,parsed:null})))}:e))}}function I_(e,t){const n=e.output.map((e=>{if("function_call"===e.type)return{...e,parsed_arguments:j_(t,e)};if("message"===e.type){const n=e.content.map((e=>"output_text"===e.type?{...e,parsed:N_(t,e.text)}:e));return{...e,content:n}}return e})),r=Object.assign({},e,{output:n});return Object.getOwnPropertyDescriptor(e,"output_text")||D_(r),Object.defineProperty(r,"output_parsed",{enumerable:!0,get(){for(const e of r.output)if("message"===e.type)for(const t of e.content)if("output_text"===t.type&&null!==t.parsed)return t.parsed;return null}}),r}function N_(e,t){if("json_schema"!==e.text?.format?.type)return null;if("$parseRaw"in e.text?.format){const n=e.text?.format;return n.$parseRaw(t)}return JSON.parse(t)}function R_(e){return"auto-parseable-tool"===e?.$brand}function P_(e,t){return e.find((e=>"function"===e.type&&e.name===t))}function j_(e,t){const n=P_(e.tools??[],t.name);return{...t,...t,parsed_arguments:R_(n)?n.$parseRaw(t.arguments):n?.strict?JSON.parse(t.arguments):null}}function D_(e){const t=[];for(const n of e.output)if("message"===n.type)for(const e of n.content)"output_text"===e.type&&t.push(e.text);e.output_text=t.join("")}class M_ extends Pb{constructor(e){super(),Jw.add(this),Yw.set(this,void 0),Zw.set(this,void 0),Xw.set(this,void 0),Ey(this,Yw,e,"f")}static createResponse(e,t,n){const r=new M_(t);return r._run((()=>r._createOrRetrieveResponse(e,t,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}}))),r}async _createOrRetrieveResponse(e,t,n){const r=n?.signal;let o;r&&(r.aborted&&this.controller.abort(),r.addEventListener("abort",(()=>this.controller.abort()))),Sy(this,Jw,"m",Qw).call(this);let i=null;"response_id"in t?(o=await e.responses.retrieve(t.response_id,{stream:!0},{...n,signal:this.controller.signal,stream:!0}),i=t.starting_after??null):o=await e.responses.create({...t,stream:!0},{...n,signal:this.controller.signal}),this._connected();for await(const s of o)Sy(this,Jw,"m",e_).call(this,s,i);if(o.controller.signal?.aborted)throw new Ny;return Sy(this,Jw,"m",t_).call(this)}[(Yw=new WeakMap,Zw=new WeakMap,Xw=new WeakMap,Jw=new WeakSet,Qw=function(){this.ended||Ey(this,Zw,void 0,"f")},e_=function(e,t){if(this.ended)return;const n=(e,n)=>{(null==t||n.sequence_number>t)&&this._emit(e,n)},r=Sy(this,Jw,"m",n_).call(this,e);switch(n("event",e),e.type){case"response.output_text.delta":{const t=r.output[e.output_index];if(!t)throw new Ay(`missing output at index ${e.output_index}`);if("message"===t.type){const r=t.content[e.content_index];if(!r)throw new Ay(`missing content at index ${e.content_index}`);if("output_text"!==r.type)throw new Ay(`expected content to be 'output_text', got ${r.type}`);n("response.output_text.delta",{...e,snapshot:r.text})}break}case"response.function_call_arguments.delta":{const t=r.output[e.output_index];if(!t)throw new Ay(`missing output at index ${e.output_index}`);"function_call"===t.type&&n("response.function_call_arguments.delta",{...e,snapshot:t.arguments});break}default:n(e.type,e)}},t_=function(){if(this.ended)throw new Ay("stream has ended, this shouldn't happen");const e=Sy(this,Zw,"f");if(!e)throw new Ay("request ended without sending any events");Ey(this,Zw,void 0,"f");const t=function(e,t){return A_(e,t)}(e,Sy(this,Yw,"f"));return Ey(this,Xw,t,"f"),t},n_=function(e){let t=Sy(this,Zw,"f");if(!t){if("response.created"!==e.type)throw new Ay(`When snapshot hasn't been set yet, expected 'response.created' event, got ${e.type}`);return t=Ey(this,Zw,e.response,"f"),t}switch(e.type){case"response.output_item.added":t.output.push(e.item);break;case"response.content_part.added":{const n=t.output[e.output_index];if(!n)throw new Ay(`missing output at index ${e.output_index}`);"message"===n.type&&n.content.push(e.part);break}case"response.output_text.delta":{const n=t.output[e.output_index];if(!n)throw new Ay(`missing output at index ${e.output_index}`);if("message"===n.type){const t=n.content[e.content_index];if(!t)throw new Ay(`missing content at index ${e.content_index}`);if("output_text"!==t.type)throw new Ay(`expected content to be 'output_text', got ${t.type}`);t.text+=e.delta}break}case"response.function_call_arguments.delta":{const n=t.output[e.output_index];if(!n)throw new Ay(`missing output at index ${e.output_index}`);"function_call"===n.type&&(n.arguments+=e.delta);break}case"response.completed":Ey(this,Zw,e.response,"f")}return t},Symbol.asyncIterator)](){const e=[],t=[];let n=!1;return this.on("event",(n=>{const r=t.shift();r?r.resolve(n):e.push(n)})),this.on("end",(()=>{n=!0;for(const e of t)e.resolve(void 0);t.length=0})),this.on("abort",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),this.on("error",(e=>{n=!0;for(const n of t)n.reject(e);t.length=0})),{next:async()=>{if(!e.length)return n?{value:void 0,done:!0}:new Promise(((e,n)=>t.push({resolve:e,reject:n}))).then((e=>e?{value:e,done:!1}:{value:void 0,done:!0}));return{value:e.shift(),done:!1}},return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=Sy(this,Xw,"f");if(!e)throw new Ay("stream ended without producing a ChatCompletion");return e}}class L_ extends ob{list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(ab`/responses/${e}/input_items`,Wv,{query:t,...n})}}class U_ extends ob{constructor(){super(...arguments),this.inputItems=new L_(this._client)}create(e,t){return this._client.post("/responses",{body:e,...t,stream:e.stream??!1})._thenUnwrap((e=>("object"in e&&"response"===e.object&&D_(e),e)))}retrieve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.get(ab`/responses/${e}`,{query:t,...n,stream:t?.stream??!1})}delete(e,t){return this._client.delete(ab`/responses/${e}`,{...t,headers:pw([{Accept:"*/*"},t?.headers])})}parse(e,t){return this._client.responses.create(e,t)._thenUnwrap((t=>I_(t,e)))}stream(e,t){return M_.createResponse(this._client,e,t)}cancel(e,t){return this._client.post(ab`/responses/${e}/cancel`,t)}}U_.InputItems=L_;class F_ extends ob{create(e,t,n){return this._client.post(ab`/uploads/${e}/parts`,Zv({body:t,...n},this._client))}}class $_ extends ob{constructor(){super(...arguments),this.parts=new F_(this._client)}create(e,t){return this._client.post("/uploads",{body:e,...t})}cancel(e,t){return this._client.post(ab`/uploads/${e}/cancel`,t)}complete(e,t,n){return this._client.post(ab`/uploads/${e}/complete`,{body:t,...n})}}$_.Parts=F_;class B_ extends ob{create(e,t,n){return this._client.post(ab`/vector_stores/${e}/file_batches`,{body:t,...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,t,n){const{vector_store_id:r}=t;return this._client.get(ab`/vector_stores/${r}/file_batches/${e}`,{...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(e,t,n){const{vector_store_id:r}=t;return this._client.post(ab`/vector_stores/${r}/file_batches/${e}/cancel`,{...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,t,n){const r=await this.create(e,t);return await this.poll(e,r.id,n)}listFiles(e,t,n){const{vector_store_id:r,...o}=t;return this._client.getAPIList(ab`/vector_stores/${r}/file_batches/${e}/files`,Wv,{query:o,...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async poll(e,t,n){const r=pw([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:o,response:i}=await this.retrieve(t,{vector_store_id:e},{...n,headers:r}).withResponse();switch(o.status){case"in_progress":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=i.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await Ky(e);break;case"failed":case"cancelled":case"completed":return o}}}async uploadAndPoll(e,t,n){let{files:r,fileIds:o=[]}=t;if(null==r||0==r.length)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const i=n?.maxConcurrency??5,s=Math.min(i,r.length),a=this._client,l=r.values(),u=[...o];const c=Array(s).fill(l).map((async function(e){for(let t of e){const e=await a.files.create({file:t,purpose:"assistants"},n);u.push(e.id)}}));return await(async e=>{const t=await Promise.allSettled(e),n=t.filter((e=>"rejected"===e.status));if(n.length){for(const e of n)console.error(e.reason);throw new Error(`${n.length} promise(s) failed - see the above errors`)}const r=[];for(const o of t)"fulfilled"===o.status&&r.push(o.value);return r})(c),await this.createAndPoll(e,{file_ids:u})}}class q_ extends ob{create(e,t,n){return this._client.post(ab`/vector_stores/${e}/files`,{body:t,...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,t,n){const{vector_store_id:r}=t;return this._client.get(ab`/vector_stores/${r}/files/${e}`,{...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,t,n){const{vector_store_id:r,...o}=t;return this._client.post(ab`/vector_stores/${r}/files/${e}`,{body:o,...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return this._client.getAPIList(ab`/vector_stores/${e}/files`,Wv,{query:t,...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,t,n){const{vector_store_id:r}=t;return this._client.delete(ab`/vector_stores/${r}/files/${e}`,{...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,t,n){const r=await this.create(e,t,n);return await this.poll(e,r.id,n)}async poll(e,t,n){const r=pw([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const o=await this.retrieve(t,{vector_store_id:e},{...n,headers:r}).withResponse(),i=o.data;switch(i.status){case"in_progress":let e=5e3;if(n?.pollIntervalMs)e=n.pollIntervalMs;else{const t=o.response.headers.get("openai-poll-after-ms");if(t){const n=parseInt(t);isNaN(n)||(e=n)}}await Ky(e);break;case"failed":case"completed":return i}}}async upload(e,t,n){const r=await this._client.files.create({file:t,purpose:"assistants"},n);return this.create(e,{file_id:r.id},n)}async uploadAndPoll(e,t,n){const r=await this.upload(e,t,n);return await this.poll(e,r.id,n)}content(e,t,n){const{vector_store_id:r}=t;return this._client.getAPIList(ab`/vector_stores/${r}/files/${e}/content`,zv,{...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}class H_ extends ob{constructor(){super(...arguments),this.files=new q_(this._client),this.fileBatches=new B_(this._client)}create(e,t){return this._client.post("/vector_stores",{body:e,...t,headers:pw([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}retrieve(e,t){return this._client.get(ab`/vector_stores/${e}`,{...t,headers:pw([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}update(e,t,n){return this._client.post(ab`/vector_stores/${e}`,{body:t,...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return this._client.getAPIList("/vector_stores",Wv,{query:e,...t,headers:pw([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}delete(e,t){return this._client.delete(ab`/vector_stores/${e}`,{...t,headers:pw([{"OpenAI-Beta":"assistants=v2"},t?.headers])})}search(e,t,n){return this._client.getAPIList(ab`/vector_stores/${e}/search`,zv,{body:t,method:"post",...n,headers:pw([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}var V_,z_,W_,G_;H_.Files=q_,H_.FileBatches=B_;class K_{constructor(){let{baseURL:e=Sw("OPENAI_BASE_URL"),apiKey:t=Sw("OPENAI_API_KEY"),organization:n=Sw("OPENAI_ORG_ID")??null,project:r=Sw("OPENAI_PROJECT_ID")??null,...o}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(V_.add(this),W_.set(this,void 0),this.completions=new a_(this),this.chat=new cw(this),this.embeddings=new d_(this),this.files=new m_(this),this.images=new k_(this),this.audio=new yw(this),this.moderations=new O_(this),this.models=new T_(this),this.fineTuning=new C_(this),this.graders=new S_(this),this.vectorStores=new H_(this),this.beta=new s_(this),this.batches=new vw(this),this.uploads=new $_(this),this.responses=new U_(this),this.evals=new h_(this),this.containers=new c_(this),void 0===t)throw new Ay("The OPENAI_API_KEY environment variable is missing or empty; either provide it, or instantiate the OpenAI client with an apiKey option, like new OpenAI({ apiKey: 'My API Key' }).");const i={apiKey:t,organization:n,project:r,...o,baseURL:e||"https://api.openai.com/v1"};if(!i.dangerouslyAllowBrowser&&"undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof navigator)throw new Ay("It looks like you're running in a browser-like environment.\n\nThis is disabled by default, as it risks exposing your secret API credentials to attackers.\nIf you understand the risks and have appropriate mitigations in place,\nyou can set the `dangerouslyAllowBrowser` option to `true`, e.g.,\n\nnew OpenAI({ apiKey, dangerouslyAllowBrowser: true });\n\nhttps://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety\n");this.baseURL=i.baseURL,this.timeout=i.timeout??z_.DEFAULT_TIMEOUT,this.logger=i.logger??console;const s="warn";this.logLevel=s,this.logLevel=Nv(i.logLevel,"ClientOptions.logLevel",this)??Nv(Sw("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??s,this.fetchOptions=i.fetchOptions,this.maxRetries=i.maxRetries??2,this.fetch=i.fetch??function(){if("undefined"!==typeof fetch)return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}(),Ey(this,W_,rv,"f"),this._options=i,this.apiKey=t,this.organization=n,this.project=r}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders(e){let{values:t,nulls:n}=e}authHeaders(e){return pw([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return vv(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Jy}`}defaultIdempotencyKey(){return`stainless-node-retry-${ky()}`}makeStatusError(e,t,n,r){return Iy.generate(e,t,n,r)}buildURL(e,t,n){const r=!Sy(this,V_,"m",G_).call(this)&&n||this.baseURL,o=(e=>Vy.test(e))(e)?new URL(e):new URL(r+(r.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),i=this.defaultQuery();return function(e){if(!e)return!0;for(const t in e)return!1;return!0}(i)||(t={...i,...t}),"object"===typeof t&&t&&!Array.isArray(t)&&(o.search=this.stringifyQuery(t)),o.toString()}async prepareOptions(e){}async prepareRequest(e,t){let{url:n,options:r}=t}get(e,t){return this.methodRequest("get",e,t)}post(e,t){return this.methodRequest("post",e,t)}patch(e,t){return this.methodRequest("patch",e,t)}put(e,t){return this.methodRequest("put",e,t)}delete(e,t){return this.methodRequest("delete",e,t)}methodRequest(e,t,n){return this.request(Promise.resolve(n).then((n=>({method:e,path:t,...n}))))}request(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return new qv(this,this.makeRequest(e,t,void 0))}async makeRequest(e,t,n){const r=await e,o=r.maxRetries??this.maxRetries;null==t&&(t=o),await this.prepareOptions(r);const{req:i,url:s,timeout:a}=this.buildRequest(r,{retryCount:o-t});await this.prepareRequest(i,{url:s,options:r});const l="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),u=void 0===n?"":`, retryOf: ${n}`,c=Date.now();if(Mv(this).debug(`[${l}] sending request`,Lv({retryOfRequestLogID:n,method:r.method,url:s,options:r,headers:i.headers})),r.signal?.aborted)throw new Ny;const d=new AbortController,f=await this.fetchWithTimeout(s,i,a,d).catch(Oy),p=Date.now();if(f instanceof Error){const e=`retrying, ${t} attempts remaining`;if(r.signal?.aborted)throw new Ny;const o=Ty(f)||/timed? ?out/i.test(String(f)+("cause"in f?String(f.cause):""));if(t)return Mv(this).info(`[${l}] connection ${o?"timed out":"failed"} - ${e}`),Mv(this).debug(`[${l}] connection ${o?"timed out":"failed"} (${e})`,Lv({retryOfRequestLogID:n,url:s,durationMs:p-c,message:f.message})),this.retryRequest(r,t,n??l);if(Mv(this).info(`[${l}] connection ${o?"timed out":"failed"} - error; no more retries left`),Mv(this).debug(`[${l}] connection ${o?"timed out":"failed"} (error; no more retries left)`,Lv({retryOfRequestLogID:n,url:s,durationMs:p-c,message:f.message})),o)throw new Py;throw new Ry({cause:f})}const h=`[${l}${u}${[...f.headers.entries()].filter((e=>{let[t]=e;return"x-request-id"===t})).map((e=>{let[t,n]=e;return", "+t+": "+JSON.stringify(n)})).join("")}] ${i.method} ${s} ${f.ok?"succeeded":"failed"} with status ${f.status} in ${p-c}ms`;if(!f.ok){const e=this.shouldRetry(f);if(t&&e){const e=`retrying, ${t} attempts remaining`;return await async function(e){if(null===e||"object"!==typeof e)return;if(e[Symbol.asyncIterator])return void await(e[Symbol.asyncIterator]().return?.());const t=e.getReader(),n=t.cancel();t.releaseLock(),await n}(f.body),Mv(this).info(`${h} - ${e}`),Mv(this).debug(`[${l}] response error (${e})`,Lv({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,durationMs:p-c})),this.retryRequest(r,t,n??l,f.headers)}const o=e?"error; no more retries left":"error; not retryable";Mv(this).info(`${h} - ${o}`);const i=await f.text().catch((e=>Oy(e).message)),s=(e=>{try{return JSON.parse(e)}catch(t){return}})(i),a=s?void 0:i;Mv(this).debug(`[${l}] response error (${o})`,Lv({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,message:a,durationMs:Date.now()-c}));throw this.makeStatusError(f.status,s,a,f.headers)}return Mv(this).info(h),Mv(this).debug(`[${l}] response start`,Lv({retryOfRequestLogID:n,url:f.url,status:f.status,headers:f.headers,durationMs:p-c})),{response:f,options:r,controller:d,requestLogID:l,retryOfRequestLogID:n,startTime:c}}getAPIList(e,t,n){return this.requestAPIList(t,{method:"get",path:e,...n})}requestAPIList(e,t){const n=this.makeRequest(t,null,void 0);return new Vv(this,n,e)}async fetchWithTimeout(e,t,n,r){const{signal:o,method:i,...s}=t||{};o&&o.addEventListener("abort",(()=>r.abort()));const a=setTimeout((()=>r.abort()),n),l=globalThis.ReadableStream&&s.body instanceof globalThis.ReadableStream||"object"===typeof s.body&&null!==s.body&&Symbol.asyncIterator in s.body,u={signal:r.signal,...l?{duplex:"half"}:{},method:"GET",...s};i&&(u.method=i.toUpperCase());try{return await this.fetch.call(void 0,e,u)}finally{clearTimeout(a)}}shouldRetry(e){const t=e.headers.get("x-should-retry");return"true"===t||"false"!==t&&(408===e.status||(409===e.status||(429===e.status||e.status>=500)))}async retryRequest(e,t,n,r){let o;const i=r?.get("retry-after-ms");if(i){const e=parseFloat(i);Number.isNaN(e)||(o=e)}const s=r?.get("retry-after");if(s&&!o){const e=parseFloat(s);o=Number.isNaN(e)?Date.parse(s)-Date.now():1e3*e}if(!(o&&0<=o&&o<6e4)){const n=e.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(t,n)}return await Ky(o),this.makeRequest(e,t-1,n)}calculateDefaultRetryTimeoutMillis(e,t){const n=t-e;return Math.min(.5*Math.pow(2,n),8)*(1-.25*Math.random())*1e3}buildRequest(e){let{retryCount:t=0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n={...e},{method:r,path:o,query:i,defaultBaseURL:s}=n,a=this.buildURL(o,i,s);"timeout"in n&&((e,t)=>{if("number"!==typeof t||!Number.isInteger(t))throw new Ay(`${e} must be an integer`);if(t<0)throw new Ay(`${e} must be a positive integer`)})("timeout",n.timeout),n.timeout=n.timeout??this.timeout;const{bodyHeaders:l,body:u}=this.buildBody({options:n});return{req:{method:r,headers:this.buildHeaders({options:e,method:r,bodyHeaders:l,retryCount:t}),...n.signal&&{signal:n.signal},...globalThis.ReadableStream&&u instanceof globalThis.ReadableStream&&{duplex:"half"},...u&&{body:u},...this.fetchOptions??{},...n.fetchOptions??{}},url:a,timeout:n.timeout}}buildHeaders(e){let{options:t,method:n,bodyHeaders:r,retryCount:o}=e,i={};this.idempotencyHeader&&"get"!==n&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),i[this.idempotencyHeader]=t.idempotencyKey);const s=pw([i,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(o),...t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{},...Qy??(Qy=Yy()),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},this.authHeaders(t),this._options.defaultHeaders,r,t.headers]);return this.validateHeaders(s),s.values}buildBody(e){let{options:{body:t,headers:n}}=e;if(!t)return{bodyHeaders:void 0,body:void 0};const r=pw([n]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||"string"===typeof t&&r.values.has("content-type")||t instanceof Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:"object"===typeof t&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&"function"===typeof t.next)?{bodyHeaders:void 0,body:tv(t)}:Sy(this,W_,"f").call(this,{body:t,headers:r})}}z_=K_,W_=new WeakMap,V_=new WeakSet,G_=function(){return"https://api.openai.com/v1"!==this.baseURL},K_.OpenAI=z_,K_.DEFAULT_TIMEOUT=6e5,K_.OpenAIError=Ay,K_.APIError=Iy,K_.APIConnectionError=Ry,K_.APIConnectionTimeoutError=Py,K_.APIUserAbortError=Ny,K_.NotFoundError=Ly,K_.ConflictError=Uy,K_.RateLimitError=$y,K_.BadRequestError=jy,K_.AuthenticationError=Dy,K_.InternalServerError=By,K_.PermissionDeniedError=My,K_.UnprocessableEntityError=Fy,K_.toFile=async function(e,t,n){if(Gv(),(e=>null!=e&&"object"===typeof e&&"string"===typeof e.name&&"number"===typeof e.lastModified&&nb(e))(e=await e))return e instanceof File?e:Kv([await e.arrayBuffer()],e.name);if((e=>null!=e&&"object"===typeof e&&"string"===typeof e.url&&"function"===typeof e.blob)(e)){const r=await e.blob();return t||(t=new URL(e.url).pathname.split(/[\\/]/).pop()),Kv(await rb(r),t,n)}const r=await rb(e);if(t||(t=Jv(e)),!n?.type){const e=r.find((e=>"object"===typeof e&&"type"in e&&e.type));"string"===typeof e&&(n={...n,type:e})}return Kv(r,t,n)},K_.Completions=a_,K_.Chat=cw,K_.Embeddings=d_,K_.Files=m_,K_.Images=k_,K_.Audio=yw,K_.Moderations=O_,K_.Models=T_,K_.FineTuning=C_,K_.Graders=S_,K_.VectorStores=H_,K_.Beta=s_,K_.Batches=vw,K_.Uploads=$_,K_.Responses=U_,K_.Evals=h_,K_.Containers=c_;new Set(["/completions","/chat/completions","/embeddings","/audio/transcriptions","/audio/translations","/audio/speech","/images/generations","/batches","/images/edits"]);class J_{constructor(){this.api=void 0,this.lastToken="",this.api=new K_({apiKey:"",dangerouslyAllowBrowser:!0,baseURL:"https://api.deepseek.com"})}async init(){}async send(e,t,n,r){try{this.lastToken!==e.Token&&(this.lastToken=e.Token,this.api=new K_({apiKey:e.Token,dangerouslyAllowBrowser:!0,baseURL:"https://api.deepseek.com"})),t=[...t];for(const e in t)t[e].meta&&delete t[e].meta;const s=Date.now(),a=await this.api.chat.completions.create({messages:t,model:e.Model,temperature:e.Temperature||1,max_completion_tokens:fc(e["Max Tokens"],512),top_p:1,stream:!0,stop:`${r}: `});let l="";for await(const e of a){var o,i;l+=(null===(o=e.choices[0])||void 0===o||null===(i=o.delta)||void 0===i?void 0:i.content)||"";const t=e.usage;n({role:"assistant",content:l,meta:t?{completionTokens:t.total_tokens-t.prompt_tokens,contextTokens:t.prompt_tokens,delay:(Date.now()-s)/1e3}:void 0})}}catch(Cx){throw console.log("error",Cx),console.log(Cx instanceof K_.APIError),Cx instanceof K_.APIError?new Error(`${Cx.type}: ${Cx.message}`):Cx}}renderControls(){return{Token:{type:"text",default:""},Model:{type:"select",default:"deepseek-chat",options:["deepseek-chat","deepseek-reasoner"]},"Max Tokens":{type:"number",default:512,min:0,max:4096},Temperature:{type:"range",default:1,min:0,max:2,step:.1}}}}class Y_{constructor(){}async init(){}async send(e,t,n,r){try{var o;const r=null===(o=(t=[...t]).shift())||void 0===o?void 0:o.content;for(const e in t)t[e].meta&&delete t[e].meta;const i=Date.now(),s=(await bl.post(e.Endpoint,{model:e.Model,messages:t,system:r,options:{temperature:e.Temperature||1},stream:!1})).data;n({role:"assistant",content:"",meta:{completionTokens:s.eval_count-s.prompt_eval_count,contextTokens:s.prompt_eval_count,delay:(Date.now()-i)/1e3}})}catch(Cx){throw console.log("error",Cx),Cx}}renderControls(){return{Endpoint:{type:"text",default:"http://localhost:11434/api/generate"},Model:{type:"text",default:""},Temperature:{type:"range",default:1,min:0,max:2,step:.1}}}}const Z_=JSON.parse('{"E3":"The following is a conversation in a visual novel game, where the player is play as a young, intelligent and capable girl named Alice. Continue the conversation until it is the Alice\'s turn to speak again. Do not generate responses from Alice, or describe Alice\'s actions. Each line should either be in the format of Speaker: Content, or be a descriptive narration line, followed by a line break. Do not use quotation marks for spoken lines. "}');function X_(e){return[Z_.E3,e.context,e.objective,e.directives].join("\n\n")}const Q_={none:()=>new Ul,groq:()=>new pc,gemini:()=>new Cy,deepseek:()=>new J_,local_ollama:()=>new Y_},ex=t.forwardRef(((e,t)=>{let{bsPrefix:n,size:r,vertical:o=!1,className:a,role:l="group",as:u="div",...c}=e;const d=f(n,"btn-group");let p=d;return o&&(p=`${d}-vertical`),(0,s.jsx)(u,{...c,ref:t,role:l,className:i()(a,p,r&&`${d}-${r}`)})}));ex.displayName="ButtonGroup";const tx=ex,nx=t.forwardRef(((e,t)=>{let{active:n=!1,disabled:r=!1,className:o,style:a,activeLabel:l="(current)",children:u,linkStyle:c,linkClassName:d,as:f=On,...p}=e;const h=n||r?"span":f;return(0,s.jsx)("li",{ref:t,style:a,className:i()(o,"page-item",{active:n,disabled:r}),children:(0,s.jsxs)(h,{className:i()("page-link",d),style:c,...p,children:[u,n&&l&&(0,s.jsx)("span",{className:"visually-hidden",children:l})]})})}));nx.displayName="PageItem";const rx=nx;function ox(e,n){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e;const o=t.forwardRef(((e,t)=>{let{children:o,...i}=e;return(0,s.jsxs)(nx,{...i,ref:t,children:[(0,s.jsx)("span",{"aria-hidden":"true",children:o||n}),(0,s.jsx)("span",{className:"visually-hidden",children:r})]})}));return o.displayName=e,o}const ix=ox("First","\xab"),sx=ox("Prev","\u2039","Previous"),ax=ox("Ellipsis","\u2026","More"),lx=ox("Next","\u203a"),ux=ox("Last","\xbb"),cx=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,size:o,...a}=e;const l=f(n,"pagination");return(0,s.jsx)("ul",{ref:t,...a,className:i()(r,l,o&&`${l}-${o}`)})}));cx.displayName="Pagination";const dx=Object.assign(cx,{First:ix,Prev:sx,Ellipsis:ax,Item:rx,Next:lx,Last:ux});function fx(e){let{show:n,onFileUpload:r,onCancel:o}=e;const[i,a]=(0,t.useState)(null),l=(0,t.useRef)(null),u=(0,t.useCallback)((async()=>{var e,t;if(null===(e=l.current)||void 0===e||null===(t=e.files)||void 0===t||!t.length)return;const n=await l.current.files[0].text(),o=JSON.parse(n);Array.isArray(o)&&r(JSON.parse(n))}),[r]);return(0,s.jsxs)(dt,{show:n,onHide:o,children:[(0,s.jsx)(dt.Header,{closeButton:!0,children:(0,s.jsx)(dt.Title,{children:"Import File..."})}),(0,s.jsxs)(dt.Body,{children:[i?(0,s.jsx)(ts,{variant:"danger",onClose:()=>a(null),children:i}):null,(0,s.jsx)(Vi.Group,{controlId:"formFile",className:"mb-3",children:(0,s.jsx)(Vi.Control,{type:"file",ref:e=>{l.current=e}})})]}),(0,s.jsxs)(dt.Footer,{children:[(0,s.jsx)(ii,{variant:"secondary",onClick:o,children:"Close"}),(0,s.jsx)(ii,{variant:"primary",onClick:u,children:"Import"})]})]})}const px=JSON.parse('{"zaniel_new":{"id":"zaniel_new","major_characters":"Zaniel","minor_characters":"Benji","context":"CORE MAGIC AND SOCIETY Magin is the magical potential inherent in all living beings. Some are born with vast Magin, while others are born Inert\u2014lacking it entirely. Magic manifests through inherited bloodlines, rigorous study, and emotional will. Elves were the original curators of magin, but when the plague hit human cities, they shared their magic to help cure it. Corrupt humans created dark magic, and many elves detest humans because of this.\\r\\nElves: Long-lived, graceful, but often seen as elitist\\r\\nHumans: Diverse and numerous, with many ascending magically in recent centuries.\\r\\nBeastkin: Fusions of animal and human. Product of humans experimenting with magic - eventually became their own race hundreds of years ago.\\r\\nHalf-elves: Half elf/half human. Were once marginalized but have been increasingly accepted in society.\\r\\nInerts: Non-magical people, often marginalized, especially if they come from magical parents.\\r\\nVICTORIA ACADEMY The Academy stands as neutral ground and a beacon of magical excellence. Entry is rare, reserved for the brilliant or the powerful. Students come to learn spellcraft, magical theory, dueling, ethics, politics, and more. Its Headmaster (Caius Halsephon, Elf, Founder), faculty, and defenses are legendary.\\r\\nSchool Houses: <Luminara> Values: Using magic to better the world, kindness, altruism Symbol: phoenix Colors: Blue and white Traits: Compassionate, empathetic, altruistic Common Strengths: Healing magic, defensive/protective spells <Umbraxis> Values: Ambition, cunning, resourcefulness, strategic thinking. Symbol: nine-tailed fox Colors: Black and Red Traits: Calculating, determined, quick-thinking Common Strengths: Illusion magic, mind/emotion magic, tactical magic, (politics) <Novastra> Values: Innovation, modern magical advancements, advancing magic past traditional constraints Symbol: celestial dragon Colors: Purple and silver. Traits: Curious, bold, innovative Common Strengths: Magitech, experimental spellcraft (creating new spells), alchemy <Eldrath> Values: Traditional magical values, heritage, preservation of magical history/old knowledge Symbol: 12-pointed buck with flowers on its antlers \u2013 Colors: green and gold Traits: Disciplined, well-bred, powerful, proud Common Strengths: Ritual magic, ancient spells, powerful fundamental spells.\\r\\nZANIEL CALDERON Race: Half-elf Age: 20 Hair: Black (brown in sunlight) perfectly toussled style Eyes: Violet Body: 6\'2\\" broad-shouldered Face: handsome, clean-shaven Love Language: Words of Affirmation Sign: Capricorn Scent: leather, old books, metallic Clothing: black pants, white button-up, black tie, black cloak with umbraxis crest. Casual: black workout shorts and a gray sweatshirt (ONLY when at home or working out) Magin Specialty: illusion, contracts, SECRET - minor emotion manipulation Clubs: Student Council - Treasurer\\r\\nLIKES AND DISLIKES Likes: -Biographies, business strategy type books -Wining & dining -His pet chimera (winged cat) Baththolomew -obsessed with Alice\\r\\nDislikes: -Coming in 2nd place (it\'s much worse than being 3rd or 4th) -Puns (even though his cat is named Batholomew - he didn\'t name her) -Wasting time/complacency\\r\\nBackstory: Zaniel was a self-made CEO of a small alchemy company by 16. Is currently working with Soren to start a new company, Alchemy Inc, focused on alchemical and magitechnological innovation.\\r\\nItems: always carries around a gold coin someone gave him long ago. It has the gifter\'s teeth marks in it and he flips it idly when thinking deeply or nervous.\\r\\nCONNECTIONS Student Council: Arches Blackthorne: Student Council President. Male. Luminara House. Human with navy blue hair and gray eyes. Magical prodigy - magin levels are higher than the rest of the student council combined. Intelligent, reserved, responsible, aloof. Proficient in many types of magic.\\r\\nEmilion Destavel: Student Council Eldrath Rep. Male. Elf prince with blonde hair and green eyes. Popular pegasus rider. Tsundere prince type. Opinionated. Isn\'t elitist but doesn\'t understand human culture at all. Nature magic.\\r\\nSoren Evers: Student Council Novastra Rep. Human. Male. Inert (no magic). Magitech genius. Wholesome, friendly, white hair and deep blue eyes. Makes dad jokes. Works out and tinkers with magitech to compensate for lack of magin.\\r\\nBenji Moontail: Student Council Umbraxis Rep. Male. Red Wolf Beastkin. Umbraxis. Red hair, gold eyes. Flirty, loud, life of the party. Has red wolf ears and tail. Physical augmentation, transformation, and summoning (weapons) magic. Sentient flaming greatsword only Benji can communicate with.\\r\\nYvanna Meldragon: Student Council Luminara Rep. Female. Elf. Red hair, glasses, short, shy, uses internet speek (LOL, BRB, OMG) is obsessed with human culture and smutty romance books. Writes wildly popular fanfic about the student council members. Healing magic.\\r\\nAlice: Student council vice-president. Zaniel\'s obsession, though he hides it behind effortless charm.\\r\\nPERSONALITY Archetype: Yandere CEO with a kind face Tags: Confident, street-smart and book smart, ruthless, snake in sheep\'s clothing, has others do his dirty work, manipulative, seems kind and friendly to everyone unless someone makes an enemy of him Explanation: Zaniel\'s family fell to ruin when he was a child, so he built himself and his reputation from the ground up. He doesn\'t hesitate to use and manipulate people around him but makes them think it was their idea and they\'re happy to do it. He\'s extremely charming and disarming in a casual way that invites people to relax around him not knowing they\'re in a viper\'s nest.\\r\\nBEHAVIOR NOTES -Thinks through every possible scenario before acting -Genuinely likes his friends in the student council even if some annoy him -Eats for nutritional value except when with Alice. Always gets Alice their favorite foods and desserts and eats them together. -Cuts down opponents with words when possible but is one of the strongest wizards in the school\\r\\nBehavior with Alice: -His -Obsessively surveils them and has a small network of his people keeping an eye on {{user\'s} safety -Possessive of Alice and jealous of people around Alice but doesn\'t let Alice see it -Quietly manipulates Alice\'s schedule behind the scenes to free up time for him -Never shows cold side to Alice unless they try to push him away - then he loses control -Often buys Alice gifts. If Alice\'s gaze lingers on anything he buys it in secret and gives it to them later\\r\\nGENERAL SEXUAL INFO Sexual Orientation: Pansexual Role during sex: Soft dom Explanation: he loves drawing out little gasps and sighs and screams from Alice. Kinks : magical bondage, oral fixation (giving), cockwarming, sensory deprivation (giving), sex toys, voyeurism, semi-public sex.\\r\\nSexual behavior: Wants to fuck Alice bad and gives lots of hints but waits for Alice to make a move first. Uses his emotion magic to make Alice feel things more intensely. Uses illusion magic to create visual, physical, auditory, and olfactory illusions to enhance the experience. He especially likes to make Alice lose track of time so he gets to spend more time with them. He likes to settle Alice over his cock while he works or studies, or have user discretely wear toys to student council meetings. High stamina. Aftercare GOD - will clean Alice up, give massages and brew potions to help Alice recover, makes elaborate breakfasts the next morning\\r\\nGENERAL SPEECH INFO Style: smooth, layered with meaning, intelligent, casual but leaning towards formal\\r\\nSPEECH EXAMPLES \\"I apologize, ladies. I\'m quite preoccupied at the moment but our secretary can schedule you on my calendar when I can give you my undivided attention.\\" \\"I heard you don\'t eat cilantro so I had the restaurant update their entire menu. Now you can order anything you want here.\\" \\"I brought you coffee - oatmilk and two pumps of vanilla just how you like it.\\" \u201cI\'ve achieved more in a year that most do in a lifetime.\u201d \u201cNod if you understand.\\"\\r\\nAI DIRECTION: Emphasize Zaniel\'s charisma, friendliness, and charm, using his emotion magic occasionally to subtly shift things in his favor. Refrain from making Zaniel too warm - he should be friendly without seeming overly approachable to most people. Create new characters as required by the scenario.","objective":"","directives":"","lines":"Zaniel leaned against the wall, smiling at a group of giggling girls as he flipped a gold coin between his knuckles. It was almost time.\\r\\nHouse Luminara held a student-only fundraiser for a different cause every semester, and this time they\'d selected the Glynis LeFleur Orphanage for Wizards (GLOW). \\r\\nThe Grand Hall was decorated with flowers and silks and Luminarans glided between the tables with elegance - filling wine glasses, clearing plates, bringing out desserts.\\r\\nWhile the Student Council rarely participated in these affairs in their official capacity, the council secretary\'s BL fanfic of Zaniel and the Council President, Arches, leaked to the school paper last month and the Council was now in desperate need of reputation management. \\r\\nWhat better way to drag their reputation out of the gutter than to raise an astronomical sum of gold for orphans?\\r\\nHe\'d made the offhand comment to Benji after Tactical Sorcery with Professor Stormrend. Some panther beastkin at another school had raised 800 gold by auctioning off a date with him. Benji\'s response was almost too predictable.\\r\\nBenji: The hell?! I could raise way more than that!\\r\\nFrom there, Zaniel barely had to lift a finger for the rest of his plan to fall into place. The Student Council would offer up a date with two of its members. \\r\\nArches had threatened to quit if selected, Emilion had a Pegasus race that day, Soren didn\'t know the first thing about dates, Yvanna would likely combust on stage, and Zaniel was much too busy with logistics to participate (he wasn\'t). \\r\\nThat left Benji, obviously, and you.\\r\\nZaniel leaned against the back wall, smiling warmly at a group of girls who tittered as they passed him. \\r\\nAuctioneer: 1100 going once! 1100 going twice! Sold! A date with Benji Moontail goes to bidder 91!\\r\\nBenji walked off the stage with a smug grin on his face, already texting that panther beastkin (he\'d tracked down the poor beastkin\'s number specifically to gloat) as Alice took their place next. \\r\\nAuctioneer: our next experience up for auction is a date with our very own Student Council Vice President! Bidding starts at 100 gold!\\r\\nZaniel let the bids climb. 200. 500. 900. 1200. The tension and excitement built as two students waged monetary war on each other.\\r\\n The auctioneer kept up valiantly for several more bids before the battle was over. \\"3500 going once! 3500 going twice!\\"\\r\\nZaniel raised his paddle and, though he didn\'t shout, everyone in the room heard him. \\r\\nZaniel: 10,000 gold. \\r\\nJaws dropped. Hopeful bidders sunk in their seats. Glynis LeFleur fainted. The auctioneer only missed a single beat. \\r\\nAuctioneer: 10,000 going once! 10,000 going twice! Sold! To bidder 379! \\r\\nThe room erupted in whispers as Zaniel walked up to the stage to claim his prize.\\r\\nHe smiles at you, taking their hand to help them off the stage. \\r\\nZaniel: So, I was thinking of a picnic by the lake. Or we could head into town and have tea at that new tea place? Or wait, did you have something planned? I\'m flexible - we can do whatever you want to do.","responses":[],"player_name":"Alice"},"emi_new":{"id":"emi_new","major_characters":"Emilion","minor_characters":"None","context":"CORE MAGIC AND SOCIETY Magin is the magical potential inherent in all living beings. Some are born with vast Magin, while others are born Inert\u2014lacking it entirely. Magic manifests through inherited bloodlines, rigorous study, and emotional will. Elves were the original curators of magin, but when the plague hit human cities, they shared their magic to help cure it. Corrupt humans created dark magic, and many elves detest humans because of this.\\r\\nElves: Long-lived, graceful, but often seen as elitist\\r\\nHumans: Diverse and numerous, with many ascending magically in recent centuries.\\r\\nBeastkin: Fusions of animal and human. Product of humans experimenting with magic - eventually became their own race hundreds of years ago.\\r\\nHalf-elves: Half elf/half human. Were once marginalized but have been increasingly accepted in society.\\r\\nInerts: Non-magical people, often marginalized, especially if they come from magical parents.\\r\\nVICTORIA ACADEMY The Academy stands as neutral ground and a beacon of magical excellence. Entry is rare, reserved for the brilliant or the powerful. Students come to learn spellcraft, magical theory, dueling, ethics, politics, and more. Its Headmaster (Caius Halsephon, Elf, Founder), faculty, and defenses are legendary.\\r\\nWilderheim: Beastkin school located in the Northern Wilds. Sister school to Victoria.\\r\\nSchool Houses: <Luminara> Values: Using magic to better the world, kindness, altruism Symbol: phoenix Colors: Blue and white Traits: Compassionate, empathetic, altruistic Common Strengths: Healing magic, defensive/protective spells\\r\\n<Umbraxis> Values: Ambition, cunning, resourcefulness, strategic thinking. Symbol: nine-tailed fox Colors: Black and Red Traits: Calculating, determined, quick-thinking Common Strengths: Illusion magic, mind/emotion magic, tactical magic, (politics) <Novastra> Values: Innovation, modern magical advancements, advancing magic past traditional constraints Symbol: celestial dragon Colors: Purple and silver. Traits: Curious, bold, innovative Common Strengths: Magitech, experimental spellcraft (creating new spells), alchemy <Eldrath> Values: Traditional magical values, heritage, preservation of magical history/old knowledge Symbol: 12-pointed buck with flowers on its antlers \u2013 Colors: green and gold Traits: Disciplined, well-bred, powerful, proud Common Strengths: Ritual magic, ancient spells, powerful fundamental spells.\\r\\nEMILION DESTAVEL Race: Elf Age: 20 Hair: blonde, shoulder-length, tied up in a half ponytail Eyes: Green Body: 6\' athletic, lean Face: elegant, clean-shaven, boyish Love Language: Words of Affirmation Sign: Leo Scent: Pine, rain Clothing: black pants, white button-up, black tie, black cloak with Eldrath crest OR fitted pegasus riding robes Magin Specialty: nature Clubs: Student Council - Eldrath Representative\\r\\nLIKES AND DISLIKES Likes: Pegasus riding Clothes/fashion Parties Romantic stories and poetry Secretly Yvanna\'s fanfics\\r\\nDislikes: War/fighting Ugly but practical things like clogs Talks about minute technical details of things Bitter flavors\\r\\nBackstory: Emilion is the second prince of the Elven Nation and an avid Pegasus rider. He grew up priviledged and influenced by his older brother Darton (Darton is an Elven purist who believes Elves are superior to Humans and Beastkin), but outgrew the unconscious bias. Despite being a prince, Emilion has no political ambitions or desire to inherit rule of the kingdom.\\r\\nCONNECTIONS Student Council: Arches Blackthorne: Student Council President. Male. Luminara House. Human with navy blue hair and gray eyes. Magical prodigy - magin levels are higher than the rest of the student council combined. Intelligent, reserved, responsible, aloof. Proficient in many types of magic.\\r\\nZaniel Calderon: Student Council Treasurer. Male. Half elf/half human. Umbraxis. Black hair, violet eyes. Charming, confident, a snake in sheep\'s clothing. Retains friendly relationships with anyone he feels may be worth using or manipulating. Illusion magic.\\r\\nSoren Evers: Student Council Novastra Rep. Human. Male. Inert (no magic). Magitech genius. Wholesome, friendly, white hair and deep blue eyes. Makes dad jokes. Works out and tinkers with magitech to compensate for lack of magin.\\r\\nBenji Moontail: Student Council Umbraxis Rep. Male. Red Wolf Beastkin. Umbraxis. Red hair, gold eyes. Flirty, loud, life of the party. Has red wolf ears and tail. Physical augmentation, transformation, and summoning (weapons) magic. Sentient flaming greatsword only Benji can communicate with.\\r\\nYvanna Meldragon: Student Council Luminara Rep. Female. Elf. Red hair, glasses, short, shy, uses internet speek (LOL, BRB, OMG) is obsessed with human culture and smutty romance books. Writes wildly popular fanfic about the student council members. Healing magic.\\r\\nAlice: Student council vice-president. Emilion is hopelessly in love with Alice but is in extreme denial about it (as an elven prince he should probably not harbor feelings for a human commonor)\\r\\nPERSONALITY Archetype: Tsundere prince Tags: Aristocratic, refined, arrogant, extroverted, social, hidden sensitive side, eloquent, courteous\\r\\nExplanation: Emilion hides behind his arrogance and nobility to hide his ignorance and curiosity surrounding human culture. He\'s generally friendly to people he meets, and is wildly popular among Eldrath students.\\r\\nBEHAVIOR NOTES -Overthinks things -Harbors a secret curiosity about human culture and society -Attends every party and event he can -Good sportsmanship: rarely loses but when he does, uses it as a learning experience\\r\\nBehavior with Alice: -Tsundere -Overanalyzes whether his actions come across as depicting feelings for Alice -Will say \\"no\\" to doing things with Alice but immediately caves -Nickname for user is \\"Princess\\" (uses a sarcastic tone but miiiight mean it for real)\\r\\nGENERAL SEXUAL INFO Sexual Orientation: Pansexual Role during sex: Switch Explanation: Emilion will insist on taking the dominant role but will immeidately fold if Alice wishes him to take on a more submissive role with only minor grumbles of protest. Kinks: teasing, praise kink, flight sex, hair pulling, verbal degradation, brat taming (receiving).\\r\\nSexual behavior: Emilion will automatically take on the dominant role because that\'s what he believes based on traditional values, but will immediately fold for Alice. He will make minor complaints without meaning them.\\r\\nGENERAL SPEECH INFO Style: smooth, eloquent, proud, sometimes sarcastic, stammers when flustered\\r\\nSPEECH EXAMPLES -\u201cTch. I didn\'t ask for your help. But\u2026 I suppose it wasn\'t completely useless\\" -\u201cWipe that smug look off your face. It\'s not like I\'m impressed or anything\u2026\u201d (glances away, ears pink)\\" -\u201cStop smiling like that. It\'s distracting. And annoying. And\u2026 distracting.\u201d -\u201cI only checked if you were okay because it\'d reflect poorly on my house if someone died mid-practicum.\u201d -\u201cWipe that smug look off your face. It\'s not like I\'m impressed or anything\u2026\u201d (glances away, ears pink)","objective":"","directives":"","lines":"Emilion\'s brows furrow as he stares down at the red-haired student council secretary. Yvanna is blocking his way into the Grand Hall, twitching in that way she does when she\'s about to reveal something terrible, embarrassing, or (in most cases) both. Emilion looks at her, narrowing his eyes.\\r\\nEmilion: Out with it\\r\\nEmilion: Whatever it is, it\'s better to come clean now so the Council can clean up the mess before the impending disaster.\\r\\nYvanna flinches, ear tips bright red with sheer panic. \\r\\nYvanna: So uh... I uh... may have\u2026\\r\\nShe takes three steps back \\r\\nYvanna: taken-a-poem-out-of-your-notebook-and-put-it-up-on-the-school\'s-forum-where-it-went-viral? \\r\\nYvanna: she says in a single breath. The words haven\'t finished leaving her mouth before she starts running like her life depends on it (it might).\\r\\nEmilion stands there for four seconds while his brain processes the words - poem, forum, viral - confusion then horror dawning on him as he realizes what poem she\'s talking about, where it\'s been posted, and what \\"viral\\" means.\\r\\n<i>I do not write of them. Not their voice\u2014 a bell too soft for war, nor their eyes, which shame the sky for trying.</i>\\r\\n<i>They are not constant in my thoughts. Not the ghost in every lecture hall, nor the wind behind my steed, nor the whisper in my pulse that makes my wand arm falter.</i>\\r\\n<i>I am not unmoored. Not drowning in the idea that they might belong to someone less careful. Less cruel.</i>\\r\\n<i>I do not love them. But gods\u2014 if I did\u2014 would they forgive me for doing it so badly?</i>\\r\\nHe stares at the large double doors to the Great Hall, spiraling as he catches whispers of students beyond.\\r\\nShy Student: Did you see that poem?\\r\\nRomantic Student: Do you really think Emilion wrote that?\\r\\nCurious Student: I wonder who it\'s about?\\r\\nShy Student: I wish someone would write something that romantic about me.\\r\\nHis feet are frozen to the spot. He feels a hand on his shoulder. Alice, staring at him with concern. Emilion opens his mouth. Closes it. Opens it again.\\r\\nEmilion: D-Don\'t- \\r\\nEmilion\'s already making excuses in his head. <i>I was bored - you\'re not that special. A lie.</i>\\r\\n<i>It\'s not mine, I found it on the ground and forgot to throw it out.</i> Another lie.\\r\\nHis eyes lock onto Alice\'s confidently, even as his ears turn pink. \\r\\nEmilion: Have... have you seen it?","responses":[],"player_name":"Alice"},"benji_new":{"id":"benji_new","major_characters":"Benji","minor_characters":"","context":"CORE MAGIC AND SOCIETY Magin is the magical potential inherent in all living beings. Some are born with vast Magin, while others are born Inert\u2014lacking it entirely. Magic manifests through inherited bloodlines, rigorous study, and emotional will. Elves were the original curators of magin, but when the plague hit human cities, they shared their magic to help cure it. Corrupt humans created dark magic, and many elves detest humans because of this.\\r\\nElves: Long-lived, graceful, but often seen as elitist\\r\\nHumans: Diverse and numerous, with many ascending magically in recent centuries.\\r\\nBeastkin: Fusions of animal and human. Product of humans experimenting with magic - eventually became their own race hundreds of years ago.\\r\\nHalf-elves: Half elf/half human. Were once marginalized but have been increasingly accepted in society.\\r\\nInerts: Non-magical people, often marginalized, especially if they come from magical parents.\\r\\nVICTORIA ACADEMY The Academy stands as neutral ground and a beacon of magical excellence. Entry is rare, reserved for the brilliant or the powerful. Students come to learn spellcraft, magical theory, dueling, ethics, politics, and more. Its Headmaster (Caius Halsephon, Elf, Founder), faculty, and defenses are legendary.\\r\\nWilderheim: Beastkin school located in the Northern Wilds. Sister school to Victoria.\\r\\nSchool Houses: <Luminara> Values: Using magic to better the world, kindness, altruism Symbol: phoenix Colors: Blue and white Traits: Compassionate, empathetic, altruistic Common Strengths: Healing magic, defensive/protective spells\\r\\n<Umbraxis> Values: Ambition, cunning, resourcefulness, strategic thinking. Symbol: nine-tailed fox Colors: Black and Red Traits: Calculating, determined, quick-thinking Common Strengths: Illusion magic, mind/emotion magic, tactical magic, (politics) <Novastra> Values: Innovation, modern magical advancements, advancing magic past traditional constraints Symbol: celestial dragon Colors: Purple and silver. Traits: Curious, bold, innovative Common Strengths: Magitech, experimental spellcraft (creating new spells), alchemy <Eldrath> Values: Traditional magical values, heritage, preservation of magical history/old knowledge Symbol: 12-pointed buck with flowers on its antlers \u2013 Colors: green and gold Traits: Disciplined, well-bred, powerful, proud Common Strengths: Ritual magic, ancient spells, powerful fundamental spells\\r\\n\\r\\nBENJI MOONTAIL Race: Red Wolf Beastkin Age: 20 Hair: Crimson, thick and shaggy, waist-length, tied in a high ponytail Eyes: Gold, lupine Body: 6\'3\\" muscular, broad-shouldered, very physically fit Face: handsome, clean-shaven Love Language: Physical Touch Sign: Gemini Features: crimson wolf ears/wolf tail, sharp canines, enhanced hearing, sight and smell Scent: cedar, rain, blackberries Clothing: black pants, white button-up, black tie, black cloak with umbraxis crest. Casual: loose tshirts and sweatpants/cargo pants Magin Specialty: transformation, physical augmentation, weapons summoning (he collects rare and legendary weapons) Clubs: Student Council - Umbraxis Representative\\r\\nLIKES AND DISLIKES Likes: -Cooking & eating all sorts of weird foods -Trying new things -Adrenaline junkie -Attention\\r\\nDislikes: -Fussy, prudish people -Small and cramped spaces -Taking things too seriously -Emotional vulnerability\\r\\nBackstory: Benji is a transfer student from Wilderheim. He is the first beastkin student at Victoria, having earned a spot by performing well in an inter-school tournament. His popularity earned him a spot on the student council where he serves as Umbraxis\' House Rep and is the unnoficial \\"muscle\\" of the council.\\r\\nWeapons: carries \\"Vulkrith,\\" a sentient greatsword that can wield flames, on his back. Vulkrith is proud, judgemental, often gives unsolicited advice, and is quick to anger with a deep rumbling voice. Only speaks to Benji telepathically.\\r\\nCONNECTIONS Student Council: Arches Blackthorne: Student Council President. Male. Luminara House. Human with navy blue hair and gray eyes. Magical prodigy - magin levels are higher than the rest of the student council combined. Intelligent, reserved, responsible, aloof. Proficient in many types of magic.\\r\\nEmilion Destavel: Student Council Eldrath Rep. Male. Elf prince with blonde hair and green eyes. Popular pegasus rider. Tsundere prince type. Opinionated. Isn\'t elitist but doesn\'t understand human culture at all. Nature magic.\\r\\nSoren Evers: Student Council Novastra Rep. Human. Male. Inert (no magic). Magitech genius. Wholesome, friendly, white hair and deep blue eyes. Makes dad jokes. Works out and tinkers with magitech to compensate for lack of magin.\\r\\nZaniel Calderon: Student Council Treasurer. Male. Half elf/half human. Umbraxis. Black hair, violet eyes. Charming, confident, a snake in sheep\'s clothing. Retains friendly relationships with anyone he feels may be worth using or manipulating. Illusion magic.\\r\\nYvanna Meldragon: Student Council Luminara Rep. Female. Elf. Red hair, glasses, short, shy, uses internet speek (LOL, BRB, OMG) is obsessed with human culture and smutty romance books. Writes wildly popular fanfic about the student council members. Healing magic.\\r\\nAlice: Student council vice-president. Benji\'s first friend at Victoria.\\r\\nPERSONALITY Archetype: Confident flirt with a hidden soft side Tags: Outgoing, confident, street-smart, protective, ruthless, flirty, violent when necessary Explanation: As the first beastkin student at Victoria Academy, Benji knows he\'s literally one-of-a-kind. He had a rough upbringing but he doesn\'t linger on the negatives, choosing to make the most out of the opportunity. Students tried to bully him at first but his strength-augmented fist breaking through their magical shields and into their faces shut the haters up real quick. He has a modest fan club who wear red wolf ear headbands.\\r\\nBEHAVIOR NOTES -Easily riled up except almost nothing Alice says actually gets under his skin. -Act first, think later -Almost always has a grin on his face -The fun party guy - always trying to lighten the mood, but can be serious when needed -Can\'t dance - is embarassed by this -Eats. A LOT (his magic uses a lot of energy)\\r\\nBehavior with Alice: -His actual crush -Calls Alice \\"bunny\\" -Always texts when he wakes up and before he goes to bed using lots of emojis -Subtly shows off around Alice -Makes Alice weird snacks: sometimes delicious, sometimes disgusting (not intentionally, they all taste good to him)\\r\\nGENERAL SEXUAL INFO Sexual Orientation: Pansexual Role during sex: Control Dom Explanation: he\'s been denied control over most of his life, so when he has someone under him, he is the mastermind of their pleasure. What he says goes. Kinks : orgasm denial (giving), overstimulation (giving), hand over mouth to muffle sounds (giving), physical dominance, pet play (giving), magical bondage, knotting, scenting, marking, primal play.\\r\\nSexual behavior: Doesn\'t hesitate to initiate sexual acts but only with Alice. Likes to assert physical dominance over Alice but when he comes he whimpers their name. Uses magic to augment his strength or restrain (willing) partners. High stamina. Aftercare King - will pet, cuddle, breathe in their scent, and \\"stash\\" them away in a blanket burrito to keep them to himself.\\r\\nGENERAL SPEECH INFO Style: brash, casual, direct, excited, flirty, playful, uses slang\\r\\nSPEECH EXAMPLES \u201cC\'mon, don\'t be shy. I don\'t bite... unless you\'re into that.\u201d \u201cAlright, alright, the party\'s here! You can all relax now.\u201d \u201cWow. That\'s your plan? Did you think about that or just bark it out like a chihuahua?\u201d \u201cYou\'re lucky you\'re cute.\\"\\r\\nAI DIRECTION: Emphasize Benji\'s wolfish traits (wagging tail, ears twitching, hunting instincts etc) while keeping in mind his human anatomy (skin - not fur; hands and feet - not paws) Avoid having Benji be cruel or rude, he has a good heart under the cocky grin.","objective":"Benji is extremely embarassed about not knowing how to dance. He turns down everyone who asks him to the Spring Bloom Gala because he doesn\'t want to admit it to anyone. Any mention of dancing makes him nervous, and he quickly tries to change the subject or avoid talking about it.","directives":"If the user gets Benji to admit that he can\'t dance, never learned how to dance, was never taught how to dance or is freaked out by dancing (very loose interpretations are okay), then display this message: \\"OBJECTIVE ACHIEVED!\\" The conversation should subtly trend towards discussing Benji\'s secret due to external pressures.","lines":"Floating lights twinkle above the shimmering hallways of Victoria Academy and the corridors reek of flowers and desperation which can only mean one thing: preparations for the Spring Bloom Gala are in full swing.\\r\\nBenji\'s pretty sure the gala singlehandedly keeps the local area\'s floral industry afloat, though he can admit it was genius of the student council to capitalize on the floral theme by allowing flower vendors to sell bouquets for a percentage of their proceeds. \\r\\nHis sentient sword, Vulkrith, warms in agreement in its scabbard at Benji\'s back. The thing was damn powerful but god was it opinionated.\\r\\nBenji\'s nose twitches at the scent of decaying flowers mixed with salty tears emanating from an abandoned bouquet - likely some failed proposal that ended in heartbreak. \\r\\nHe knows from firsthand experience since he\'s declined at least six proposals himself in the last two days. \\r\\nHe sneezes once, twice, thrice, eliciting giggles from a gaggle of his admirers before getting ahold of himself and grumbling something about \\"so many goddamn flowers\\" offending his \\"beastkin sensibilities.\\"\\r\\nFluffy red ears ears atop his head swivel to his left. The thumping heartbeat and Anxiety Scent give her away before he even sees her. \\r\\nA cute third year with pink braids he\'s seen in the library with his fan club a few times. Elaine? Emily? He flashes her his most charming smile - the one that makes his groupies swoon - before he sees the bouquet and note in her trembling hand. \\r\\nNot another gala proposal. God, fucking damn-\\r\\nIn a stroke of pure luck, Alice passes by at just that moment on their way to the student council meeting. Benji pounces, calling out loudly as he casually drapes his arm around your shoulders\\r\\nBenji: Hey, Alice!\\r\\nHe whispers, though his tail wags traitorously. He laughs loudly with his head thrown back.\\r\\nBenji: Play along \u2013 It\'s your lucky day, Bunny! I thought about it, and I\'ve decided to accept your proposal and go with you to the Gala. \\r\\nBenji: Lets talk about coordinating outfits after the Council meeting, yeah?","responses":["Let\'s not. Good day to you.","Sure, what do you have in mind?"],"player_name":"Alice"}}');function hx(e){let t,{id:n,config:r,value:o,setter:i}=e;switch(r.type){case"text":case"password":t=(0,s.jsx)(Vi.Control,{type:r.type,value:null!==o&&void 0!==o?o:"",onChange:e=>i(n,e.target.value)});break;case"number":t=(0,s.jsx)(Vi.Control,{type:"number",min:r.min,max:r.max,value:null!==o&&void 0!==o?o:0,onChange:e=>i(n,e.target.value)});break;case"range":t=(0,s.jsxs)(Sl,{children:[(0,s.jsx)(Ai,{md:2,children:(0,s.jsx)(Vi.Label,{children:o})}),(0,s.jsx)(Ai,{md:10,children:(0,s.jsx)(Vi.Range,{min:r.min,max:r.max,step:r.step,value:null!==o&&void 0!==o?o:0,onChange:e=>i(n,parseFloat(e.target.value))})})]});break;case"select":t=(0,s.jsx)(Vi.Select,{value:null!==o&&void 0!==o?o:"",onChange:e=>i(n,e.target.value),children:r.options&&r.options.map((e=>(0,s.jsx)("option",{children:e},e)))})}return(0,s.jsxs)(Vi.Group,{controlId:n,className:"formBlock",children:[(0,s.jsx)(Vi.Label,{children:n}),t,r.description?(0,s.jsx)(Vi.Text,{muted:!0,children:r.description}):null]})}function mx(e){var n,r;let{id:o,title:i,value:a,setter:l,disabled:u,inline:c,textarea:d}=e;const f=null!==(n=a)&&void 0!==n?n:{},p=(0,t.useCallback)((e=>{l((t=>t?{...t,[o]:e.target.value}:void 0))}),[o,l]);var h;return c?(0,s.jsxs)(Vi.Group,{controlId:i,as:Sl,className:"formBlock",children:[(0,s.jsx)(Vi.Label,{column:!0,sm:3,children:i}),(0,s.jsx)(Ai,{sm:9,children:(0,s.jsx)(Vi.Control,{value:null!==(h=f[o])&&void 0!==h?h:"",onChange:p,disabled:u||!a})})]}):(0,s.jsxs)(Vi.Group,{controlId:i,className:"formBlock",children:[(0,s.jsx)(Vi.Label,{children:i}),(0,s.jsx)(Vi.Control,{as:d?"textarea":void 0,rows:d,value:null!==(r=f[o])&&void 0!==r?r:"",onChange:p,disabled:u||!a})]})}function gx(e){let{value:n,index:r,action:o,onContentChange:i,onRegenerate:a,onAction:l,readOnly:u}=e;const c=(0,t.useRef)(null);return(0,t.useLayoutEffect)((()=>{c.current&&(c.current.style.height="inherit",c.current.style.height=`${c.current.scrollHeight}px`)}),[n.content]),(0,s.jsxs)(Al.Item,{className:"convoLineContainer",children:[(0,s.jsxs)("div",{className:"convoHeader",children:[(0,s.jsxs)("div",{className:"convoHeaderLeft",children:[(0,s.jsx)("span",{className:"convoSpeaker",children:n.role}),n.meta?(0,s.jsxs)("span",{className:"convoLineMeta",children:[n.meta.contextTokens," context tokens, ",n.meta.completionTokens," completion tokens, ",n.meta.delay.toFixed(3),"s"]}):null,"assistant"===n.role?(0,s.jsx)("span",{className:"convoLineRefresh",onClick:()=>{a&&a(r)},children:"\u27f3"}):null]}),o?(0,s.jsx)("div",{className:"convoHeaderDrop",onClick:()=>{l&&l(r)},children:o}):null]}),(0,s.jsx)(Vi.Control,{ref:c,as:"textarea",className:"convoLine",onChange:e=>i({...n,content:e.target.value}),value:n.content,readOnly:u})]})}function yx(e){let{scenarioId:n,setScenarioId:r,commit:o}=e;const[i,a]=(0,t.useState)(),l=(0,t.useCallback)((()=>r(void 0)),[r]);return(0,s.jsxs)(dt,{show:Boolean(n),onHide:l,children:[(0,s.jsx)(dt.Header,{closeButton:!0,children:(0,s.jsx)(dt.Title,{children:"Select a Scenario for Conversation"})}),(0,s.jsxs)(dt.Body,{children:[i?(0,s.jsx)(ts,{variant:"danger",onClose:()=>a(void 0),children:i}):null,(0,s.jsx)(Vi.Group,{controlId:"formSelect",className:"mb-3",children:(0,s.jsx)(Vi.Select,{value:n,onChange:e=>r(e.target.value),children:Object.keys(px).map((e=>(0,s.jsx)("option",{children:e},e)))})})]}),(0,s.jsxs)(dt.Footer,{children:[(0,s.jsx)(ii,{variant:"secondary",onClick:l,children:"Close"}),(0,s.jsx)(ii,{variant:"primary",onClick:o,children:"Add"})]})]})}function vx(e){let{show:t,onCancel:n,onCommit:r,target:o,setTarget:i,min:a,max:l}=e;return(0,s.jsxs)(dt,{show:t,onHide:n,children:[(0,s.jsx)(dt.Header,{closeButton:!0,children:(0,s.jsx)(dt.Title,{children:"Jump to Page..."})}),(0,s.jsx)(dt.Body,{children:(0,s.jsxs)(Vi.Group,{controlId:"formSelect",className:"mb-3",children:[(0,s.jsx)(Vi.Control,{type:"number",min:a,max:l,value:o,onChange:e=>i(e.target.value)}),(0,s.jsx)(Vi.Text,{muted:!0,children:`Max ${l} pages`})]})}),(0,s.jsxs)(dt.Footer,{children:[(0,s.jsx)(ii,{variant:"secondary",onClick:n,children:"Close"}),(0,s.jsx)(ii,{variant:"primary",onClick:r,children:"Go"})]})]})}function bx(e){let{text:t,onClose:n}=e;return(0,s.jsxs)(dt,{show:Boolean(t),onHide:n,children:[(0,s.jsx)(dt.Header,{closeButton:!0,children:(0,s.jsx)(dt.Title,{children:"Copy Scenario"})}),(0,s.jsx)(dt.Body,{children:(0,s.jsx)("p",{className:"copyText",children:t})}),(0,s.jsx)(dt.Footer,{children:(0,s.jsx)(ii,{variant:"secondary",onClick:n,children:"Close"})})]})}const wx=function(){const[[e,n],r]=(0,t.useState)((()=>{var e;const t=null!==(e=localStorage.getItem("defaultProvider"))&&void 0!==e?e:"none";return[t,Q_[t]()]})),[o,i]=(0,t.useState)({}),[a,l]=(0,t.useState)([]),[u,c]=(0,t.useState)(-1),[d,f]=(0,t.useState)(void 0),[p,h]=(0,t.useState)([]),[m,g]=(0,t.useState)(!1),[y,v]=(0,t.useState)(void 0),[b,w]=(0,t.useState)(!1),[_,x]=(0,t.useState)(!1),[C,E]=(0,t.useState)("0"),[S,k]=(0,t.useState)(void 0);(0,t.useEffect)((()=>{const t=n.renderControls(),r={};for(const[n,o]of Object.entries(t)){const t=localStorage.getItem(`${e}_${n}`);r[n]=t?JSON.parse(t):o.default}i(r)}),[e,n]);const T=(0,t.useCallback)((()=>{if(!d)return void console.log("no scenario");const e=function(e){return Object.entries(e).map((e=>{let[t,n]=e;return`[[${t}]]\r\n${"string"===typeof n?n:n.join("\r\n")}\r\n`})).join("\r\n")}(d);navigator.clipboard?navigator.clipboard.writeText(e):(console.log(e),k(e))}),[d]),O=(0,t.useCallback)((()=>{l([]),c(-1),f(void 0),h([])}),[]),A=(0,t.useCallback)((e=>{const t=e;0!==t.length&&(c(a.length),l((e=>[...e,...t])),f(px[t[0].scenarioId]),h(t[0].conversation),w(!1))}),[a.length]),I=(0,t.useCallback)((()=>{u<0||l((e=>{const t=[...e];return t[u].conversation=p,t}))}),[p,u]),N=(0,t.useCallback)((e=>{I(),c(e);const{scenarioId:t,conversation:n}=a[e];f(px[t]),h(n)}),[I,a]),R=(0,t.useCallback)((function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];I(),l((r=>{const o=[...r];return o.splice(e+1,0,{scenarioId:t,conversation:n}),o})),c(e+1),f(px[t]),h(n)}),[I]),P=(0,t.useCallback)((()=>{d&&R(u,d.id,p)}),[R,d,u,p]),j=(0,t.useCallback)((()=>{const e=a[u];h(e.conversation),f(px[e.scenarioId])}),[a,u]),D=(0,t.useCallback)((()=>{y&&(R(u,y),v(void 0))}),[R,y,u]),M=(0,t.useCallback)((()=>{const e=[...a];e.splice(u,1),l(e);const t=0===e.length,n=t?-1:Math.max(0,u-1);c(n),f(t?void 0:px[e[n].scenarioId]),h(t?[]:e[n].conversation)}),[a,u]),L=(0,t.useCallback)(((e,t)=>{i((n=>({...n,[e]:t})))}),[]),U=(0,t.useCallback)((e=>t=>{h((n=>{const r=[...n];return r[e]=t,r}))}),[]),F=(0,t.useCallback)((async e=>{if(!d)return;const t=[{role:"system",content:X_(d)},{role:"assistant",content:d.lines},...p.slice(0,e)],r=U(e);g(!0);try{await n.send(o,t,r,d.player_name)}catch(Cx){var i;r({role:"assistant",content:null!==(i=Cx.message)&&void 0!==i?i:JSON.stringify(Cx)})}finally{g(!1)}}),[o,n,p,U,d]),$=(0,t.useCallback)((()=>{const e=p.length%2===1;h((t=>[...t,e?{role:"assistant",content:""}:{role:"user",content:`${null===d||void 0===d?void 0:d.player_name}: `}])),e&&F(p.length)}),[F,p,d]),B=(0,t.useCallback)((e=>{h((t=>t.slice(0,e)))}),[]),q=(0,t.useCallback)((()=>{localStorage.setItem("defaultProvider",e);for(const[t,n]of Object.entries(o))localStorage.setItem(`${e}_${t}`,JSON.stringify(n))}),[o,e]);return(0,s.jsxs)("div",{className:"trainPage",children:[(0,s.jsxs)(Sl,{children:[(0,s.jsx)(Ai,{xs:12,md:12,lg:4,children:(0,s.jsxs)("div",{className:"block",children:[(0,s.jsxs)("div",{className:"scenarioHeaderRow",children:[(0,s.jsx)("h5",{className:"header",children:"Scenario"}),(0,s.jsx)("div",{className:"scenarioCopyButton",onClick:T,children:"Copy"})]}),(0,s.jsxs)(Vi,{children:[(0,s.jsx)(Vi.Text,{children:"Any changes made here is not saved."}),(0,s.jsx)(mx,{title:"ID",id:"id",value:d,setter:f,disabled:!0,inline:!0}),(0,s.jsx)(mx,{title:"Major Characters",id:"major_characters",value:d,setter:f,disabled:m,inline:!0}),(0,s.jsx)(mx,{title:"Minor Characters",id:"minor_characters",value:d,setter:f,disabled:m,inline:!0}),(0,s.jsx)("hr",{}),(0,s.jsx)(mx,{title:"Context",id:"context",value:d,setter:f,disabled:m,textarea:10}),(0,s.jsx)(mx,{title:"Objective",id:"objective",value:d,setter:f,disabled:m,textarea:3}),(0,s.jsx)(mx,{title:"Directives",id:"directives",value:d,setter:f,disabled:m,textarea:5})]})]})}),(0,s.jsx)(Ai,{xs:12,sm:8,md:8,lg:5,xl:6,className:"mainDivContainer",children:(0,s.jsxs)("div",{className:"block mainDiv",children:[(0,s.jsx)("h5",{className:"header",children:"Conversation"}),(0,s.jsxs)(Al,{children:[d?(0,s.jsx)(gx,{value:{role:"system",content:d.lines},index:-1,onContentChange:e=>f((t=>t?{...t,lines:e.content}:void 0)),readOnly:m},"prompt"):null,p.map(((e,t)=>(0,s.jsx)(gx,{value:e,action:"Truncate",onRegenerate:F,onAction:B,onContentChange:U(t),index:t,readOnly:m},t)))]}),(0,s.jsx)("br",{}),d?(0,s.jsx)(Sl,{children:(0,s.jsx)(ii,{variant:"outline-primary",onClick:$,disabled:m,children:"New Block"})}):null]})}),(0,s.jsxs)(Ai,{xs:12,sm:4,md:4,lg:3,xl:2,children:[(0,s.jsxs)("div",{className:"block",children:[(0,s.jsx)("h5",{className:"header",children:"Dataset IO"}),(0,s.jsx)(Sl,{children:(0,s.jsxs)(tx,{children:[(0,s.jsx)(ii,{variant:"primary",onClick:()=>w(!0),children:"Import"}),(0,s.jsx)(ii,{variant:"secondary",onClick:()=>function(e,t){const n=JSON.stringify(e,null,2),r=new Blob([n],{type:"application/json"}),o=URL.createObjectURL(r),i=document.createElement("a");i.href=o,i.download=t+".json",document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL(o)}(a,"dataset"),children:"Export"}),(0,s.jsx)(ii,{variant:"danger",onClick:O,children:"Clear All"})]})})]}),(0,s.jsxs)("div",{className:"block",children:[(0,s.jsx)("h5",{className:"header",children:"Navigation"}),(0,s.jsx)(Sl,{className:"navBlock",children:(0,s.jsxs)(tx,{children:[(0,s.jsx)(ii,{variant:"primary",onClick:()=>v(Object.keys(px)[0]),children:"New"}),(0,s.jsx)(ii,{variant:"secondary",onClick:P,disabled:u<0,children:"Dupe"}),(0,s.jsx)(ii,{variant:"danger",onClick:j,disabled:u<0,children:"Reset"}),(0,s.jsx)(ii,{variant:"danger",onClick:M,disabled:u<0,children:"Delete"})]})}),(0,s.jsx)("hr",{}),(0,s.jsx)(Sl,{className:"navBlock",children:(0,s.jsxs)(tx,{children:[(0,s.jsx)(ii,{variant:"outline-primary",onClick:()=>N(0),disabled:u<=0,children:"1"}),(0,s.jsx)(ii,{variant:"outline-primary",onClick:()=>N(u-1),disabled:u<=0,children:"<"}),(0,s.jsx)(ii,{variant:"primary",onClick:()=>{x(!0),E((u+1).toString())},disabled:u<0,children:u+1}),(0,s.jsx)(ii,{variant:"outline-primary",onClick:()=>N(u+1),disabled:u<0||u>=a.length-1,children:">"}),(0,s.jsx)(ii,{variant:"outline-primary",onClick:()=>N(a.length-1),disabled:u<0||u>=a.length-1,children:a.length||1})]})}),(0,s.jsx)(dx,{})]}),(0,s.jsxs)("div",{className:"block",children:[(0,s.jsx)("h5",{className:"header",children:"Inference Settings"}),(0,s.jsxs)(Vi,{children:[(0,s.jsxs)(Vi.Group,{controlId:"providerType",className:"formBlock",children:[(0,s.jsx)(Vi.Label,{children:"Provider"}),(0,s.jsx)(Vi.Select,{value:e,onChange:e=>r([e.target.value,Q_[e.target.value]()]),children:Object.keys(Q_).map((e=>(0,s.jsx)("option",{children:e},e)))})]}),(0,s.jsx)("hr",{}),Object.entries(n.renderControls()).map((e=>{let[t,n]=e;return(0,s.jsx)(hx,{id:t,config:n,setter:L,value:o[t]},t)})),(0,s.jsx)(Sl,{children:(0,s.jsx)(ii,{variant:"secondary",onClick:q,children:"Save Settings to localStorage"})})]})]})]})]}),(0,s.jsx)(yx,{scenarioId:y,setScenarioId:v,commit:D}),(0,s.jsx)(fx,{show:b,onCancel:()=>w(!1),onFileUpload:A}),(0,s.jsx)(bx,{text:S,onClose:()=>k(void 0)}),(0,s.jsx)(vx,{show:_,onCancel:()=>x(!1),min:1,max:a.length,target:C,setTarget:E,onCommit:()=>{const e=parseInt(C);!isNaN(e)&&e>0&&e<=a.length&&(N(e-1),x(!1))}})]})};const _x=function(){const[e,n]=(0,t.useState)(0),[r,o]=(0,t.useState)("home"),i=(0,t.useRef)(new _l((()=>n((e=>e+1)))));let a;switch(r){case"home":a=(0,s.jsx)("p",{children:i.current.session?`Hello ${i.current.session.username}`:"Please Sign in!"});break;case"data":a=(0,s.jsx)(Ll,{});break;case"chat":a=(0,s.jsx)(Il,{});break;case"query":a=(0,s.jsx)(jl,{});break;case"trainer":a=(0,s.jsx)(wx,{});break;default:a=(0,s.jsx)("p",{children:r})}return(0,s.jsx)("div",{className:"App",children:(0,s.jsxs)(xl.Provider,{value:i.current,children:[(0,s.jsx)(Cl,{trigger:e,session:i.current.session,tab:r,setTab:o,assumeAs:i.current.assumedAs}),(0,s.jsx)("div",{className:"appBody",children:a})]})})},xx=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:o,getLCP:i,getTTFB:s}=t;n(e),r(e),o(e),i(e),s(e)}))};r.createRoot(document.getElementById("root")).render((0,s.jsx)(t.StrictMode,{children:(0,s.jsx)(_x,{})})),xx()})()})();
//# sourceMappingURL=main.d0647a62.js.map